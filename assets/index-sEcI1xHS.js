(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var qV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _A(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pp={exports:{}},tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function bA(){if(X_)return tu;X_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return tu.Fragment=e,tu.jsx=t,tu.jsxs=t,tu}var W_;function EA(){return W_||(W_=1,Pp.exports=bA()),Pp.exports}var j=EA(),Vp={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function TA(){if(Z_)return Be;Z_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function T(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,U={};function k(L,se,be){this.props=L,this.context=se,this.refs=U,this.updater=be||R}k.prototype.isReactComponent={},k.prototype.setState=function(L,se){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,se,"setState")},k.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function $(){}$.prototype=k.prototype;function B(L,se,be){this.props=L,this.context=se,this.refs=U,this.updater=be||R}var G=B.prototype=new $;G.constructor=B,O(G,k.prototype),G.isPureReactComponent=!0;var re=Array.isArray,ie={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function D(L,se,be,pe,me,ze){return be=ze.ref,{$$typeof:n,type:L,key:se,ref:be!==void 0?be:null,props:ze}}function x(L,se){return D(L.type,se,void 0,void 0,void 0,L.props)}function A(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function C(L){var se={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(be){return se[be]})}var P=/\/+/g;function V(L,se){return typeof L=="object"&&L!==null&&L.key!=null?C(""+L.key):se.toString(36)}function I(){}function Ae(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(I,I):(L.status="pending",L.then(function(se){L.status==="pending"&&(L.status="fulfilled",L.value=se)},function(se){L.status==="pending"&&(L.status="rejected",L.reason=se)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Ce(L,se,be,pe,me){var ze=typeof L;(ze==="undefined"||ze==="boolean")&&(L=null);var Pe=!1;if(L===null)Pe=!0;else switch(ze){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(L.$$typeof){case n:case e:Pe=!0;break;case v:return Pe=L._init,Ce(Pe(L._payload),se,be,pe,me)}}if(Pe)return me=me(L),Pe=pe===""?"."+V(L,0):pe,re(me)?(be="",Pe!=null&&(be=Pe.replace(P,"$&/")+"/"),Ce(me,se,be,"",function(pt){return pt})):me!=null&&(A(me)&&(me=x(me,be+(me.key==null||L&&L.key===me.key?"":(""+me.key).replace(P,"$&/")+"/")+Pe)),se.push(me)),1;Pe=0;var gt=pe===""?".":pe+":";if(re(L))for(var Qe=0;Qe<L.length;Qe++)pe=L[Qe],ze=gt+V(pe,Qe),Pe+=Ce(pe,se,be,ze,me);else if(Qe=T(L),typeof Qe=="function")for(L=Qe.call(L),Qe=0;!(pe=L.next()).done;)pe=pe.value,ze=gt+V(pe,Qe++),Pe+=Ce(pe,se,be,ze,me);else if(ze==="object"){if(typeof L.then=="function")return Ce(Ae(L),se,be,pe,me);throw se=String(L),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function oe(L,se,be){if(L==null)return L;var pe=[],me=0;return Ce(L,pe,"","",function(ze){return se.call(be,ze,me++)}),pe}function ge(L){if(L._status===-1){var se=L._result;se=se(),se.then(function(be){(L._status===0||L._status===-1)&&(L._status=1,L._result=be)},function(be){(L._status===0||L._status===-1)&&(L._status=2,L._result=be)}),L._status===-1&&(L._status=0,L._result=se)}if(L._status===1)return L._result.default;throw L._result}var ye=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Ie(){}return Be.Children={map:oe,forEach:function(L,se,be){oe(L,function(){se.apply(this,arguments)},be)},count:function(L){var se=0;return oe(L,function(){se++}),se},toArray:function(L){return oe(L,function(se){return se})||[]},only:function(L){if(!A(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Be.Component=k,Be.Fragment=t,Be.Profiler=a,Be.PureComponent=B,Be.StrictMode=i,Be.Suspense=p,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Be.act=function(){throw Error("act(...) is not supported in production builds of React.")},Be.cache=function(L){return function(){return L.apply(null,arguments)}},Be.cloneElement=function(L,se,be){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var pe=O({},L.props),me=L.key,ze=void 0;if(se!=null)for(Pe in se.ref!==void 0&&(ze=void 0),se.key!==void 0&&(me=""+se.key),se)!de.call(se,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&se.ref===void 0||(pe[Pe]=se[Pe]);var Pe=arguments.length-2;if(Pe===1)pe.children=be;else if(1<Pe){for(var gt=Array(Pe),Qe=0;Qe<Pe;Qe++)gt[Qe]=arguments[Qe+2];pe.children=gt}return D(L.type,me,void 0,void 0,ze,pe)},Be.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Be.createElement=function(L,se,be){var pe,me={},ze=null;if(se!=null)for(pe in se.key!==void 0&&(ze=""+se.key),se)de.call(se,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(me[pe]=se[pe]);var Pe=arguments.length-2;if(Pe===1)me.children=be;else if(1<Pe){for(var gt=Array(Pe),Qe=0;Qe<Pe;Qe++)gt[Qe]=arguments[Qe+2];me.children=gt}if(L&&L.defaultProps)for(pe in Pe=L.defaultProps,Pe)me[pe]===void 0&&(me[pe]=Pe[pe]);return D(L,ze,void 0,void 0,null,me)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(L){return{$$typeof:d,render:L}},Be.isValidElement=A,Be.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:ge}},Be.memo=function(L,se){return{$$typeof:g,type:L,compare:se===void 0?null:se}},Be.startTransition=function(L){var se=ie.T,be={};ie.T=be;try{var pe=L(),me=ie.S;me!==null&&me(be,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(Ie,ye)}catch(ze){ye(ze)}finally{ie.T=se}},Be.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Be.use=function(L){return ie.H.use(L)},Be.useActionState=function(L,se,be){return ie.H.useActionState(L,se,be)},Be.useCallback=function(L,se){return ie.H.useCallback(L,se)},Be.useContext=function(L){return ie.H.useContext(L)},Be.useDebugValue=function(){},Be.useDeferredValue=function(L,se){return ie.H.useDeferredValue(L,se)},Be.useEffect=function(L,se){return ie.H.useEffect(L,se)},Be.useId=function(){return ie.H.useId()},Be.useImperativeHandle=function(L,se,be){return ie.H.useImperativeHandle(L,se,be)},Be.useInsertionEffect=function(L,se){return ie.H.useInsertionEffect(L,se)},Be.useLayoutEffect=function(L,se){return ie.H.useLayoutEffect(L,se)},Be.useMemo=function(L,se){return ie.H.useMemo(L,se)},Be.useOptimistic=function(L,se){return ie.H.useOptimistic(L,se)},Be.useReducer=function(L,se,be){return ie.H.useReducer(L,se,be)},Be.useRef=function(L){return ie.H.useRef(L)},Be.useState=function(L){return ie.H.useState(L)},Be.useSyncExternalStore=function(L,se,be){return ie.H.useSyncExternalStore(L,se,be)},Be.useTransition=function(){return ie.H.useTransition()},Be.version="19.0.0",Be}var J_;function Gm(){return J_||(J_=1,Vp.exports=TA()),Vp.exports}var H=Gm();const ke=_A(H);var nu={},e0;function wA(){if(e0)return nu;e0=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.parse=c,nu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,R){const O=new l,U=T.length;if(U<2)return O;const k=(R==null?void 0:R.decode)||v;let $=0;do{const B=T.indexOf("=",$);if(B===-1)break;const G=T.indexOf(";",$),re=G===-1?U:G;if(B>re){$=T.lastIndexOf(";",B-1)+1;continue}const ie=d(T,$,B),de=p(T,B,ie),D=T.slice(ie,de);if(O[D]===void 0){let x=d(T,B+1,re),A=p(T,re,x);const C=k(T.slice(x,A));O[D]=C}$=re+1}while($<U);return O}function d(T,R,O){do{const U=T.charCodeAt(R);if(U!==32&&U!==9)return R}while(++R<O);return O}function p(T,R,O){for(;R>O;){const U=T.charCodeAt(--R);if(U!==32&&U!==9)return R+1}return O}function g(T,R,O){const U=(O==null?void 0:O.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const k=U(R);if(!e.test(k))throw new TypeError(`argument val is invalid: ${R}`);let $=T+"="+k;if(!O)return $;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);$+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);$+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);$+="; Path="+O.path}if(O.expires){if(!E(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);$+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&($+="; HttpOnly"),O.secure&&($+="; Secure"),O.partitioned&&($+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return $}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function E(T){return a.call(T)==="[object Date]"}return nu}wA();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var t0="popstate";function SA(n={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return im("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:vu(a)}return xA(e,t,null,n)}function bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Br(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AA(){return Math.random().toString(36).substring(2,10)}function n0(n,e){return{usr:n.state,key:n.key,idx:e}}function im(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?$o(e):e,state:t,key:e&&e.key||i||AA()}}function vu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function $o(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function xA(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function E(){d="POP";let k=v(),$=k==null?null:k-g;g=k,p&&p({action:d,location:U.location,delta:$})}function T(k,$){d="PUSH";let B=im(U.location,k,$);g=v()+1;let G=n0(B,g),re=U.createHref(B);try{c.pushState(G,"",re)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;a.location.assign(re)}l&&p&&p({action:d,location:U.location,delta:1})}function R(k,$){d="REPLACE";let B=im(U.location,k,$);g=v();let G=n0(B,g),re=U.createHref(B);c.replaceState(G,"",re),l&&p&&p({action:d,location:U.location,delta:0})}function O(k){let $=a.location.origin!=="null"?a.location.origin:a.location.href,B=typeof k=="string"?k:vu(k);return B=B.replace(/ $/,"%20"),bt($,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,$)}let U={get action(){return d},get location(){return n(a,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(t0,E),p=k,()=>{a.removeEventListener(t0,E),p=null}},createHref(k){return e(a,k)},createURL:O,encodeLocation(k){let $=O(k);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:T,replace:R,go(k){return c.go(k)}};return U}function RE(n,e,t="/"){return RA(n,e,t,!1)}function RA(n,e,t,i){let a=typeof e=="string"?$o(e):e,l=Rs(a.pathname||"/",t);if(l==null)return null;let c=CE(n);CA(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=jA(l);d=MA(c[p],g,i)}return d}function CE(n,e=[],t=[],i=""){let a=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(bt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let g=wi([i,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(bt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),CE(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:VA(g,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let p of IE(l.path))a(l,c,p)}),e}function IE(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=IE(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function CA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:LA(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var IA=/^:[\w-]+$/,OA=3,DA=2,NA=1,kA=10,PA=-2,r0=n=>n==="*";function VA(n,e){let t=n.split("/"),i=t.length;return t.some(r0)&&(i+=PA),e&&(i+=DA),t.filter(a=>!r0(a)).reduce((a,l)=>a+(IA.test(l)?OA:l===""?NA:kA),i)}function LA(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function MA(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=Mf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),T=p.route;if(!E&&g&&t&&!i[i.length-1].route.index&&(E=Mf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:wi([l,E.pathname]),pathnameBase:HA(wi([l,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(l=wi([l,E.pathnameBase]))}return c}function Mf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=UA(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:E},T)=>{if(v==="*"){let O=d[T]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const R=d[T];return E&&!R?g[v]=void 0:g[v]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function UA(n,e=!1,t=!0){Br(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function jA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Br(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Rs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function zA(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?$o(n):n;return{pathname:t?t.startsWith("/")?t:BA(t,e):e,search:qA(i),hash:$A(a)}}function BA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Lp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function OE(n){let e=FA(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function DE(n,e,t,i=!1){let a;typeof n=="string"?a=$o(n):(a={...n},bt(!a.pathname||!a.pathname.includes("?"),Lp("?","pathname","search",a)),bt(!a.pathname||!a.pathname.includes("#"),Lp("#","pathname","hash",a)),bt(!a.search||!a.search.includes("#"),Lp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;a.pathname=T.join("/")}d=E>=0?e[E]:"/"}let p=zA(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var wi=n=>n.join("/").replace(/\/\/+/g,"/"),HA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),qA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$A=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function GA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var NE=["POST","PUT","PATCH","DELETE"];new Set(NE);var KA=["GET",...NE];new Set(KA);var Go=H.createContext(null);Go.displayName="DataRouter";var dh=H.createContext(null);dh.displayName="DataRouterState";var kE=H.createContext({isTransitioning:!1});kE.displayName="ViewTransition";var QA=H.createContext(new Map);QA.displayName="Fetchers";var YA=H.createContext(null);YA.displayName="Await";var qr=H.createContext(null);qr.displayName="Navigation";var ku=H.createContext(null);ku.displayName="Location";var $r=H.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var Km=H.createContext(null);Km.displayName="RouteError";function XA(n,{relative:e}={}){bt(Pu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=H.useContext(qr),{hash:a,pathname:l,search:c}=Vu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:wi([t,l])),i.createHref({pathname:d,search:c,hash:a})}function Pu(){return H.useContext(ku)!=null}function Aa(){return bt(Pu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(ku).location}var PE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VE(n){H.useContext(qr).static||H.useLayoutEffect(n)}function WA(){let{isDataRoute:n}=H.useContext($r);return n?hx():ZA()}function ZA(){bt(Pu(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(Go),{basename:e,navigator:t}=H.useContext(qr),{matches:i}=H.useContext($r),{pathname:a}=Aa(),l=JSON.stringify(OE(i)),c=H.useRef(!1);return VE(()=>{c.current=!0}),H.useCallback((p,g={})=>{if(Br(c.current,PE),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=DE(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:wi([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,n])}var JA=H.createContext(null);function ex(n){let e=H.useContext($r).outlet;return e&&H.createElement(JA.Provider,{value:n},e)}function Vu(n,{relative:e}={}){let{matches:t}=H.useContext($r),{pathname:i}=Aa(),a=JSON.stringify(OE(t));return H.useMemo(()=>DE(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function tx(n,e){return LE(n,e)}function LE(n,e,t,i){var B;bt(Pu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=H.useContext(qr),{matches:c}=H.useContext($r),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",E=d&&d.route;{let G=E&&E.path||"";ME(g,!E||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let T=Aa(),R;if(e){let G=typeof e=="string"?$o(e):e;bt(v==="/"||((B=G.pathname)==null?void 0:B.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${G.pathname}" was given in the \`location\` prop.`),R=G}else R=T;let O=R.pathname||"/",U=O;if(v!=="/"){let G=v.replace(/^\//,"").split("/");U="/"+O.replace(/^\//,"").split("/").slice(G.length).join("/")}let k=!l&&t&&t.matches&&t.matches.length>0?t.matches:RE(n,{pathname:U});Br(E||k!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Br(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=ax(k&&k.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:wi([v,a.encodeLocation?a.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?v:wi([v,a.encodeLocation?a.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),c,t,i);return e&&$?H.createElement(ku.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},$):$}function nx(){let n=fx(),e=GA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=H.createElement(H.Fragment,null,H.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:l},"ErrorBoundary")," or"," ",H.createElement("code",{style:l},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:a},t):null,c)}var rx=H.createElement(nx,null),ix=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?H.createElement($r.Provider,{value:this.props.routeContext},H.createElement(Km.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sx({routeContext:n,match:e,children:t}){let i=H.useContext(Go);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement($r.Provider,{value:n},t)}function ax(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);bt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:E}=t,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||T){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,g,v)=>{let E,T=!1,R=null,O=null;t&&(E=l&&g.route.id?l[g.route.id]:void 0,R=g.route.errorElement||rx,c&&(d<0&&v===0?(ME("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,O=null):d===v&&(T=!0,O=g.route.hydrateFallbackElement||null)));let U=e.concat(a.slice(0,v+1)),k=()=>{let $;return E?$=R:T?$=O:g.route.Component?$=H.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,H.createElement(sx,{match:g,routeContext:{outlet:p,matches:U,isDataRoute:t!=null},children:$})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?H.createElement(ix,{location:t.location,revalidation:t.revalidation,component:R,error:E,children:k(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):k()},null)}function Qm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ox(n){let e=H.useContext(Go);return bt(e,Qm(n)),e}function lx(n){let e=H.useContext(dh);return bt(e,Qm(n)),e}function ux(n){let e=H.useContext($r);return bt(e,Qm(n)),e}function Ym(n){let e=ux(n),t=e.matches[e.matches.length-1];return bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function cx(){return Ym("useRouteId")}function fx(){var i;let n=H.useContext(Km),e=lx("useRouteError"),t=Ym("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function hx(){let{router:n}=ox("useNavigate"),e=Ym("useNavigate"),t=H.useRef(!1);return VE(()=>{t.current=!0}),H.useCallback(async(a,l={})=>{Br(t.current,PE),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var i0={};function ME(n,e,t){!e&&!i0[n]&&(i0[n]=!0,Br(!1,t))}H.memo(dx);function dx({routes:n,future:e,state:t}){return LE(n,void 0,t,e)}function px(n){return ex(n.context)}function ps(n){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mx({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){bt(!Pu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=H.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=$o(t));let{pathname:p="/",search:g="",hash:v="",state:E=null,key:T="default"}=t,R=H.useMemo(()=>{let O=Rs(p,c);return O==null?null:{location:{pathname:O,search:g,hash:v,state:E,key:T},navigationType:i}},[c,p,g,v,E,T,i]);return Br(R!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:H.createElement(qr.Provider,{value:d},H.createElement(ku.Provider,{children:e,value:R}))}function gx({children:n,location:e}){return tx(sm(n),e)}function sm(n,e=[]){let t=[];return H.Children.forEach(n,(i,a)=>{if(!H.isValidElement(i))return;let l=[...e,a];if(i.type===H.Fragment){t.push.apply(t,sm(i.props.children,l));return}bt(i.type===ps,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=sm(i.props.children,l)),t.push(c)}),t}var Sf="get",Af="application/x-www-form-urlencoded";function ph(n){return n!=null&&typeof n.tagName=="string"}function yx(n){return ph(n)&&n.tagName.toLowerCase()==="button"}function vx(n){return ph(n)&&n.tagName.toLowerCase()==="form"}function _x(n){return ph(n)&&n.tagName.toLowerCase()==="input"}function bx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Ex(n,e){return n.button===0&&(!e||e==="_self")&&!bx(n)}var mf=null;function Tx(){if(mf===null)try{new FormData(document.createElement("form"),0),mf=!1}catch{mf=!0}return mf}var wx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mp(n){return n!=null&&!wx.has(n)?(Br(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Af}"`),null):n}function Sx(n,e){let t,i,a,l,c;if(vx(n)){let d=n.getAttribute("action");i=d?Rs(d,e):null,t=n.getAttribute("method")||Sf,a=Mp(n.getAttribute("enctype"))||Af,l=new FormData(n)}else if(yx(n)||_x(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Rs(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Sf,a=Mp(n.getAttribute("formenctype"))||Mp(d.getAttribute("enctype"))||Af,l=new FormData(d,n),!Tx()){let{name:g,type:v,value:E}=n;if(v==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,E)}}else{if(ph(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sf,i=null,a=Af,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Xm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Ax(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Rx(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await Ax(l,t);return c.links?c.links():[]}return[]}));return Dx(i.flat(1).filter(xx).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function s0(n,e,t,i,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var E;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Cx(n,e,{includeHydrateFallback:t}={}){return Ix(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Ix(n){return[...new Set(n)]}function Ox(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Dx(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(Ox(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function Nx(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function kx(){let n=H.useContext(Go);return Xm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Px(){let n=H.useContext(dh);return Xm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Wm=H.createContext(void 0);Wm.displayName="FrameworkContext";function UE(){let n=H.useContext(Wm);return Xm(n,"You must render this element inside a <HydratedRouter> element"),n}function Vx(n,e){let t=H.useContext(Wm),[i,a]=H.useState(!1),[l,c]=H.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=e,T=H.useRef(null);H.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let U=$=>{$.forEach(B=>{c(B.isIntersecting)})},k=new IntersectionObserver(U,{threshold:.5});return T.current&&k.observe(T.current),()=>{k.disconnect()}}},[n]),H.useEffect(()=>{if(i){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[i]);let R=()=>{a(!0)},O=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:ru(d,R),onBlur:ru(p,O),onMouseEnter:ru(g,R),onMouseLeave:ru(v,O),onTouchStart:ru(E,R)}]:[!1,T,{}]}function ru(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Lx({page:n,...e}){let{router:t}=kx(),i=H.useMemo(()=>RE(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?H.createElement(Ux,{page:n,matches:i,...e}):null}function Mx(n){let{manifest:e,routeModules:t}=UE(),[i,a]=H.useState([]);return H.useEffect(()=>{let l=!1;return Rx(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function Ux({page:n,matches:e,...t}){let i=Aa(),{manifest:a,routeModules:l}=UE(),{loaderData:c,matches:d}=Px(),p=H.useMemo(()=>s0(n,e,d,a,i,"data"),[n,e,d,a,i]),g=H.useMemo(()=>s0(n,e,d,a,i,"assets"),[n,e,d,a,i]),v=H.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,O=!1;if(e.forEach(k=>{var B;let $=a.routes[k.route.id];!$||!$.hasLoader||(!p.some(G=>G.route.id===k.route.id)&&k.route.id in c&&((B=l[k.route.id])!=null&&B.shouldRevalidate)||$.hasClientLoader?O=!0:R.add(k.route.id))}),R.size===0)return[];let U=Nx(n);return O&&R.size>0&&U.searchParams.set("_routes",e.filter(k=>R.has(k.route.id)).map(k=>k.route.id).join(",")),[U.pathname+U.search]},[c,i,a,p,e,n,l]),E=H.useMemo(()=>Cx(g,a),[g,a]),T=Mx(g);return H.createElement(H.Fragment,null,v.map(R=>H.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),E.map(R=>H.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),T.map(({key:R,link:O})=>H.createElement("link",{key:R,...O})))}function jx(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jE&&(window.__reactRouterVersion="7.2.0")}catch{}function zx({basename:n,children:e,window:t}){let i=H.useRef();i.current==null&&(i.current=SA({window:t,v5Compat:!0}));let a=i.current,[l,c]=H.useState({action:a.action,location:a.location}),d=H.useCallback(p=>{H.startTransition(()=>c(p))},[c]);return H.useLayoutEffect(()=>a.listen(d),[a,d]),H.createElement(mx,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var zE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ft=H.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:E,...T},R){let{basename:O}=H.useContext(qr),U=typeof g=="string"&&zE.test(g),k,$=!1;if(typeof g=="string"&&U&&(k=g,jE))try{let A=new URL(window.location.href),C=g.startsWith("//")?new URL(A.protocol+g):new URL(g),P=Rs(C.pathname,O);C.origin===A.origin&&P!=null?g=P+C.search+C.hash:$=!0}catch{Br(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=XA(g,{relative:a}),[G,re,ie]=Vx(i,T),de=qx(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:a,viewTransition:E});function D(A){e&&e(A),A.defaultPrevented||de(A)}let x=H.createElement("a",{...T,...ie,href:k||B,onClick:$||l?e:D,ref:jx(R,re),target:p,"data-discover":!U&&t==="render"?"true":void 0});return G&&!U?H.createElement(H.Fragment,null,x,H.createElement(Lx,{page:B})):x});Ft.displayName="Link";var Bx=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let E=Vu(c,{relative:g.relative}),T=Aa(),R=H.useContext(dh),{navigator:O,basename:U}=H.useContext(qr),k=R!=null&&Yx(E)&&d===!0,$=O.encodeLocation?O.encodeLocation(E).pathname:E.pathname,B=T.pathname,G=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(B=B.toLowerCase(),G=G?G.toLowerCase():null,$=$.toLowerCase()),G&&U&&(G=Rs(G,U)||G);const re=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ie=B===$||!a&&B.startsWith($)&&B.charAt(re)==="/",de=G!=null&&(G===$||!a&&G.startsWith($)&&G.charAt($.length)==="/"),D={isActive:ie,isPending:de,isTransitioning:k},x=ie?e:void 0,A;typeof i=="function"?A=i(D):A=[i,ie?"active":null,de?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(D):l;return H.createElement(Ft,{...g,"aria-current":x,className:A,ref:v,style:C,to:c,viewTransition:d},typeof p=="function"?p(D):p)});Bx.displayName="NavLink";var Fx=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Sf,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:E,...T},R)=>{let O=Kx(),U=Qx(d,{relative:g}),k=c.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&zE.test(d),B=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let re=G.nativeEvent.submitter,ie=(re==null?void 0:re.getAttribute("formmethod"))||c;O(re||G.currentTarget,{fetcherKey:e,method:ie,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:E})};return H.createElement("form",{ref:R,method:k,action:U,onSubmit:i?p:B,...T,"data-discover":!$&&n==="render"?"true":void 0})});Fx.displayName="Form";function Hx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BE(n){let e=H.useContext(Go);return bt(e,Hx(n)),e}function qx(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=WA(),p=Aa(),g=Vu(n,{relative:l});return H.useCallback(v=>{if(Ex(v,e)){v.preventDefault();let E=t!==void 0?t:vu(p)===vu(g);d(n,{replace:E,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,g,t,i,e,n,a,l,c])}var $x=0,Gx=()=>`__${String(++$x)}__`;function Kx(){let{router:n}=BE("useSubmit"),{basename:e}=H.useContext(qr),t=cx();return H.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=Sx(i,e);if(a.navigate===!1){let v=a.fetcherKey||Gx();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function Qx(n,{relative:e}={}){let{basename:t}=H.useContext(qr),i=H.useContext($r);bt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Vu(n||".",{relative:e})},c=Aa();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:wi([t,l.pathname])),vu(l)}function Yx(n,e={}){let t=H.useContext(kE);bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=BE("useViewTransitionState"),a=Vu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Rs(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Rs(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Mf(a.pathname,c)!=null||Mf(a.pathname,l)!=null}new TextEncoder;var Up={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function Xx(){if(a0)return fn;a0=1;var n=Gm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,fn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},fn.flushSync=function(p){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=g,i.p=v,i.d.f()}},fn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},fn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},fn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:R}):v==="script"&&i.d.X(p,{crossOrigin:E,integrity:T,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},fn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},fn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},fn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},fn.requestFormReset=function(p){i.d.r(p)},fn.unstable_batchedUpdates=function(p,g){return p(g)},fn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},fn.version="19.0.0",fn}var o0;function FE(){if(o0)return Up.exports;o0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Up.exports=Xx(),Up.exports}FE();var jp={exports:{}},iu={},zp={exports:{}},Bp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function Wx(){return l0||(l0=1,function(n){function e(oe,ge){var ye=oe.length;oe.push(ge);e:for(;0<ye;){var Ie=ye-1>>>1,L=oe[Ie];if(0<a(L,ge))oe[Ie]=ge,oe[ye]=L,ye=Ie;else break e}}function t(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var ge=oe[0],ye=oe.pop();if(ye!==ge){oe[0]=ye;e:for(var Ie=0,L=oe.length,se=L>>>1;Ie<se;){var be=2*(Ie+1)-1,pe=oe[be],me=be+1,ze=oe[me];if(0>a(pe,ye))me<L&&0>a(ze,pe)?(oe[Ie]=ze,oe[me]=ye,Ie=me):(oe[Ie]=pe,oe[be]=ye,Ie=be);else if(me<L&&0>a(ze,ye))oe[Ie]=ze,oe[me]=ye,Ie=me;else break e}}return ge}function a(oe,ge){var ye=oe.sortIndex-ge.sortIndex;return ye!==0?ye:oe.id-ge.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,E=null,T=3,R=!1,O=!1,U=!1,k=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function G(oe){for(var ge=t(g);ge!==null;){if(ge.callback===null)i(g);else if(ge.startTime<=oe)i(g),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=t(g)}}function re(oe){if(U=!1,G(oe),!O)if(t(p)!==null)O=!0,Ae();else{var ge=t(g);ge!==null&&Ce(re,ge.startTime-oe)}}var ie=!1,de=-1,D=5,x=-1;function A(){return!(n.unstable_now()-x<D)}function C(){if(ie){var oe=n.unstable_now();x=oe;var ge=!0;try{e:{O=!1,U&&(U=!1,$(de),de=-1),R=!0;var ye=T;try{t:{for(G(oe),E=t(p);E!==null&&!(E.expirationTime>oe&&A());){var Ie=E.callback;if(typeof Ie=="function"){E.callback=null,T=E.priorityLevel;var L=Ie(E.expirationTime<=oe);if(oe=n.unstable_now(),typeof L=="function"){E.callback=L,G(oe),ge=!0;break t}E===t(p)&&i(p),G(oe)}else i(p);E=t(p)}if(E!==null)ge=!0;else{var se=t(g);se!==null&&Ce(re,se.startTime-oe),ge=!1}}break e}finally{E=null,T=ye,R=!1}ge=void 0}}finally{ge?P():ie=!1}}}var P;if(typeof B=="function")P=function(){B(C)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,I=V.port2;V.port1.onmessage=C,P=function(){I.postMessage(null)}}else P=function(){k(C,0)};function Ae(){ie||(ie=!0,P())}function Ce(oe,ge){de=k(function(){oe(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){O||R||(O=!0,Ae())},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(oe){switch(T){case 1:case 2:case 3:var ge=3;break;default:ge=T}var ye=T;T=ge;try{return oe()}finally{T=ye}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,ge){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ye=T;T=oe;try{return ge()}finally{T=ye}},n.unstable_scheduleCallback=function(oe,ge,ye){var Ie=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ie+ye:Ie):ye=Ie,oe){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ye+L,oe={id:v++,callback:ge,priorityLevel:oe,startTime:ye,expirationTime:L,sortIndex:-1},ye>Ie?(oe.sortIndex=ye,e(g,oe),t(p)===null&&oe===t(g)&&(U?($(de),de=-1):U=!0,Ce(re,ye-Ie))):(oe.sortIndex=L,e(p,oe),O||R||(O=!0,Ae())),oe},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(oe){var ge=T;return function(){var ye=T;T=ge;try{return oe.apply(this,arguments)}finally{T=ye}}}}(Bp)),Bp}var u0;function Zx(){return u0||(u0=1,zp.exports=Wx()),zp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function Jx(){if(c0)return iu;c0=1;var n=Zx(),e=Gm(),t=FE();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),re=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function de(r){return r===null||typeof r!="object"?null:(r=ie&&r[ie]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function x(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case p:return"Fragment";case d:return"Portal";case v:return"Profiler";case g:return"StrictMode";case U:return"Suspense";case k:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case R:return(r.displayName||"Context")+".Provider";case T:return(r._context.displayName||"Context")+".Consumer";case O:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case $:return s=r.displayName||null,s!==null?s:x(r.type)||"Memo";case B:s=r._payload,r=r._init;try{return x(r(s))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,P,V;function I(r){if(P===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);P=s&&s[1]||"",V=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+r+V}var Ae=!1;function Ce(r,s){if(!r||Ae)return"";Ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var X=J}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(J){X=J}r.call(ae.prototype)}}else{try{throw Error()}catch(J){X=J}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var N=b.split(`
`),F=w.split(`
`);for(h=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(u===N.length||h===F.length)for(u=N.length-1,h=F.length-1;1<=u&&0<=h&&N[u]!==F[h];)h--;for(;1<=u&&0<=h;u--,h--)if(N[u]!==F[h]){if(u!==1||h!==1)do if(u--,h--,0>h||N[u]!==F[h]){var ee=`
`+N[u].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),ee}while(1<=u&&0<=h);break}}}finally{Ae=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?I(o):""}function oe(r){switch(r.tag){case 26:case 27:case 5:return I(r.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return r=Ce(r.type,!1),r;case 11:return r=Ce(r.type.render,!1),r;case 1:return r=Ce(r.type,!0),r;default:return""}}function ge(r){try{var s="";do s+=oe(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ye(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function Ie(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function L(r){if(ye(r)!==r)throw Error(i(188))}function se(r){var s=r.alternate;if(!s){if(s=ye(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return L(h),r;if(m===u)return L(h),s;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=m;else{for(var b=!1,w=h.child;w;){if(w===o){b=!0,o=h,u=m;break}if(w===u){b=!0,u=h,o=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===o){b=!0,o=m,u=h;break}if(w===u){b=!0,u=m,o=h;break}w=w.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function be(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=be(r),s!==null)return s;r=r.sibling}return null}var pe=Array.isArray,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ze={pending:!1,data:null,method:null,action:null},Pe=[],gt=-1;function Qe(r){return{current:r}}function pt(r){0>gt||(r.current=Pe[gt],Pe[gt]=null,gt--)}function st(r,s){gt++,Pe[gt]=r.current,r.current=s}var Gt=Qe(null),tr=Qe(null),yn=Qe(null),nr=Qe(null);function Gr(r,s){switch(st(yn,s),st(tr,r),st(Gt,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?A_(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=A_(r),s=x_(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}pt(Gt),st(Gt,s)}function mr(){pt(Gt),pt(tr),pt(yn)}function Na(r){r.memoizedState!==null&&st(nr,r);var s=Gt.current,o=x_(s,r.type);s!==o&&(st(tr,r),st(Gt,o))}function M(r){tr.current===r&&(pt(Gt),pt(tr)),nr.current===r&&(pt(nr),Xl._currentValue=ze)}var Y=Object.prototype.hasOwnProperty,Z=n.unstable_scheduleCallback,he=n.unstable_cancelCallback,fe=n.unstable_shouldYield,ue=n.unstable_requestPaint,_e=n.unstable_now,je=n.unstable_getCurrentPriorityLevel,qe=n.unstable_ImmediatePriority,Ge=n.unstable_UserBlockingPriority,Kt=n.unstable_NormalPriority,ka=n.unstable_LowPriority,Kr=n.unstable_IdlePriority,Vs=n.log,Qr=n.unstable_setDisableYieldValue,rr=null,Qt=null;function Ni(r){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(rr,r,void 0,(r.current.flags&128)===128)}catch{}}function gr(r){if(typeof Vs=="function"&&Qr(r),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(rr,r)}catch{}}var vn=Math.clz32?Math.clz32:Xu,el=Math.log,Yu=Math.LN2;function Xu(r){return r>>>=0,r===0?32:31-(el(r)/Yu|0)|0}var yr=128,ki=4194304;function ir(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ln(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,h=r.suspendedLanes,m=r.pingedLanes,b=r.warmLanes;r=r.finishedLanes!==0;var w=o&134217727;return w!==0?(o=w&~h,o!==0?u=ir(o):(m&=w,m!==0?u=ir(m):r||(b=w&~b,b!==0&&(u=ir(b))))):(w=o&~h,w!==0?u=ir(w):m!==0?u=ir(m):r||(b=o&~b,b!==0&&(u=ir(b)))),u===0?0:s!==0&&s!==u&&(s&h)===0&&(h=u&-u,b=s&-s,h>=b||h===32&&(b&4194176)!==0)?s:u}function Pi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Pa(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tl(){var r=yr;return yr<<=1,(yr&4194176)===0&&(yr=128),r}function Vi(){var r=ki;return ki<<=1,(ki&62914560)===0&&(ki=4194304),r}function Va(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Rt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Wu(r,s,o,u,h,m){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var w=r.entanglements,N=r.expirationTimes,F=r.hiddenUpdates;for(o=b&~o;0<o;){var ee=31-vn(o),ae=1<<ee;w[ee]=0,N[ee]=-1;var X=F[ee];if(X!==null)for(F[ee]=null,ee=0;ee<X.length;ee++){var J=X[ee];J!==null&&(J.lane&=-536870913)}o&=~ae}u!==0&&Li(r,u,0),m!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=m&~(b&~s))}function Li(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-vn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function Mi(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-vn(o),h=1<<u;h&s|r[u]&s&&(r[u]|=s),o&=~h}}function Zu(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ju(){var r=me.p;return r!==0?r:(r=window.event,r===void 0?32:q_(r.type))}function Ui(r,s){var o=me.p;try{return me.p=r,s()}finally{me.p=o}}var vr=Math.random().toString(36).slice(2),Yt="__reactFiber$"+vr,Lt="__reactProps$"+vr,Yr="__reactContainer$"+vr,Ls="__reactEvents$"+vr,La="__reactListeners$"+vr,_r="__reactHandles$"+vr,nl="__reactResources$"+vr,ji="__reactMarker$"+vr;function Ms(r){delete r[Yt],delete r[Lt],delete r[Ls],delete r[La],delete r[_r]}function sr(r){var s=r[Yt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Yr]||o[Yt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=I_(r);r!==null;){if(o=r[Yt])return o;r=I_(r)}return s}r=o,o=r.parentNode}return null}function Xr(r){if(r=r[Yt]||r[Yr]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function zi(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Bi(r){var s=r[nl];return s||(s=r[nl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function yt(r){r[ji]=!0}var rl=new Set,Ma={};function In(r,s){An(r,s),An(r+"Capture",s)}function An(r,s){for(Ma[r]=s,r=0;r<s.length;r++)rl.add(s[r])}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),il={},sl={};function ec(r){return Y.call(sl,r)?!0:Y.call(il,r)?!1:Uh.test(r)?sl[r]=!0:(il[r]=!0,!1)}function Fi(r,s,o){if(ec(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Hi(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Mn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function _n(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function tc(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function jh(r){var s=tc(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(b){u=""+b,m.call(this,b)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Us(r){r._valueTracker||(r._valueTracker=jh(r))}function al(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=tc(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Ua(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Wr=/[\n"\\]/g;function Tt(r){return r.replace(Wr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function qi(r,s,o,u,h,m,b,w){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+_n(s)):r.value!==""+_n(s)&&(r.value=""+_n(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?ja(r,b,_n(s)):o!=null?ja(r,b,_n(o)):u!=null&&r.removeAttribute("value"),h==null&&m!=null&&(r.defaultChecked=!!m),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.name=""+_n(w):r.removeAttribute("name")}function js(r,s,o,u,h,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;o=o!=null?""+_n(o):"",s=s!=null?""+_n(s):o,w||s===r.value||(r.value=s),r.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=w?r.checked:!!u,r.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function ja(r,s,o){s==="number"&&Ua(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function nt(r,s,o,u){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+_n(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function zs(r,s,o){if(s!=null&&(s=""+_n(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+_n(o):""}function $i(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(pe(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=_n(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Un(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var zh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ol(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||zh.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function nc(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&ol(r,h,u)}else for(var m in s)s.hasOwnProperty(m)&&ol(r,m,s[m])}function ll(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function br(r){return Fh.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var jn=null;function za(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Zr=null,Jr=null;function ei(r){var s=Xr(r);if(s&&(r=s.stateNode)){var o=r[Lt]||null;e:switch(r=s.stateNode,s.type){case"input":if(qi(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Tt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var h=u[Lt]||null;if(!h)throw Error(i(90));qi(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&al(u)}break e;case"textarea":zs(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&nt(r,!!o.multiple,s,!1)}}}var ul=!1;function rc(r,s,o){if(ul)return r(s,o);ul=!0;try{var u=r(s);return u}finally{if(ul=!1,(Zr!==null||Jr!==null)&&(Qc(),Zr&&(s=Zr,r=Jr,Jr=Zr=null,ei(s),r)))for(s=0;s<r.length;s++)ei(r[s])}}function Bs(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Lt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var zn=!1;if(On)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){zn=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{zn=!1}var Er=null,Gi=null,ti=null;function cl(){if(ti)return ti;var r,s=Gi,o=s.length,u,h="value"in Er?Er.value:Er.textContent,m=h.length;for(r=0;r<o&&s[r]===h[r];r++);var b=o-r;for(u=1;u<=b&&s[o-u]===h[m-u];u++);return ti=h.slice(r,1<u?1-u:void 0)}function Tr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function wr(){return!0}function fl(){return!1}function Xt(r){function s(o,u,h,m,b){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(o=r[w],this[w]=o?o(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?wr:fl,this.isPropagationStopped=fl,this}return C(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),s}var ot={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=Xt(ot),Hs=C({},ot,{view:0,detail:0}),ic=Xt(Hs),Fa,Ha,Sr,qs=C({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Sr&&(Sr&&r.type==="mousemove"?(Fa=r.screenX-Sr.screenX,Ha=r.screenY-Sr.screenY):Ha=Fa=0,Sr=r),Fa)},movementY:function(r){return"movementY"in r?r.movementY:Ha}}),Bn=Xt(qs),sc=C({},qs,{dataTransfer:0}),Hh=Xt(sc),$s=C({},Hs,{relatedTarget:0}),qa=Xt($s),hl=C({},ot,{animationName:0,elapsedTime:0,pseudoElement:0}),$a=Xt(hl),ac=C({},ot,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ga=Xt(ac),qh=C({},ot,{data:0}),dl=Xt(qh),Gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=lc[r])?!!s[r]:!1}function Ks(){return pl}var uc=C({},Hs,{key:function(r){if(r.key){var s=Gs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Tr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?oc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(r){return r.type==="keypress"?Tr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Tr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ka=Xt(uc),cc=C({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=Xt(cc),ni=C({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),fc=Xt(ni),hc=C({},ot,{propertyName:0,elapsedTime:0,pseudoElement:0}),dc=Xt(hc),pc=C({},qs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Qa=Xt(pc),bn=C({},ot,{newState:0,oldState:0}),mc=Xt(bn),gc=[9,13,27,32],Ar=On&&"CompositionEvent"in window,f=null;On&&"documentMode"in document&&(f=document.documentMode);var y=On&&"TextEvent"in window&&!f,_=On&&(!Ar||f&&8<f&&11>=f),S=" ",K=!1;function W(r,s){switch(r){case"keyup":return gc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ze=!1;function Mt(r,s){switch(r){case"compositionend":return ce(s);case"keypress":return s.which!==32?null:(K=!0,S);case"textInput":return r=s.data,r===S&&K?null:r;default:return null}}function Je(r,s){if(Ze)return r==="compositionend"||!Ar&&W(r,s)?(r=cl(),ti=Gi=Er=null,Ze=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Wt[r.type]:s==="textarea"}function ri(r,s,o,u){Zr?Jr?Jr.push(u):Jr=[u]:Zr=u,s=Jc(s,"onChange"),0<s.length&&(o=new Ba("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var nn=null,xr=null;function gl(r){b_(r,0)}function yc(r){var s=zi(r);if(al(s))return r}function Yg(r,s){if(r==="change")return s}var Xg=!1;if(On){var $h;if(On){var Gh="oninput"in document;if(!Gh){var Wg=document.createElement("div");Wg.setAttribute("oninput","return;"),Gh=typeof Wg.oninput=="function"}$h=Gh}else $h=!1;Xg=$h&&(!document.documentMode||9<document.documentMode)}function Zg(){nn&&(nn.detachEvent("onpropertychange",Jg),xr=nn=null)}function Jg(r){if(r.propertyName==="value"&&yc(xr)){var s=[];ri(s,xr,r,za(r)),rc(gl,s)}}function Yw(r,s,o){r==="focusin"?(Zg(),nn=s,xr=o,nn.attachEvent("onpropertychange",Jg)):r==="focusout"&&Zg()}function Xw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return yc(xr)}function Ww(r,s){if(r==="click")return yc(s)}function Zw(r,s){if(r==="input"||r==="change")return yc(s)}function Jw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Dn=typeof Object.is=="function"?Object.is:Jw;function yl(r,s){if(Dn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!Y.call(s,h)||!Dn(r[h],s[h]))return!1}return!0}function ey(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ty(r,s){var o=ey(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ey(o)}}function ny(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?ny(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function ry(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ua(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Ua(r.document)}return s}function Kh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function eS(r,s){var o=ry(s);s=r.focusedElem;var u=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&ny(s.ownerDocument.documentElement,s)){if(u!==null&&Kh(s)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var h=s.textContent.length,m=Math.min(u.start,h);u=u.end===void 0?m:Math.min(u.end,h),!o.extend&&m>u&&(h=u,u=m,m=h),h=ty(s,m);var b=ty(s,u);h&&b&&(o.rangeCount!==1||o.anchorNode!==h.node||o.anchorOffset!==h.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),o.removeAllRanges(),m>u?(o.addRange(r),o.extend(b.node,b.offset)):(r.setEnd(b.node,b.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var tS=On&&"documentMode"in document&&11>=document.documentMode,Ya=null,Qh=null,vl=null,Yh=!1;function iy(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Yh||Ya==null||Ya!==Ua(u)||(u=Ya,"selectionStart"in u&&Kh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),vl&&yl(vl,u)||(vl=u,u=Jc(Qh,"onSelect"),0<u.length&&(s=new Ba("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Ya)))}function Qs(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Xa={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},Xh={},sy={};On&&(sy=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function Ys(r){if(Xh[r])return Xh[r];if(!Xa[r])return r;var s=Xa[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in sy)return Xh[r]=s[o];return r}var ay=Ys("animationend"),oy=Ys("animationiteration"),ly=Ys("animationstart"),nS=Ys("transitionrun"),rS=Ys("transitionstart"),iS=Ys("transitioncancel"),uy=Ys("transitionend"),cy=new Map,fy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ar(r,s){cy.set(r,s),In(s,[r])}var Fn=[],Wa=0,Wh=0;function vc(){for(var r=Wa,s=Wh=Wa=0;s<r;){var o=Fn[s];Fn[s++]=null;var u=Fn[s];Fn[s++]=null;var h=Fn[s];Fn[s++]=null;var m=Fn[s];if(Fn[s++]=null,u!==null&&h!==null){var b=u.pending;b===null?h.next=h:(h.next=b.next,b.next=h),u.pending=h}m!==0&&hy(o,h,m)}}function _c(r,s,o,u){Fn[Wa++]=r,Fn[Wa++]=s,Fn[Wa++]=o,Fn[Wa++]=u,Wh|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Zh(r,s,o,u){return _c(r,s,o,u),bc(r)}function Ki(r,s){return _c(r,null,null,s),bc(r)}function hy(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(h=!0)),r=m,m=m.return;h&&s!==null&&r.tag===3&&(m=r.stateNode,h=31-vn(o),m=m.hiddenUpdates,r=m[h],r===null?m[h]=[s]:r.push(s),s.lane=o|536870912)}function bc(r){if(50<Hl)throw Hl=0,ip=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Za={},dy=new WeakMap;function Hn(r,s){if(typeof r=="object"&&r!==null){var o=dy.get(r);return o!==void 0?o:(s={value:r,source:s,stack:ge(s)},dy.set(r,s),s)}return{value:r,source:s,stack:ge(s)}}var Ja=[],eo=0,Ec=null,Tc=0,qn=[],$n=0,Xs=null,ii=1,si="";function Ws(r,s){Ja[eo++]=Tc,Ja[eo++]=Ec,Ec=r,Tc=s}function py(r,s,o){qn[$n++]=ii,qn[$n++]=si,qn[$n++]=Xs,Xs=r;var u=ii;r=si;var h=32-vn(u)-1;u&=~(1<<h),o+=1;var m=32-vn(s)+h;if(30<m){var b=h-h%5;m=(u&(1<<b)-1).toString(32),u>>=b,h-=b,ii=1<<32-vn(s)+h|o<<h|u,si=m+r}else ii=1<<m|o<<h|u,si=r}function Jh(r){r.return!==null&&(Ws(r,1),py(r,1,0))}function ed(r){for(;r===Ec;)Ec=Ja[--eo],Ja[eo]=null,Tc=Ja[--eo],Ja[eo]=null;for(;r===Xs;)Xs=qn[--$n],qn[$n]=null,si=qn[--$n],qn[$n]=null,ii=qn[--$n],qn[$n]=null}var En=null,rn=null,rt=!1,or=null,Rr=!1,td=Error(i(519));function Zs(r){var s=Error(i(418,""));throw El(Hn(s,r)),td}function my(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Yt]=r,s[Lt]=u,o){case"dialog":We("cancel",s),We("close",s);break;case"iframe":case"object":case"embed":We("load",s);break;case"video":case"audio":for(o=0;o<$l.length;o++)We($l[o],s);break;case"source":We("error",s);break;case"img":case"image":case"link":We("error",s),We("load",s);break;case"details":We("toggle",s);break;case"input":We("invalid",s),js(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Us(s);break;case"select":We("invalid",s);break;case"textarea":We("invalid",s),$i(s,u.value,u.defaultValue,u.children),Us(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||S_(s.textContent,o)?(u.popover!=null&&(We("beforetoggle",s),We("toggle",s)),u.onScroll!=null&&We("scroll",s),u.onScrollEnd!=null&&We("scrollend",s),u.onClick!=null&&(s.onclick=ef),s=!0):s=!1,s||Zs(r)}function gy(r){for(En=r.return;En;)switch(En.tag){case 3:case 27:Rr=!0;return;case 5:case 13:Rr=!1;return;default:En=En.return}}function _l(r){if(r!==En)return!1;if(!rt)return gy(r),rt=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Ep(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&rn&&Zs(r),gy(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){rn=ur(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}rn=null}}else rn=En?ur(r.stateNode.nextSibling):null;return!0}function bl(){rn=En=null,rt=!1}function El(r){or===null?or=[r]:or.push(r)}var Tl=Error(i(460)),yy=Error(i(474)),nd={then:function(){}};function vy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function wc(){}function _y(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(wc,wc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Tl?Error(i(483)):r;default:if(typeof s.status=="string")s.then(wc,wc);else{if(r=ht,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Tl?Error(i(483)):r}throw wl=s,Tl}}var wl=null;function by(){if(wl===null)throw Error(i(459));var r=wl;return wl=null,r}var to=null,Sl=0;function Sc(r){var s=Sl;return Sl+=1,to===null&&(to=[]),_y(to,r,s)}function Al(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Ac(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Ey(r){var s=r._init;return s(r._payload)}function Ty(r){function s(q,z){if(r){var Q=q.deletions;Q===null?(q.deletions=[z],q.flags|=16):Q.push(z)}}function o(q,z){if(!r)return null;for(;z!==null;)s(q,z),z=z.sibling;return null}function u(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function h(q,z){return q=ss(q,z),q.index=0,q.sibling=null,q}function m(q,z,Q){return q.index=Q,r?(Q=q.alternate,Q!==null?(Q=Q.index,Q<z?(q.flags|=33554434,z):Q):(q.flags|=33554434,z)):(q.flags|=1048576,z)}function b(q){return r&&q.alternate===null&&(q.flags|=33554434),q}function w(q,z,Q,te){return z===null||z.tag!==6?(z=Xd(Q,q.mode,te),z.return=q,z):(z=h(z,Q),z.return=q,z)}function N(q,z,Q,te){var Ee=Q.type;return Ee===p?ee(q,z,Q.props.children,te,Q.key):z!==null&&(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===B&&Ey(Ee)===z.type)?(z=h(z,Q.props),Al(z,Q),z.return=q,z):(z=Hc(Q.type,Q.key,Q.props,null,q.mode,te),Al(z,Q),z.return=q,z)}function F(q,z,Q,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=Wd(Q,q.mode,te),z.return=q,z):(z=h(z,Q.children||[]),z.return=q,z)}function ee(q,z,Q,te,Ee){return z===null||z.tag!==7?(z=la(Q,q.mode,te,Ee),z.return=q,z):(z=h(z,Q),z.return=q,z)}function ae(q,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Xd(""+z,q.mode,Q),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case c:return Q=Hc(z.type,z.key,z.props,null,q.mode,Q),Al(Q,z),Q.return=q,Q;case d:return z=Wd(z,q.mode,Q),z.return=q,z;case B:var te=z._init;return z=te(z._payload),ae(q,z,Q)}if(pe(z)||de(z))return z=la(z,q.mode,Q,null),z.return=q,z;if(typeof z.then=="function")return ae(q,Sc(z),Q);if(z.$$typeof===R)return ae(q,zc(q,z),Q);Ac(q,z)}return null}function X(q,z,Q,te){var Ee=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ee!==null?null:w(q,z,""+Q,te);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case c:return Q.key===Ee?N(q,z,Q,te):null;case d:return Q.key===Ee?F(q,z,Q,te):null;case B:return Ee=Q._init,Q=Ee(Q._payload),X(q,z,Q,te)}if(pe(Q)||de(Q))return Ee!==null?null:ee(q,z,Q,te,null);if(typeof Q.then=="function")return X(q,z,Sc(Q),te);if(Q.$$typeof===R)return X(q,z,zc(q,Q),te);Ac(q,Q)}return null}function J(q,z,Q,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return q=q.get(Q)||null,w(z,q,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case c:return q=q.get(te.key===null?Q:te.key)||null,N(z,q,te,Ee);case d:return q=q.get(te.key===null?Q:te.key)||null,F(z,q,te,Ee);case B:var $e=te._init;return te=$e(te._payload),J(q,z,Q,te,Ee)}if(pe(te)||de(te))return q=q.get(Q)||null,ee(z,q,te,Ee,null);if(typeof te.then=="function")return J(q,z,Q,Sc(te),Ee);if(te.$$typeof===R)return J(q,z,Q,zc(z,te),Ee);Ac(z,te)}return null}function we(q,z,Q,te){for(var Ee=null,$e=null,Se=z,Oe=z=0,en=null;Se!==null&&Oe<Q.length;Oe++){Se.index>Oe?(en=Se,Se=null):en=Se.sibling;var it=X(q,Se,Q[Oe],te);if(it===null){Se===null&&(Se=en);break}r&&Se&&it.alternate===null&&s(q,Se),z=m(it,z,Oe),$e===null?Ee=it:$e.sibling=it,$e=it,Se=en}if(Oe===Q.length)return o(q,Se),rt&&Ws(q,Oe),Ee;if(Se===null){for(;Oe<Q.length;Oe++)Se=ae(q,Q[Oe],te),Se!==null&&(z=m(Se,z,Oe),$e===null?Ee=Se:$e.sibling=Se,$e=Se);return rt&&Ws(q,Oe),Ee}for(Se=u(Se);Oe<Q.length;Oe++)en=J(Se,q,Oe,Q[Oe],te),en!==null&&(r&&en.alternate!==null&&Se.delete(en.key===null?Oe:en.key),z=m(en,z,Oe),$e===null?Ee=en:$e.sibling=en,$e=en);return r&&Se.forEach(function(hs){return s(q,hs)}),rt&&Ws(q,Oe),Ee}function Me(q,z,Q,te){if(Q==null)throw Error(i(151));for(var Ee=null,$e=null,Se=z,Oe=z=0,en=null,it=Q.next();Se!==null&&!it.done;Oe++,it=Q.next()){Se.index>Oe?(en=Se,Se=null):en=Se.sibling;var hs=X(q,Se,it.value,te);if(hs===null){Se===null&&(Se=en);break}r&&Se&&hs.alternate===null&&s(q,Se),z=m(hs,z,Oe),$e===null?Ee=hs:$e.sibling=hs,$e=hs,Se=en}if(it.done)return o(q,Se),rt&&Ws(q,Oe),Ee;if(Se===null){for(;!it.done;Oe++,it=Q.next())it=ae(q,it.value,te),it!==null&&(z=m(it,z,Oe),$e===null?Ee=it:$e.sibling=it,$e=it);return rt&&Ws(q,Oe),Ee}for(Se=u(Se);!it.done;Oe++,it=Q.next())it=J(Se,q,Oe,it.value,te),it!==null&&(r&&it.alternate!==null&&Se.delete(it.key===null?Oe:it.key),z=m(it,z,Oe),$e===null?Ee=it:$e.sibling=it,$e=it);return r&&Se.forEach(function(vA){return s(q,vA)}),rt&&Ws(q,Oe),Ee}function At(q,z,Q,te){if(typeof Q=="object"&&Q!==null&&Q.type===p&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case c:e:{for(var Ee=Q.key;z!==null;){if(z.key===Ee){if(Ee=Q.type,Ee===p){if(z.tag===7){o(q,z.sibling),te=h(z,Q.props.children),te.return=q,q=te;break e}}else if(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===B&&Ey(Ee)===z.type){o(q,z.sibling),te=h(z,Q.props),Al(te,Q),te.return=q,q=te;break e}o(q,z);break}else s(q,z);z=z.sibling}Q.type===p?(te=la(Q.props.children,q.mode,te,Q.key),te.return=q,q=te):(te=Hc(Q.type,Q.key,Q.props,null,q.mode,te),Al(te,Q),te.return=q,q=te)}return b(q);case d:e:{for(Ee=Q.key;z!==null;){if(z.key===Ee)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){o(q,z.sibling),te=h(z,Q.children||[]),te.return=q,q=te;break e}else{o(q,z);break}else s(q,z);z=z.sibling}te=Wd(Q,q.mode,te),te.return=q,q=te}return b(q);case B:return Ee=Q._init,Q=Ee(Q._payload),At(q,z,Q,te)}if(pe(Q))return we(q,z,Q,te);if(de(Q)){if(Ee=de(Q),typeof Ee!="function")throw Error(i(150));return Q=Ee.call(Q),Me(q,z,Q,te)}if(typeof Q.then=="function")return At(q,z,Sc(Q),te);if(Q.$$typeof===R)return At(q,z,zc(q,Q),te);Ac(q,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,z!==null&&z.tag===6?(o(q,z.sibling),te=h(z,Q),te.return=q,q=te):(o(q,z),te=Xd(Q,q.mode,te),te.return=q,q=te),b(q)):o(q,z)}return function(q,z,Q,te){try{Sl=0;var Ee=At(q,z,Q,te);return to=null,Ee}catch(Se){if(Se===Tl)throw Se;var $e=Yn(29,Se,null,q.mode);return $e.lanes=te,$e.return=q,$e}finally{}}}var Js=Ty(!0),wy=Ty(!1),no=Qe(null),xc=Qe(0);function Sy(r,s){r=gi,st(xc,r),st(no,s),gi=r|s.baseLanes}function rd(){st(xc,gi),st(no,no.current)}function id(){gi=xc.current,pt(no),pt(xc)}var Gn=Qe(null),Cr=null;function Qi(r){var s=r.alternate;st(jt,jt.current&1),st(Gn,r),Cr===null&&(s===null||no.current!==null||s.memoizedState!==null)&&(Cr=r)}function Ay(r){if(r.tag===22){if(st(jt,jt.current),st(Gn,r),Cr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Cr=r)}}else Yi()}function Yi(){st(jt,jt.current),st(Gn,Gn.current)}function ai(r){pt(Gn),Cr===r&&(Cr=null),pt(jt)}var jt=Qe(0);function Rc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var sS=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},aS=n.unstable_scheduleCallback,oS=n.unstable_NormalPriority,zt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sd(){return{controller:new sS,data:new Map,refCount:0}}function xl(r){r.refCount--,r.refCount===0&&aS(oS,function(){r.controller.abort()})}var Rl=null,ad=0,ro=0,io=null;function lS(r,s){if(Rl===null){var o=Rl=[];ad=0,ro=hp(),io={status:"pending",value:void 0,then:function(u){o.push(u)}}}return ad++,s.then(xy,xy),s}function xy(){if(--ad===0&&Rl!==null){io!==null&&(io.status="fulfilled");var r=Rl;Rl=null,ro=0,io=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function uS(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var Ry=A.S;A.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&lS(r,s),Ry!==null&&Ry(r,s)};var ea=Qe(null);function od(){var r=ea.current;return r!==null?r:ht.pooledCache}function Cc(r,s){s===null?st(ea,ea.current):st(ea,s.pool)}function Cy(){var r=od();return r===null?null:{parent:zt._currentValue,pool:r}}var Xi=0,Fe=null,ut=null,Dt=null,Ic=!1,so=!1,ta=!1,Oc=0,Cl=0,ao=null,cS=0;function Ct(){throw Error(i(321))}function ld(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Dn(r[o],s[o]))return!1;return!0}function ud(r,s,o,u,h,m){return Xi=m,Fe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,A.H=r===null||r.memoizedState===null?na:Wi,ta=!1,m=o(u,h),ta=!1,so&&(m=Oy(s,o,u,h)),Iy(r),m}function Iy(r){A.H=Ir;var s=ut!==null&&ut.next!==null;if(Xi=0,Dt=ut=Fe=null,Ic=!1,Cl=0,ao=null,s)throw Error(i(300));r===null||Zt||(r=r.dependencies,r!==null&&jc(r)&&(Zt=!0))}function Oy(r,s,o,u){Fe=r;var h=0;do{if(so&&(ao=null),Cl=0,so=!1,25<=h)throw Error(i(301));if(h+=1,Dt=ut=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}A.H=ra,m=s(o,u)}while(so);return m}function fS(){var r=A.H,s=r.useState()[0];return s=typeof s.then=="function"?Il(s):s,r=r.useState()[0],(ut!==null?ut.memoizedState:null)!==r&&(Fe.flags|=1024),s}function cd(){var r=Oc!==0;return Oc=0,r}function fd(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function hd(r){if(Ic){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ic=!1}Xi=0,Dt=ut=Fe=null,so=!1,Cl=Oc=0,ao=null}function xn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Fe.memoizedState=Dt=r:Dt=Dt.next=r,Dt}function Nt(){if(ut===null){var r=Fe.alternate;r=r!==null?r.memoizedState:null}else r=ut.next;var s=Dt===null?Fe.memoizedState:Dt.next;if(s!==null)Dt=s,ut=r;else{if(r===null)throw Fe.alternate===null?Error(i(467)):Error(i(310));ut=r,r={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Dt===null?Fe.memoizedState=Dt=r:Dt=Dt.next=r}return Dt}var Dc;Dc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Il(r){var s=Cl;return Cl+=1,ao===null&&(ao=[]),r=_y(ao,r,s),s=Fe,(Dt===null?s.memoizedState:Dt.next)===null&&(s=s.alternate,A.H=s===null||s.memoizedState===null?na:Wi),r}function Nc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Il(r);if(r.$$typeof===R)return cn(r)}throw Error(i(438,String(r)))}function dd(r){var s=null,o=Fe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Fe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Dc(),Fe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=re;return s.index++,o}function oi(r,s){return typeof s=="function"?s(r):s}function kc(r){var s=Nt();return pd(s,ut,r)}function pd(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,m=u.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}s.baseQueue=h=m,u.pending=null}if(m=r.baseState,h===null)r.memoizedState=m;else{s=h.next;var w=b=null,N=null,F=s,ee=!1;do{var ae=F.lane&-536870913;if(ae!==F.lane?(et&ae)===ae:(Xi&ae)===ae){var X=F.revertLane;if(X===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ae===ro&&(ee=!0);else if((Xi&X)===X){F=F.next,X===ro&&(ee=!0);continue}else ae={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(w=N=ae,b=m):N=N.next=ae,Fe.lanes|=X,as|=X;ae=F.action,ta&&o(m,ae),m=F.hasEagerState?F.eagerState:o(m,ae)}else X={lane:ae,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(w=N=X,b=m):N=N.next=X,Fe.lanes|=ae,as|=ae;F=F.next}while(F!==null&&F!==s);if(N===null?b=m:N.next=w,!Dn(m,r.memoizedState)&&(Zt=!0,ee&&(o=io,o!==null)))throw o;r.memoizedState=m,r.baseState=b,r.baseQueue=N,u.lastRenderedState=m}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function md(r){var s=Nt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,m=s.memoizedState;if(h!==null){o.pending=null;var b=h=h.next;do m=r(m,b.action),b=b.next;while(b!==h);Dn(m,s.memoizedState)||(Zt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function Dy(r,s,o){var u=Fe,h=Nt(),m=rt;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!Dn((ut||h).memoizedState,o);if(b&&(h.memoizedState=o,Zt=!0),h=h.queue,vd(Py.bind(null,u,h,r),[r]),h.getSnapshot!==s||b||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,oo(9,ky.bind(null,u,h,o,s),{destroy:void 0},null),ht===null)throw Error(i(349));m||(Xi&60)!==0||Ny(u,s,o)}return o}function Ny(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Fe.updateQueue,s===null?(s=Dc(),Fe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function ky(r,s,o,u){s.value=o,s.getSnapshot=u,Vy(s)&&Ly(r)}function Py(r,s,o){return o(function(){Vy(s)&&Ly(r)})}function Vy(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Dn(r,o)}catch{return!0}}function Ly(r){var s=Ki(r,2);s!==null&&Tn(s,r,2)}function gd(r){var s=xn();if(typeof r=="function"){var o=r;if(r=o(),ta){gr(!0);try{o()}finally{gr(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:r},s}function My(r,s,o,u){return r.baseState=o,pd(r,ut,typeof u=="function"?u:oi)}function hS(r,s,o,u,h){if(Lc(r))throw Error(i(485));if(r=s.action,r!==null){var m={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};A.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,Uy(s,m)):(m.next=o.next,s.pending=o.next=m)}}function Uy(r,s){var o=s.action,u=s.payload,h=r.state;if(s.isTransition){var m=A.T,b={};A.T=b;try{var w=o(h,u),N=A.S;N!==null&&N(b,w),jy(r,s,w)}catch(F){yd(r,s,F)}finally{A.T=m}}else try{m=o(h,u),jy(r,s,m)}catch(F){yd(r,s,F)}}function jy(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){zy(r,s,u)},function(u){return yd(r,s,u)}):zy(r,s,o)}function zy(r,s,o){s.status="fulfilled",s.value=o,By(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Uy(r,o)))}function yd(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,By(s),s=s.next;while(s!==u)}r.action=null}function By(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Fy(r,s){return s}function Hy(r,s){if(rt){var o=ht.formState;if(o!==null){e:{var u=Fe;if(rt){if(rn){t:{for(var h=rn,m=Rr;h.nodeType!==8;){if(!m){h=null;break t}if(h=ur(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){rn=ur(h.nextSibling),u=h.data==="F!";break e}}Zs(u)}u=!1}u&&(s=o[0])}}return o=xn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fy,lastRenderedState:s},o.queue=u,o=ov.bind(null,Fe,u),u.dispatch=o,u=gd(!1),m=wd.bind(null,Fe,!1,u.queue),u=xn(),h={state:s,dispatch:null,action:r,pending:null},u.queue=h,o=hS.bind(null,Fe,h,m,o),h.dispatch=o,u.memoizedState=r,[s,o,!1]}function qy(r){var s=Nt();return $y(s,ut,r)}function $y(r,s,o){s=pd(r,s,Fy)[0],r=kc(oi)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Il(s):s;var u=Nt(),h=u.queue,m=h.dispatch;return o!==u.memoizedState&&(Fe.flags|=2048,oo(9,dS.bind(null,h,o),{destroy:void 0},null)),[s,m,r]}function dS(r,s){r.action=s}function Gy(r){var s=Nt(),o=ut;if(o!==null)return $y(s,o,r);Nt(),s=s.memoizedState,o=Nt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function oo(r,s,o,u){return r={tag:r,create:s,inst:o,deps:u,next:null},s=Fe.updateQueue,s===null&&(s=Dc(),Fe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Ky(){return Nt().memoizedState}function Pc(r,s,o,u){var h=xn();Fe.flags|=r,h.memoizedState=oo(1|s,o,{destroy:void 0},u===void 0?null:u)}function Vc(r,s,o,u){var h=Nt();u=u===void 0?null:u;var m=h.memoizedState.inst;ut!==null&&u!==null&&ld(u,ut.memoizedState.deps)?h.memoizedState=oo(s,o,m,u):(Fe.flags|=r,h.memoizedState=oo(1|s,o,m,u))}function Qy(r,s){Pc(8390656,8,r,s)}function vd(r,s){Vc(2048,8,r,s)}function Yy(r,s){return Vc(4,2,r,s)}function Xy(r,s){return Vc(4,4,r,s)}function Wy(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Zy(r,s,o){o=o!=null?o.concat([r]):null,Vc(4,4,Wy.bind(null,s,r),o)}function _d(){}function Jy(r,s){var o=Nt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&ld(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function ev(r,s){var o=Nt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&ld(s,u[1]))return u[0];if(u=r(),ta){gr(!0);try{r()}finally{gr(!1)}}return o.memoizedState=[u,s],u}function bd(r,s,o){return o===void 0||(Xi&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=n_(),Fe.lanes|=r,as|=r,o)}function tv(r,s,o,u){return Dn(o,s)?o:no.current!==null?(r=bd(r,o,u),Dn(r,s)||(Zt=!0),r):(Xi&42)===0?(Zt=!0,r.memoizedState=o):(r=n_(),Fe.lanes|=r,as|=r,s)}function nv(r,s,o,u,h){var m=me.p;me.p=m!==0&&8>m?m:8;var b=A.T,w={};A.T=w,wd(r,!1,s,o);try{var N=h(),F=A.S;if(F!==null&&F(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var ee=uS(N,u);Ol(r,s,ee,Vn(r))}else Ol(r,s,u,Vn(r))}catch(ae){Ol(r,s,{then:function(){},status:"rejected",reason:ae},Vn())}finally{me.p=m,A.T=b}}function pS(){}function Ed(r,s,o,u){if(r.tag!==5)throw Error(i(476));var h=rv(r).queue;nv(r,h,s,ze,o===null?pS:function(){return iv(r),o(u)})}function rv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ze,baseState:ze,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:ze},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function iv(r){var s=rv(r).next.queue;Ol(r,s,{},Vn())}function Td(){return cn(Xl)}function sv(){return Nt().memoizedState}function av(){return Nt().memoizedState}function mS(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Vn();r=es(o);var u=ts(s,r,o);u!==null&&(Tn(u,s,o),kl(u,s,o)),s={cache:sd()},r.payload=s;return}s=s.return}}function gS(r,s,o){var u=Vn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Lc(r)?lv(s,o):(o=Zh(r,s,o,u),o!==null&&(Tn(o,r,u),uv(o,s,u)))}function ov(r,s,o){var u=Vn();Ol(r,s,o,u)}function Ol(r,s,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Lc(r))lv(s,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,w=m(b,o);if(h.hasEagerState=!0,h.eagerState=w,Dn(w,b))return _c(r,s,h,0),ht===null&&vc(),!1}catch{}finally{}if(o=Zh(r,s,h,u),o!==null)return Tn(o,r,u),uv(o,s,u),!0}return!1}function wd(r,s,o,u){if(u={lane:2,revertLane:hp(),action:u,hasEagerState:!1,eagerState:null,next:null},Lc(r)){if(s)throw Error(i(479))}else s=Zh(r,o,u,2),s!==null&&Tn(s,r,2)}function Lc(r){var s=r.alternate;return r===Fe||s!==null&&s===Fe}function lv(r,s){so=Ic=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function uv(r,s,o){if((o&4194176)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Mi(r,o)}}var Ir={readContext:cn,use:Nc,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct};Ir.useCacheRefresh=Ct,Ir.useMemoCache=Ct,Ir.useHostTransitionStatus=Ct,Ir.useFormState=Ct,Ir.useActionState=Ct,Ir.useOptimistic=Ct;var na={readContext:cn,use:Nc,useCallback:function(r,s){return xn().memoizedState=[r,s===void 0?null:s],r},useContext:cn,useEffect:Qy,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Pc(4194308,4,Wy.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Pc(4194308,4,r,s)},useInsertionEffect:function(r,s){Pc(4,2,r,s)},useMemo:function(r,s){var o=xn();s=s===void 0?null:s;var u=r();if(ta){gr(!0);try{r()}finally{gr(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=xn();if(o!==void 0){var h=o(s);if(ta){gr(!0);try{o(s)}finally{gr(!1)}}}else h=s;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=gS.bind(null,Fe,r),[u.memoizedState,r]},useRef:function(r){var s=xn();return r={current:r},s.memoizedState=r},useState:function(r){r=gd(r);var s=r.queue,o=ov.bind(null,Fe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:_d,useDeferredValue:function(r,s){var o=xn();return bd(o,r,s)},useTransition:function(){var r=gd(!1);return r=nv.bind(null,Fe,r.queue,!0,!1),xn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Fe,h=xn();if(rt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ht===null)throw Error(i(349));(et&60)!==0||Ny(u,s,o)}h.memoizedState=o;var m={value:o,getSnapshot:s};return h.queue=m,Qy(Py.bind(null,u,m,r),[r]),u.flags|=2048,oo(9,ky.bind(null,u,m,o,s),{destroy:void 0},null),o},useId:function(){var r=xn(),s=ht.identifierPrefix;if(rt){var o=si,u=ii;o=(u&~(1<<32-vn(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=Oc++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=cS++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return xn().memoizedState=mS.bind(null,Fe)}};na.useMemoCache=dd,na.useHostTransitionStatus=Td,na.useFormState=Hy,na.useActionState=Hy,na.useOptimistic=function(r){var s=xn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=wd.bind(null,Fe,!0,o),o.dispatch=s,[r,s]};var Wi={readContext:cn,use:Nc,useCallback:Jy,useContext:cn,useEffect:vd,useImperativeHandle:Zy,useInsertionEffect:Yy,useLayoutEffect:Xy,useMemo:ev,useReducer:kc,useRef:Ky,useState:function(){return kc(oi)},useDebugValue:_d,useDeferredValue:function(r,s){var o=Nt();return tv(o,ut.memoizedState,r,s)},useTransition:function(){var r=kc(oi)[0],s=Nt().memoizedState;return[typeof r=="boolean"?r:Il(r),s]},useSyncExternalStore:Dy,useId:sv};Wi.useCacheRefresh=av,Wi.useMemoCache=dd,Wi.useHostTransitionStatus=Td,Wi.useFormState=qy,Wi.useActionState=qy,Wi.useOptimistic=function(r,s){var o=Nt();return My(o,ut,r,s)};var ra={readContext:cn,use:Nc,useCallback:Jy,useContext:cn,useEffect:vd,useImperativeHandle:Zy,useInsertionEffect:Yy,useLayoutEffect:Xy,useMemo:ev,useReducer:md,useRef:Ky,useState:function(){return md(oi)},useDebugValue:_d,useDeferredValue:function(r,s){var o=Nt();return ut===null?bd(o,r,s):tv(o,ut.memoizedState,r,s)},useTransition:function(){var r=md(oi)[0],s=Nt().memoizedState;return[typeof r=="boolean"?r:Il(r),s]},useSyncExternalStore:Dy,useId:sv};ra.useCacheRefresh=av,ra.useMemoCache=dd,ra.useHostTransitionStatus=Td,ra.useFormState=Gy,ra.useActionState=Gy,ra.useOptimistic=function(r,s){var o=Nt();return ut!==null?My(o,ut,r,s):(o.baseState=r,[r,o.queue.dispatch])};function Sd(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:C({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Ad={isMounted:function(r){return(r=r._reactInternals)?ye(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Vn(),h=es(u);h.payload=s,o!=null&&(h.callback=o),s=ts(r,h,u),s!==null&&(Tn(s,r,u),kl(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Vn(),h=es(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=ts(r,h,u),s!==null&&(Tn(s,r,u),kl(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Vn(),u=es(o);u.tag=2,s!=null&&(u.callback=s),s=ts(r,u,o),s!==null&&(Tn(s,r,o),kl(s,r,o))}};function cv(r,s,o,u,h,m,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,b):s.prototype&&s.prototype.isPureReactComponent?!yl(o,u)||!yl(h,m):!0}function fv(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Ad.enqueueReplaceState(s,s.state,null)}function ia(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=C({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Mc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function hv(r){Mc(r)}function dv(r){console.error(r)}function pv(r){Mc(r)}function Uc(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function mv(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xd(r,s,o){return o=es(o),o.tag=3,o.payload={element:null},o.callback=function(){Uc(r,s)},o}function gv(r){return r=es(r),r.tag=3,r}function yv(r,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var m=u.value;r.payload=function(){return h(m)},r.callback=function(){mv(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){mv(s,o,u),typeof h!="function"&&(os===null?os=new Set([this]):os.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function yS(r,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Nl(s,o,h,!0),o=Gn.current,o!==null){switch(o.tag){case 13:return Cr===null?op():o.alternate===null&&St===0&&(St=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===nd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),up(r,u,h)),!1;case 22:return o.flags|=65536,u===nd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),up(r,u,h)),!1}throw Error(i(435,o.tag))}return up(r,u,h),op(),!1}if(rt)return s=Gn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==td&&(r=Error(i(422),{cause:u}),El(Hn(r,o)))):(u!==td&&(s=Error(i(423),{cause:u}),El(Hn(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=Hn(u,o),h=xd(r.stateNode,u,h),Bd(r,h),St!==4&&(St=2)),!1;var m=Error(i(520),{cause:u});if(m=Hn(m,o),Bl===null?Bl=[m]:Bl.push(m),St!==4&&(St=2),s===null)return!0;u=Hn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=xd(o.stateNode,u,r),Bd(o,r),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(os===null||!os.has(m))))return o.flags|=65536,h&=-h,o.lanes|=h,h=gv(h),yv(h,r,o,u),Bd(o,h),!1}o=o.return}while(o!==null);return!1}var vv=Error(i(461)),Zt=!1;function sn(r,s,o,u){s.child=r===null?wy(s,null,o,u):Js(s,r.child,o,u)}function _v(r,s,o,u,h){o=o.render;var m=s.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return aa(s),u=ud(r,s,o,b,m,h),w=cd(),r!==null&&!Zt?(fd(r,s,h),li(r,s,h)):(rt&&w&&Jh(s),s.flags|=1,sn(r,s,u,h),s.child)}function bv(r,s,o,u,h){if(r===null){var m=o.type;return typeof m=="function"&&!Yd(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,Ev(r,s,m,u,h)):(r=Hc(o.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,!Vd(r,h)){var b=m.memoizedProps;if(o=o.compare,o=o!==null?o:yl,o(b,u)&&r.ref===s.ref)return li(r,s,h)}return s.flags|=1,r=ss(m,u),r.ref=s.ref,r.return=s,s.child=r}function Ev(r,s,o,u,h){if(r!==null){var m=r.memoizedProps;if(yl(m,u)&&r.ref===s.ref)if(Zt=!1,s.pendingProps=u=m,Vd(r,h))(r.flags&131072)!==0&&(Zt=!0);else return s.lanes=r.lanes,li(r,s,h)}return Rd(r,s,o,u,h)}function Tv(r,s,o){var u=s.pendingProps,h=u.children,m=(s.stateNode._pendingVisibility&2)!==0,b=r!==null?r.memoizedState:null;if(Dl(r,s),u.mode==="hidden"||m){if((s.flags&128)!==0){if(u=b!==null?b.baseLanes|o:o,r!==null){for(h=s.child=r.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;s.childLanes=m&~u}else s.childLanes=0,s.child=null;return wv(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Cc(s,b!==null?b.cachePool:null),b!==null?Sy(s,b):rd(),Ay(s);else return s.lanes=s.childLanes=536870912,wv(r,s,b!==null?b.baseLanes|o:o,o)}else b!==null?(Cc(s,b.cachePool),Sy(s,b),Yi(),s.memoizedState=null):(r!==null&&Cc(s,null),rd(),Yi());return sn(r,s,h,o),s.child}function wv(r,s,o,u){var h=od();return h=h===null?null:{parent:zt._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&Cc(s,null),rd(),Ay(s),r!==null&&Nl(r,s,u,!0),null}function Dl(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function Rd(r,s,o,u,h){return aa(s),o=ud(r,s,o,u,void 0,h),u=cd(),r!==null&&!Zt?(fd(r,s,h),li(r,s,h)):(rt&&u&&Jh(s),s.flags|=1,sn(r,s,o,h),s.child)}function Sv(r,s,o,u,h,m){return aa(s),s.updateQueue=null,o=Oy(s,u,o,h),Iy(r),u=cd(),r!==null&&!Zt?(fd(r,s,m),li(r,s,m)):(rt&&u&&Jh(s),s.flags|=1,sn(r,s,o,m),s.child)}function Av(r,s,o,u,h){if(aa(s),s.stateNode===null){var m=Za,b=o.contextType;typeof b=="object"&&b!==null&&(m=cn(b)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ad,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},jd(s),b=o.contextType,m.context=typeof b=="object"&&b!==null?cn(b):Za,m.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Sd(s,o,b,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Ad.enqueueReplaceState(m,m.state,null),Vl(s,u,m,h),Pl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){m=s.stateNode;var w=s.memoizedProps,N=ia(o,w);m.props=N;var F=m.context,ee=o.contextType;b=Za,typeof ee=="object"&&ee!==null&&(b=cn(ee));var ae=o.getDerivedStateFromProps;ee=typeof ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,ee||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||F!==b)&&fv(s,m,u,b),Ji=!1;var X=s.memoizedState;m.state=X,Vl(s,u,m,h),Pl(),F=s.memoizedState,w||X!==F||Ji?(typeof ae=="function"&&(Sd(s,o,ae,u),F=s.memoizedState),(N=Ji||cv(s,o,N,u,X,F,b))?(ee||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=F),m.props=u,m.state=F,m.context=b,u=N):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,zd(r,s),b=s.memoizedProps,ee=ia(o,b),m.props=ee,ae=s.pendingProps,X=m.context,F=o.contextType,N=Za,typeof F=="object"&&F!==null&&(N=cn(F)),w=o.getDerivedStateFromProps,(F=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ae||X!==N)&&fv(s,m,u,N),Ji=!1,X=s.memoizedState,m.state=X,Vl(s,u,m,h),Pl();var J=s.memoizedState;b!==ae||X!==J||Ji||r!==null&&r.dependencies!==null&&jc(r.dependencies)?(typeof w=="function"&&(Sd(s,o,w,u),J=s.memoizedState),(ee=Ji||cv(s,o,ee,u,X,J,N)||r!==null&&r.dependencies!==null&&jc(r.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,J,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,J,N)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=J),m.props=u,m.state=J,m.context=N,u=ee):(typeof m.componentDidUpdate!="function"||b===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),u=!1)}return m=u,Dl(r,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,r!==null&&u?(s.child=Js(s,r.child,null,h),s.child=Js(s,null,o,h)):sn(r,s,o,h),s.memoizedState=m.state,r=s.child):r=li(r,s,h),r}function xv(r,s,o,u){return bl(),s.flags|=256,sn(r,s,o,u),s.child}var Cd={dehydrated:null,treeContext:null,retryLane:0};function Id(r){return{baseLanes:r,cachePool:Cy()}}function Od(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Xn),r}function Rv(r,s,o){var u=s.pendingProps,h=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=r!==null&&r.memoizedState===null?!1:(jt.current&2)!==0),b&&(h=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(rt){if(h?Qi(s):Yi(),rt){var w=rn,N;if(N=w){e:{for(N=w,w=Rr;N.nodeType!==8;){if(!w){w=null;break e}if(N=ur(N.nextSibling),N===null){w=null;break e}}w=N}w!==null?(s.memoizedState={dehydrated:w,treeContext:Xs!==null?{id:ii,overflow:si}:null,retryLane:536870912},N=Yn(18,null,null,0),N.stateNode=w,N.return=s,s.child=N,En=s,rn=null,N=!0):N=!1}N||Zs(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?s.lanes=16:s.lanes=536870912,null;ai(s)}return w=u.children,u=u.fallback,h?(Yi(),h=s.mode,w=Nd({mode:"hidden",children:w},h),u=la(u,h,o,null),w.return=s,u.return=s,w.sibling=u,s.child=w,h=s.child,h.memoizedState=Id(o),h.childLanes=Od(r,b,o),s.memoizedState=Cd,u):(Qi(s),Dd(s,w))}if(N=r.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(m)s.flags&256?(Qi(s),s.flags&=-257,s=kd(r,s,o)):s.memoizedState!==null?(Yi(),s.child=r.child,s.flags|=128,s=null):(Yi(),h=u.fallback,w=s.mode,u=Nd({mode:"visible",children:u.children},w),h=la(h,w,o,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,Js(s,r.child,null,o),u=s.child,u.memoizedState=Id(o),u.childLanes=Od(r,b,o),s.memoizedState=Cd,s=h);else if(Qi(s),w.data==="$!"){if(b=w.nextSibling&&w.nextSibling.dataset,b)var F=b.dgst;b=F,u=Error(i(419)),u.stack="",u.digest=b,El({value:u,source:null,stack:null}),s=kd(r,s,o)}else if(Zt||Nl(r,s,o,!1),b=(o&r.childLanes)!==0,Zt||b){if(b=ht,b!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==N.retryLane)throw N.retryLane=u,Ki(r,u),Tn(b,r,u),vv}w.data==="$?"||op(),s=kd(r,s,o)}else w.data==="$?"?(s.flags|=128,s.child=r.child,s=NS.bind(null,r),w._reactRetry=s,s=null):(r=N.treeContext,rn=ur(w.nextSibling),En=s,rt=!0,or=null,Rr=!1,r!==null&&(qn[$n++]=ii,qn[$n++]=si,qn[$n++]=Xs,ii=r.id,si=r.overflow,Xs=s),s=Dd(s,u.children),s.flags|=4096);return s}return h?(Yi(),h=u.fallback,w=s.mode,N=r.child,F=N.sibling,u=ss(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&31457280,F!==null?h=ss(F,h):(h=la(h,w,o,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,w=r.child.memoizedState,w===null?w=Id(o):(N=w.cachePool,N!==null?(F=zt._currentValue,N=N.parent!==F?{parent:F,pool:F}:N):N=Cy(),w={baseLanes:w.baseLanes|o,cachePool:N}),h.memoizedState=w,h.childLanes=Od(r,b,o),s.memoizedState=Cd,u):(Qi(s),o=r.child,r=o.sibling,o=ss(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=o,s.memoizedState=null,o)}function Dd(r,s){return s=Nd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Nd(r,s){return Jv(r,s,0,null)}function kd(r,s,o){return Js(s,r.child,null,o),r=Dd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Cv(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Md(r.return,s,o)}function Pd(r,s,o,u,h){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=h)}function Iv(r,s,o){var u=s.pendingProps,h=u.revealOrder,m=u.tail;if(sn(r,s,u.children,o),u=jt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Cv(r,o,s);else if(r.tag===19)Cv(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(st(jt,u),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&Rc(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),Pd(s,!1,h,o,m);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Rc(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Pd(s,!0,o,null,m);break;case"together":Pd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function li(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),as|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Nl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=ss(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=ss(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Vd(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&jc(r)))}function vS(r,s,o){switch(s.tag){case 3:Gr(s,s.stateNode.containerInfo),Zi(s,zt,r.memoizedState.cache),bl();break;case 27:case 5:Na(s);break;case 4:Gr(s,s.stateNode.containerInfo);break;case 10:Zi(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Qi(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Rv(r,s,o):(Qi(s),r=li(r,s,o),r!==null?r.sibling:null);Qi(s);break;case 19:var h=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Nl(r,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return Iv(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(jt,jt.current),u)break;return null;case 22:case 23:return s.lanes=0,Tv(r,s,o);case 24:Zi(s,zt,r.memoizedState.cache)}return li(r,s,o)}function Ov(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Zt=!0;else{if(!Vd(r,o)&&(s.flags&128)===0)return Zt=!1,vS(r,s,o);Zt=(r.flags&131072)!==0}else Zt=!1,rt&&(s.flags&1048576)!==0&&py(s,Tc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")Yd(u)?(r=ia(u,r),s.tag=1,s=Av(null,s,u,r,o)):(s.tag=0,s=Rd(null,s,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===O){s.tag=11,s=_v(null,s,u,r,o);break e}else if(h===$){s.tag=14,s=bv(null,s,u,r,o);break e}}throw s=x(u)||u,Error(i(306,s,""))}}return s;case 0:return Rd(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=ia(u,s.pendingProps),Av(r,s,u,h,o);case 3:e:{if(Gr(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var m=s.pendingProps;h=s.memoizedState,u=h.element,zd(r,s),Vl(s,m,null,o);var b=s.memoizedState;if(m=b.cache,Zi(s,zt,m),m!==h.cache&&Ud(s,[zt],o,!0),Pl(),m=b.element,h.isDehydrated)if(h={element:m,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=xv(r,s,m,o);break e}else if(m!==u){u=Hn(Error(i(424)),s),El(u),s=xv(r,s,m,o);break e}else for(rn=ur(s.stateNode.containerInfo.firstChild),En=s,rt=!0,or=null,Rr=!0,o=wy(s,null,m,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(bl(),m===u){s=li(r,s,o);break e}sn(r,s,m,o)}s=s.child}return s;case 26:return Dl(r,s),r===null?(o=k_(s.type,null,s.pendingProps,null))?s.memoizedState=o:rt||(o=s.type,r=s.pendingProps,u=tf(yn.current).createElement(o),u[Yt]=s,u[Lt]=r,an(u,o,r),yt(u),s.stateNode=u):s.memoizedState=k_(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Na(s),r===null&&rt&&(u=s.stateNode=O_(s.type,s.pendingProps,yn.current),En=s,Rr=!0,rn=ur(u.firstChild)),u=s.pendingProps.children,r!==null||rt?sn(r,s,u,o):s.child=Js(s,null,u,o),Dl(r,s),s.child;case 5:return r===null&&rt&&((h=u=rn)&&(u=QS(u,s.type,s.pendingProps,Rr),u!==null?(s.stateNode=u,En=s,rn=ur(u.firstChild),Rr=!1,h=!0):h=!1),h||Zs(s)),Na(s),h=s.type,m=s.pendingProps,b=r!==null?r.memoizedProps:null,u=m.children,Ep(h,m)?u=null:b!==null&&Ep(h,b)&&(s.flags|=32),s.memoizedState!==null&&(h=ud(r,s,fS,null,null,o),Xl._currentValue=h),Dl(r,s),sn(r,s,u,o),s.child;case 6:return r===null&&rt&&((r=o=rn)&&(o=YS(o,s.pendingProps,Rr),o!==null?(s.stateNode=o,En=s,rn=null,r=!0):r=!1),r||Zs(s)),null;case 13:return Rv(r,s,o);case 4:return Gr(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Js(s,null,u,o):sn(r,s,u,o),s.child;case 11:return _v(r,s,s.type,s.pendingProps,o);case 7:return sn(r,s,s.pendingProps,o),s.child;case 8:return sn(r,s,s.pendingProps.children,o),s.child;case 12:return sn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Zi(s,s.type,u.value),sn(r,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,aa(s),h=cn(h),u=u(h),s.flags|=1,sn(r,s,u,o),s.child;case 14:return bv(r,s,s.type,s.pendingProps,o);case 15:return Ev(r,s,s.type,s.pendingProps,o);case 19:return Iv(r,s,o);case 22:return Tv(r,s,o);case 24:return aa(s),u=cn(zt),r===null?(h=od(),h===null&&(h=ht,m=sd(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=o),h=m),s.memoizedState={parent:u,cache:h},jd(s),Zi(s,zt,h)):((r.lanes&o)!==0&&(zd(r,s),Vl(s,null,null,o),Pl()),h=r.memoizedState,m=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Zi(s,zt,u)):(u=m.cache,Zi(s,zt,u),u!==h.cache&&Ud(s,[zt],o,!0))),sn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var Ld=Qe(null),sa=null,ui=null;function Zi(r,s,o){st(Ld,s._currentValue),s._currentValue=o}function ci(r){r._currentValue=Ld.current,pt(Ld)}function Md(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Ud(r,s,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=h;for(var N=0;N<s.length;N++)if(w.context===s[N]){m.lanes|=o,w=m.alternate,w!==null&&(w.lanes|=o),Md(m.return,o,r),u||(b=null);break e}m=w.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(i(341));b.lanes|=o,m=b.alternate,m!==null&&(m.lanes|=o),Md(b,o,r),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===r){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Nl(r,s,o,u){r=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var w=h.type;Dn(h.pendingProps.value,b.value)||(r!==null?r.push(w):r=[w])}}else if(h===nr.current){if(b=h.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(Xl):r=[Xl])}h=h.return}r!==null&&Ud(s,r,o,u),s.flags|=262144}function jc(r){for(r=r.firstContext;r!==null;){if(!Dn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function aa(r){sa=r,ui=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function cn(r){return Dv(sa,r)}function zc(r,s){return sa===null&&aa(r),Dv(r,s)}function Dv(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ui===null){if(r===null)throw Error(i(308));ui=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ui=ui.next=s;return o}var Ji=!1;function jd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zd(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function es(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ts(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(_t&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=bc(r),hy(r,null,o),s}return _c(r,u,s,o),bc(r)}function kl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Mi(r,o)}}function Bd(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,o=o.next}while(o!==null);m===null?h=m=s:m=m.next=s}else h=m=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Fd=!1;function Pl(){if(Fd){var r=io;if(r!==null)throw r}}function Vl(r,s,o,u){Fd=!1;var h=r.updateQueue;Ji=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var N=w,F=N.next;N.next=null,b===null?m=F:b.next=F,b=N;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,w=ee.lastBaseUpdate,w!==b&&(w===null?ee.firstBaseUpdate=F:w.next=F,ee.lastBaseUpdate=N))}if(m!==null){var ae=h.baseState;b=0,ee=F=N=null,w=m;do{var X=w.lane&-536870913,J=X!==w.lane;if(J?(et&X)===X:(u&X)===X){X!==0&&X===ro&&(Fd=!0),ee!==null&&(ee=ee.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var we=r,Me=w;X=s;var At=o;switch(Me.tag){case 1:if(we=Me.payload,typeof we=="function"){ae=we.call(At,ae,X);break e}ae=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Me.payload,X=typeof we=="function"?we.call(At,ae,X):we,X==null)break e;ae=C({},ae,X);break e;case 2:Ji=!0}}X=w.callback,X!==null&&(r.flags|=64,J&&(r.flags|=8192),J=h.callbacks,J===null?h.callbacks=[X]:J.push(X))}else J={lane:X,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ee===null?(F=ee=J,N=ae):ee=ee.next=J,b|=X;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;J=w,w=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);ee===null&&(N=ae),h.baseState=N,h.firstBaseUpdate=F,h.lastBaseUpdate=ee,m===null&&(h.shared.lanes=0),as|=b,r.lanes=b,r.memoizedState=ae}}function Nv(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function kv(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Nv(o[r],s)}function Ll(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var m=o.create,b=o.inst;u=m(),b.destroy=u}o=o.next}while(o!==h)}}catch(w){ft(s,s.return,w)}}function ns(r,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&r)===r){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,h=s;var N=o;try{w()}catch(F){ft(h,N,F)}}}u=u.next}while(u!==m)}}catch(F){ft(s,s.return,F)}}function Pv(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{kv(s,o)}catch(u){ft(r,r.return,u)}}}function Vv(r,s,o){o.props=ia(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ft(r,s,u)}}function oa(r,s){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var h=u;break;default:h=u}typeof o=="function"?r.refCleanup=o(h):o.current=h}}catch(m){ft(r,s,m)}}function Nn(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){ft(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){ft(r,s,h)}else o.current=null}function Lv(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){ft(r,r.return,h)}}function Mv(r,s,o){try{var u=r.stateNode;HS(u,r.type,o,s),u[Lt]=s}catch(h){ft(r,r.return,h)}}function Uv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Hd(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Uv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function qd(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ef));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(qd(r,s,o),r=r.sibling;r!==null;)qd(r,s,o),r=r.sibling}function Bc(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Bc(r,s,o),r=r.sibling;r!==null;)Bc(r,s,o),r=r.sibling}var fi=!1,wt=!1,$d=!1,jv=typeof WeakSet=="function"?WeakSet:Set,Jt=null,zv=!1;function _S(r,s){if(r=r.containerInfo,_p=lf,r=ry(r),Kh(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var b=0,w=-1,N=-1,F=0,ee=0,ae=r,X=null;t:for(;;){for(var J;ae!==o||h!==0&&ae.nodeType!==3||(w=b+h),ae!==m||u!==0&&ae.nodeType!==3||(N=b+u),ae.nodeType===3&&(b+=ae.nodeValue.length),(J=ae.firstChild)!==null;)X=ae,ae=J;for(;;){if(ae===r)break t;if(X===o&&++F===h&&(w=b),X===m&&++ee===u&&(N=b),(J=ae.nextSibling)!==null)break;ae=X,X=ae.parentNode}ae=J}o=w===-1||N===-1?null:{start:w,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(bp={focusedElem:r,selectionRange:o},lf=!1,Jt=s;Jt!==null;)if(s=Jt,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Jt=r;else for(;Jt!==null;){switch(s=Jt,m=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=s,h=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var we=ia(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(we,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(Me){ft(o,o.return,Me)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Sp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Sp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Jt=r;break}Jt=s.return}return we=zv,zv=!1,we}function Bv(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:di(r,o),u&4&&Ll(5,o);break;case 1:if(di(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(w){ft(o,o.return,w)}else{var h=ia(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(w){ft(o,o.return,w)}}u&64&&Pv(o),u&512&&oa(o,o.return);break;case 3:if(di(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{kv(u,r)}catch(w){ft(o,o.return,w)}}break;case 26:di(r,o),u&512&&oa(o,o.return);break;case 27:case 5:di(r,o),s===null&&u&4&&Lv(o),u&512&&oa(o,o.return);break;case 12:di(r,o);break;case 13:di(r,o),u&4&&qv(r,o);break;case 22:if(h=o.memoizedState!==null||fi,!h){s=s!==null&&s.memoizedState!==null||wt;var m=fi,b=wt;fi=h,(wt=s)&&!b?rs(r,o,(o.subtreeFlags&8772)!==0):di(r,o),fi=m,wt=b}u&512&&(o.memoizedProps.mode==="manual"?oa(o,o.return):Nn(o,o.return));break;default:di(r,o)}}function Fv(r){var s=r.alternate;s!==null&&(r.alternate=null,Fv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Ms(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var kt=null,kn=!1;function hi(r,s,o){for(o=o.child;o!==null;)Hv(r,s,o),o=o.sibling}function Hv(r,s,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(rr,o)}catch{}switch(o.tag){case 26:wt||Nn(o,s),hi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:wt||Nn(o,s);var u=kt,h=kn;for(kt=o.stateNode,hi(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Ms(o),kt=u,kn=h;break;case 5:wt||Nn(o,s);case 6:h=kt;var m=kn;if(kt=null,hi(r,s,o),kt=h,kn=m,kt!==null)if(kn)try{r=kt,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(b){ft(o,s,b)}else try{kt.removeChild(o.stateNode)}catch(b){ft(o,s,b)}break;case 18:kt!==null&&(kn?(s=kt,o=o.stateNode,s.nodeType===8?wp(s.parentNode,o):s.nodeType===1&&wp(s,o),eu(s)):wp(kt,o.stateNode));break;case 4:u=kt,h=kn,kt=o.stateNode.containerInfo,kn=!0,hi(r,s,o),kt=u,kn=h;break;case 0:case 11:case 14:case 15:wt||ns(2,o,s),wt||ns(4,o,s),hi(r,s,o);break;case 1:wt||(Nn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Vv(o,s,u)),hi(r,s,o);break;case 21:hi(r,s,o);break;case 22:wt||Nn(o,s),wt=(u=wt)||o.memoizedState!==null,hi(r,s,o),wt=u;break;default:hi(r,s,o)}}function qv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{eu(r)}catch(o){ft(s,s.return,o)}}function bS(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new jv),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new jv),s;default:throw Error(i(435,r.tag))}}function Gd(r,s){var o=bS(r);s.forEach(function(u){var h=kS.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function Kn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],m=r,b=s,w=b;e:for(;w!==null;){switch(w.tag){case 27:case 5:kt=w.stateNode,kn=!1;break e;case 3:kt=w.stateNode.containerInfo,kn=!0;break e;case 4:kt=w.stateNode.containerInfo,kn=!0;break e}w=w.return}if(kt===null)throw Error(i(160));Hv(m,b,h),kt=null,kn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)$v(s,r),s=s.sibling}var lr=null;function $v(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Kn(s,r),Qn(r),u&4&&(ns(3,r,r.return),Ll(3,r),ns(5,r,r.return));break;case 1:Kn(s,r),Qn(r),u&512&&(wt||o===null||Nn(o,o.return)),u&64&&fi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=lr;if(Kn(s,r),Qn(r),u&512&&(wt||o===null||Nn(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":m=h.getElementsByTagName("title")[0],(!m||m[ji]||m[Yt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(u),h.head.insertBefore(m,h.querySelector("head > title"))),an(m,u,o),m[Yt]=r,yt(m),u=m;break e;case"link":var b=L_("link","href",h).get(u+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(o.href==null?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break t}}m=h.createElement(u),an(m,u,o),h.head.appendChild(m);break;case"meta":if(b=L_("meta","content",h).get(u+(o.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break t}}m=h.createElement(u),an(m,u,o),h.head.appendChild(m);break;default:throw Error(i(468,u))}m[Yt]=r,yt(m),u=m}r.stateNode=u}else M_(h,r.type,r.stateNode);else r.stateNode=V_(h,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?M_(h,r.type,r.stateNode):V_(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Mv(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){h=r.stateNode,m=r.memoizedProps;try{for(var N=h.firstChild;N;){var F=N.nextSibling,ee=N.nodeName;N[ji]||ee==="HEAD"||ee==="BODY"||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&N.rel.toLowerCase()==="stylesheet"||h.removeChild(N),N=F}for(var ae=r.type,X=h.attributes;X.length;)h.removeAttributeNode(X[0]);an(h,ae,m),h[Yt]=r,h[Lt]=m}catch(we){ft(r,r.return,we)}}case 5:if(Kn(s,r),Qn(r),u&512&&(wt||o===null||Nn(o,o.return)),r.flags&32){h=r.stateNode;try{Un(h,"")}catch(we){ft(r,r.return,we)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,Mv(r,h,o!==null?o.memoizedProps:h)),u&1024&&($d=!0);break;case 6:if(Kn(s,r),Qn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(we){ft(r,r.return,we)}}break;case 3:if(sf=null,h=lr,lr=nf(s.containerInfo),Kn(s,r),lr=h,Qn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{eu(s.containerInfo)}catch(we){ft(r,r.return,we)}$d&&($d=!1,Gv(r));break;case 4:u=lr,lr=nf(r.stateNode.containerInfo),Kn(s,r),Qn(r),lr=u;break;case 12:Kn(s,r),Qn(r);break;case 13:Kn(s,r),Qn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(tp=_e()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Gd(r,u)));break;case 22:if(u&512&&(wt||o===null||Nn(o,o.return)),N=r.memoizedState!==null,F=o!==null&&o.memoizedState!==null,ee=fi,ae=wt,fi=ee||N,wt=ae||F,Kn(s,r),wt=ae,fi=ee,Qn(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=N?s._visibility&-2:s._visibility|1,N&&(s=fi||wt,o===null||F||s||lo(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){F=o=s;try{if(h=F.stateNode,N)m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=F.stateNode,w=F.memoizedProps.style;var J=w!=null&&w.hasOwnProperty("display")?w.display:null;b.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(we){ft(F,F.return,we)}}}else if(s.tag===6){if(o===null){F=s;try{F.stateNode.nodeValue=N?"":F.memoizedProps}catch(we){ft(F,F.return,we)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Gd(r,o))));break;case 19:Kn(s,r),Qn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Gd(r,u)));break;case 21:break;default:Kn(s,r),Qn(r)}}function Qn(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(Uv(o)){var u=o;break e}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var h=u.stateNode,m=Hd(r);Bc(r,m,h);break;case 5:var b=u.stateNode;u.flags&32&&(Un(b,""),u.flags&=-33);var w=Hd(r);Bc(r,w,b);break;case 3:case 4:var N=u.stateNode.containerInfo,F=Hd(r);qd(r,F,N);break;default:throw Error(i(161))}}}catch(ee){ft(r,r.return,ee)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Gv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Gv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function di(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Bv(r,s.alternate,s),s=s.sibling}function lo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ns(4,s,s.return),lo(s);break;case 1:Nn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Vv(s,s.return,o),lo(s);break;case 26:case 27:case 5:Nn(s,s.return),lo(s);break;case 22:Nn(s,s.return),s.memoizedState===null&&lo(s);break;default:lo(s)}r=r.sibling}}function rs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=r,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:rs(h,m,o),Ll(4,m);break;case 1:if(rs(h,m,o),u=m,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){ft(u,u.return,F)}if(u=m,h=u.updateQueue,h!==null){var w=u.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Nv(N[h],w)}catch(F){ft(u,u.return,F)}}o&&b&64&&Pv(m),oa(m,m.return);break;case 26:case 27:case 5:rs(h,m,o),o&&u===null&&b&4&&Lv(m),oa(m,m.return);break;case 12:rs(h,m,o);break;case 13:rs(h,m,o),o&&b&4&&qv(h,m);break;case 22:m.memoizedState===null&&rs(h,m,o),oa(m,m.return);break;default:rs(h,m,o)}s=s.sibling}}function Kd(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&xl(o))}function Qd(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&xl(r))}function is(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Kv(r,s,o,u),s=s.sibling}function Kv(r,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:is(r,s,o,u),h&2048&&Ll(9,s);break;case 3:is(r,s,o,u),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&xl(r)));break;case 12:if(h&2048){is(r,s,o,u),r=s.stateNode;try{var m=s.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(N){ft(s,s.return,N)}}else is(r,s,o,u);break;case 23:break;case 22:m=s.stateNode,s.memoizedState!==null?m._visibility&4?is(r,s,o,u):Ml(r,s):m._visibility&4?is(r,s,o,u):(m._visibility|=4,uo(r,s,o,u,(s.subtreeFlags&10256)!==0)),h&2048&&Kd(s.alternate,s);break;case 24:is(r,s,o,u),h&2048&&Qd(s.alternate,s);break;default:is(r,s,o,u)}}function uo(r,s,o,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=r,b=s,w=o,N=u,F=b.flags;switch(b.tag){case 0:case 11:case 15:uo(m,b,w,N,h),Ll(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&4?uo(m,b,w,N,h):Ml(m,b):(ee._visibility|=4,uo(m,b,w,N,h)),h&&F&2048&&Kd(b.alternate,b);break;case 24:uo(m,b,w,N,h),h&&F&2048&&Qd(b.alternate,b);break;default:uo(m,b,w,N,h)}s=s.sibling}}function Ml(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,h=u.flags;switch(u.tag){case 22:Ml(o,u),h&2048&&Kd(u.alternate,u);break;case 24:Ml(o,u),h&2048&&Qd(u.alternate,u);break;default:Ml(o,u)}s=s.sibling}}var Ul=8192;function co(r){if(r.subtreeFlags&Ul)for(r=r.child;r!==null;)Qv(r),r=r.sibling}function Qv(r){switch(r.tag){case 26:co(r),r.flags&Ul&&r.memoizedState!==null&&lA(lr,r.memoizedState,r.memoizedProps);break;case 5:co(r);break;case 3:case 4:var s=lr;lr=nf(r.stateNode.containerInfo),co(r),lr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Ul,Ul=16777216,co(r),Ul=s):co(r));break;default:co(r)}}function Yv(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function jl(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Jt=u,Wv(u,r)}Yv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Xv(r),r=r.sibling}function Xv(r){switch(r.tag){case 0:case 11:case 15:jl(r),r.flags&2048&&ns(9,r,r.return);break;case 3:jl(r);break;case 12:jl(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Fc(r)):jl(r);break;default:jl(r)}}function Fc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Jt=u,Wv(u,r)}Yv(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ns(8,s,s.return),Fc(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Fc(s));break;default:Fc(s)}r=r.sibling}}function Wv(r,s){for(;Jt!==null;){var o=Jt;switch(o.tag){case 0:case 11:case 15:ns(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:xl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Jt=u;else e:for(o=r;Jt!==null;){u=Jt;var h=u.sibling,m=u.return;if(Fv(u),u===o){Jt=null;break e}if(h!==null){h.return=m,Jt=h;break e}Jt=m}}}function ES(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(r,s,o,u){return new ES(r,s,o,u)}function Yd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ss(r,s){var o=r.alternate;return o===null?(o=Yn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Zv(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Hc(r,s,o,u,h,m){var b=0;if(u=r,typeof r=="function")Yd(r)&&(b=1);else if(typeof r=="string")b=aA(r,o,Gt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case p:return la(o.children,h,m,s);case g:b=8,h|=24;break;case v:return r=Yn(12,o,s,h|2),r.elementType=v,r.lanes=m,r;case U:return r=Yn(13,o,s,h),r.elementType=U,r.lanes=m,r;case k:return r=Yn(19,o,s,h),r.elementType=k,r.lanes=m,r;case G:return Jv(o,h,m,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case E:case R:b=10;break e;case T:b=9;break e;case O:b=11;break e;case $:b=14;break e;case B:b=16,u=null;break e}b=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Yn(b,o,s,h),s.elementType=r,s.type=u,s.lanes=m,s}function la(r,s,o,u){return r=Yn(7,r,u,s),r.lanes=o,r}function Jv(r,s,o,u){r=Yn(22,r,u,s),r.elementType=G,r.lanes=o;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=h._current;if(m===null)throw Error(i(456));if((h._pendingVisibility&2)===0){var b=Ki(m,2);b!==null&&(h._pendingVisibility|=2,Tn(b,m,2))}},attach:function(){var m=h._current;if(m===null)throw Error(i(456));if((h._pendingVisibility&2)!==0){var b=Ki(m,2);b!==null&&(h._pendingVisibility&=-3,Tn(b,m,2))}}};return r.stateNode=h,r}function Xd(r,s,o){return r=Yn(6,r,null,s),r.lanes=o,r}function Wd(r,s,o){return s=Yn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function pi(r){r.flags|=4}function e_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!U_(s)){if(s=Gn.current,s!==null&&((et&4194176)===et?Cr!==null:(et&62914560)!==et&&(et&536870912)===0||s!==Cr))throw wl=nd,yy;r.flags|=8192}}function qc(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Vi():536870912,r.lanes|=s,ho|=s)}function zl(r,s){if(!rt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function vt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&31457280,u|=h.flags&31457280,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function TS(r,s,o){var u=s.pendingProps;switch(ed(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(s),null;case 1:return vt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ci(zt),mr(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(_l(s)?pi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,or!==null&&(sp(or),or=null))),vt(s),null;case 26:return o=s.memoizedState,r===null?(pi(s),o!==null?(vt(s),e_(s,o)):(vt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(pi(s),vt(s),e_(s,o)):(vt(s),s.flags&=-16777217):(r.memoizedProps!==u&&pi(s),vt(s),s.flags&=-16777217),null;case 27:M(s),o=yn.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&pi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return vt(s),null}r=Gt.current,_l(s)?my(s):(r=O_(h,u,o),s.stateNode=r,pi(s))}return vt(s),null;case 5:if(M(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&pi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return vt(s),null}if(r=Gt.current,_l(s))my(s);else{switch(h=tf(yn.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[Yt]=s,r[Lt]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(an(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&pi(s)}}return vt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&pi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=yn.current,_l(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,h=En,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Yt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||S_(r.nodeValue,o)),r||Zs(s)}else r=tf(r).createTextNode(u),r[Yt]=s,s.stateNode=r}return vt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=_l(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Yt]=s}else bl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vt(s),h=!1}else or!==null&&(sp(or),or=null),h=!0;if(!h)return s.flags&256?(ai(s),s):(ai(s),null)}if(ai(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),qc(s,s.updateQueue),vt(s),null;case 4:return mr(),r===null&&gp(s.stateNode.containerInfo),vt(s),null;case 10:return ci(s.type),vt(s),null;case 19:if(pt(jt),h=s.memoizedState,h===null)return vt(s),null;if(u=(s.flags&128)!==0,m=h.rendering,m===null)if(u)zl(h,!1);else{if(St!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(m=Rc(r),m!==null){for(s.flags|=128,zl(h,!1),r=m.updateQueue,s.updateQueue=r,qc(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Zv(o,r),o=o.sibling;return st(jt,jt.current&1|2),s.child}r=r.sibling}h.tail!==null&&_e()>$c&&(s.flags|=128,u=!0,zl(h,!1),s.lanes=4194304)}else{if(!u)if(r=Rc(m),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,qc(s,r),zl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!rt)return vt(s),null}else 2*_e()-h.renderingStartTime>$c&&o!==536870912&&(s.flags|=128,u=!0,zl(h,!1),s.lanes=4194304);h.isBackwards?(m.sibling=s.child,s.child=m):(r=h.last,r!==null?r.sibling=m:s.child=m,h.last=m)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=_e(),s.sibling=null,r=jt.current,st(jt,u?r&1|2:r&1),s):(vt(s),null);case 22:case 23:return ai(s),id(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(vt(s),s.subtreeFlags&6&&(s.flags|=8192)):vt(s),o=s.updateQueue,o!==null&&qc(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&pt(ea),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ci(zt),vt(s),null;case 25:return null}throw Error(i(156,s.tag))}function wS(r,s){switch(ed(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ci(zt),mr(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return M(s),null;case 13:if(ai(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));bl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return pt(jt),null;case 4:return mr(),null;case 10:return ci(s.type),null;case 22:case 23:return ai(s),id(),r!==null&&pt(ea),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ci(zt),null;case 25:return null;default:return null}}function t_(r,s){switch(ed(s),s.tag){case 3:ci(zt),mr();break;case 26:case 27:case 5:M(s);break;case 4:mr();break;case 13:ai(s);break;case 19:pt(jt);break;case 10:ci(s.type);break;case 22:case 23:ai(s),id(),r!==null&&pt(ea);break;case 24:ci(zt)}}var SS={getCacheForType:function(r){var s=cn(zt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},AS=typeof WeakMap=="function"?WeakMap:Map,_t=0,ht=null,Ke=null,et=0,dt=0,Pn=null,mi=!1,fo=!1,Zd=!1,gi=0,St=0,as=0,ua=0,Jd=0,Xn=0,ho=0,Bl=null,Or=null,ep=!1,tp=0,$c=1/0,Gc=null,os=null,Kc=!1,ca=null,Fl=0,np=0,rp=null,Hl=0,ip=null;function Vn(){if((_t&2)!==0&&et!==0)return et&-et;if(A.T!==null){var r=ro;return r!==0?r:hp()}return Ju()}function n_(){Xn===0&&(Xn=(et&536870912)===0||rt?tl():536870912);var r=Gn.current;return r!==null&&(r.flags|=32),Xn}function Tn(r,s,o){(r===ht&&dt===2||r.cancelPendingCommit!==null)&&(po(r,0),yi(r,et,Xn,!1)),Rt(r,o),((_t&2)===0||r!==ht)&&(r===ht&&((_t&2)===0&&(ua|=o),St===4&&yi(r,et,Xn,!1)),Dr(r))}function r_(r,s,o){if((_t&6)!==0)throw Error(i(327));var u=!o&&(s&60)===0&&(s&r.expiredLanes)===0||Pi(r,s),h=u?CS(r,s):lp(r,s,!0),m=u;do{if(h===0){fo&&!u&&yi(r,s,0,!1);break}else if(h===6)yi(r,s,0,!mi);else{if(o=r.current.alternate,m&&!xS(o)){h=lp(r,s,!1),m=!1;continue}if(h===2){if(m=s,r.errorRecoveryDisabledLanes&m)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var w=r;h=Bl;var N=w.current.memoizedState.isDehydrated;if(N&&(po(w,b).flags|=256),b=lp(w,b,!1),b!==2){if(Zd&&!N){w.errorRecoveryDisabledLanes|=m,ua|=m,h=4;break e}m=Or,Or=h,m!==null&&sp(m)}h=b}if(m=!1,h!==2)continue}}if(h===1){po(r,0),yi(r,s,0,!0);break}e:{switch(u=r,h){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){yi(u,s,Xn,!mi);break e}break;case 2:Or=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(m=tp+300-_e(),10<m)){if(yi(u,s,Xn,!mi),Ln(u,0)!==0)break e;u.timeoutHandle=R_(i_.bind(null,u,o,Or,Gc,ep,s,Xn,ua,ho,mi,2,-0,0),m);break e}i_(u,o,Or,Gc,ep,s,Xn,ua,ho,mi,0,-0,0)}}break}while(!0);Dr(r)}function sp(r){Or===null?Or=r:Or.push.apply(Or,r)}function i_(r,s,o,u,h,m,b,w,N,F,ee,ae,X){var J=s.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(Yl={stylesheets:null,count:0,unsuspend:oA},Qv(s),s=uA(),s!==null)){r.cancelPendingCommit=s(f_.bind(null,r,o,u,h,b,w,N,1,ae,X)),yi(r,m,b,!F);return}f_(r,o,u,h,b,w,N,ee,ae,X)}function xS(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],m=h.getSnapshot;h=h.value;try{if(!Dn(m(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function yi(r,s,o,u){s&=~Jd,s&=~ua,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var h=s;0<h;){var m=31-vn(h),b=1<<m;u[m]=-1,h&=~b}o!==0&&Li(r,o,s)}function Qc(){return(_t&6)===0?(ql(0),!1):!0}function ap(){if(Ke!==null){if(dt===0)var r=Ke.return;else r=Ke,ui=sa=null,hd(r),to=null,Sl=0,r=Ke;for(;r!==null;)t_(r.alternate,r),r=r.return;Ke=null}}function po(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,$S(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),ap(),ht=r,Ke=o=ss(r.current,null),et=s,dt=0,Pn=null,mi=!1,fo=Pi(r,s),Zd=!1,ho=Xn=Jd=ua=as=St=0,Or=Bl=null,ep=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var h=31-vn(u),m=1<<h;s|=r[h],u&=~m}return gi=s,vc(),o}function s_(r,s){Fe=null,A.H=Ir,s===Tl?(s=by(),dt=3):s===yy?(s=by(),dt=4):dt=s===vv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Pn=s,Ke===null&&(St=1,Uc(r,Hn(s,r.current)))}function a_(){var r=A.H;return A.H=Ir,r===null?Ir:r}function o_(){var r=A.A;return A.A=SS,r}function op(){St=4,mi||(et&4194176)!==et&&Gn.current!==null||(fo=!0),(as&134217727)===0&&(ua&134217727)===0||ht===null||yi(ht,et,Xn,!1)}function lp(r,s,o){var u=_t;_t|=2;var h=a_(),m=o_();(ht!==r||et!==s)&&(Gc=null,po(r,s)),s=!1;var b=St;e:do try{if(dt!==0&&Ke!==null){var w=Ke,N=Pn;switch(dt){case 8:ap(),b=6;break e;case 3:case 2:case 6:Gn.current===null&&(s=!0);var F=dt;if(dt=0,Pn=null,mo(r,w,N,F),o&&fo){b=0;break e}break;default:F=dt,dt=0,Pn=null,mo(r,w,N,F)}}RS(),b=St;break}catch(ee){s_(r,ee)}while(!0);return s&&r.shellSuspendCounter++,ui=sa=null,_t=u,A.H=h,A.A=m,Ke===null&&(ht=null,et=0,vc()),b}function RS(){for(;Ke!==null;)l_(Ke)}function CS(r,s){var o=_t;_t|=2;var u=a_(),h=o_();ht!==r||et!==s?(Gc=null,$c=_e()+500,po(r,s)):fo=Pi(r,s);e:do try{if(dt!==0&&Ke!==null){s=Ke;var m=Pn;t:switch(dt){case 1:dt=0,Pn=null,mo(r,s,m,1);break;case 2:if(vy(m)){dt=0,Pn=null,u_(s);break}s=function(){dt===2&&ht===r&&(dt=7),Dr(r)},m.then(s,s);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:vy(m)?(dt=0,Pn=null,u_(s)):(dt=0,Pn=null,mo(r,s,m,7));break;case 5:var b=null;switch(Ke.tag){case 26:b=Ke.memoizedState;case 5:case 27:var w=Ke;if(!b||U_(b)){dt=0,Pn=null;var N=w.sibling;if(N!==null)Ke=N;else{var F=w.return;F!==null?(Ke=F,Yc(F)):Ke=null}break t}}dt=0,Pn=null,mo(r,s,m,5);break;case 6:dt=0,Pn=null,mo(r,s,m,6);break;case 8:ap(),St=6;break e;default:throw Error(i(462))}}IS();break}catch(ee){s_(r,ee)}while(!0);return ui=sa=null,A.H=u,A.A=h,_t=o,Ke!==null?0:(ht=null,et=0,vc(),St)}function IS(){for(;Ke!==null&&!fe();)l_(Ke)}function l_(r){var s=Ov(r.alternate,r,gi);r.memoizedProps=r.pendingProps,s===null?Yc(r):Ke=s}function u_(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Sv(o,s,s.pendingProps,s.type,void 0,et);break;case 11:s=Sv(o,s,s.pendingProps,s.type.render,s.ref,et);break;case 5:hd(s);default:t_(o,s),s=Ke=Zv(s,gi),s=Ov(o,s,gi)}r.memoizedProps=r.pendingProps,s===null?Yc(r):Ke=s}function mo(r,s,o,u){ui=sa=null,hd(s),to=null,Sl=0;var h=s.return;try{if(yS(r,h,s,o,et)){St=1,Uc(r,Hn(o,r.current)),Ke=null;return}}catch(m){if(h!==null)throw Ke=h,m;St=1,Uc(r,Hn(o,r.current)),Ke=null;return}s.flags&32768?(rt||u===1?r=!0:fo||(et&536870912)!==0?r=!1:(mi=r=!0,(u===2||u===3||u===6)&&(u=Gn.current,u!==null&&u.tag===13&&(u.flags|=16384))),c_(s,r)):Yc(s)}function Yc(r){var s=r;do{if((s.flags&32768)!==0){c_(s,mi);return}r=s.return;var o=TS(s.alternate,s,gi);if(o!==null){Ke=o;return}if(s=s.sibling,s!==null){Ke=s;return}Ke=s=r}while(s!==null);St===0&&(St=5)}function c_(r,s){do{var o=wS(r.alternate,r);if(o!==null){o.flags&=32767,Ke=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ke=r;return}Ke=r=o}while(r!==null);St=6,Ke=null}function f_(r,s,o,u,h,m,b,w,N,F){var ee=A.T,ae=me.p;try{me.p=2,A.T=null,OS(r,s,o,u,ae,h,m,b,w,N,F)}finally{A.T=ee,me.p=ae}}function OS(r,s,o,u,h,m,b,w){do go();while(ca!==null);if((_t&6)!==0)throw Error(i(327));var N=r.finishedWork;if(u=r.finishedLanes,N===null)return null;if(r.finishedWork=null,r.finishedLanes=0,N===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var F=N.lanes|N.childLanes;if(F|=Wh,Wu(r,u,F,m,b,w),r===ht&&(Ke=ht=null,et=0),(N.subtreeFlags&10256)===0&&(N.flags&10256)===0||Kc||(Kc=!0,np=F,rp=o,PS(Kt,function(){return go(),null})),o=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||o?(o=A.T,A.T=null,m=me.p,me.p=2,b=_t,_t|=4,_S(r,N),$v(N,r),eS(bp,r.containerInfo),lf=!!_p,bp=_p=null,r.current=N,Bv(r,N.alternate,N),ue(),_t=b,me.p=m,A.T=o):r.current=N,Kc?(Kc=!1,ca=r,Fl=u):h_(r,F),F=r.pendingLanes,F===0&&(os=null),Ni(N.stateNode),Dr(r),s!==null)for(h=r.onRecoverableError,N=0;N<s.length;N++)F=s[N],h(F.value,{componentStack:F.stack});return(Fl&3)!==0&&go(),F=r.pendingLanes,(u&4194218)!==0&&(F&42)!==0?r===ip?Hl++:(Hl=0,ip=r):Hl=0,ql(0),null}function h_(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,xl(s)))}function go(){if(ca!==null){var r=ca,s=np;np=0;var o=Zu(Fl),u=A.T,h=me.p;try{if(me.p=32>o?32:o,A.T=null,ca===null)var m=!1;else{o=rp,rp=null;var b=ca,w=Fl;if(ca=null,Fl=0,(_t&6)!==0)throw Error(i(331));var N=_t;if(_t|=4,Xv(b.current),Kv(b,b.current,w,o),_t=N,ql(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(rr,b)}catch{}m=!0}return m}finally{me.p=h,A.T=u,h_(r,s)}}return!1}function d_(r,s,o){s=Hn(o,s),s=xd(r.stateNode,s,2),r=ts(r,s,2),r!==null&&(Rt(r,2),Dr(r))}function ft(r,s,o){if(r.tag===3)d_(r,r,o);else for(;s!==null;){if(s.tag===3){d_(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(os===null||!os.has(u))){r=Hn(o,r),o=gv(2),u=ts(s,o,2),u!==null&&(yv(o,u,s,r),Rt(u,2),Dr(u));break}}s=s.return}}function up(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new AS;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(Zd=!0,h.add(o),r=DS.bind(null,r,s,o),s.then(r,r))}function DS(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ht===r&&(et&o)===o&&(St===4||St===3&&(et&62914560)===et&&300>_e()-tp?(_t&2)===0&&po(r,0):Jd|=o,ho===et&&(ho=0)),Dr(r)}function p_(r,s){s===0&&(s=Vi()),r=Ki(r,s),r!==null&&(Rt(r,s),Dr(r))}function NS(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),p_(r,o)}function kS(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),p_(r,o)}function PS(r,s){return Z(r,s)}var Xc=null,yo=null,cp=!1,Wc=!1,fp=!1,fa=0;function Dr(r){r!==yo&&r.next===null&&(yo===null?Xc=yo=r:yo=yo.next=r),Wc=!0,cp||(cp=!0,LS(VS))}function ql(r,s){if(!fp&&Wc){fp=!0;do for(var o=!1,u=Xc;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var m=0;else{var b=u.suspendedLanes,w=u.pingedLanes;m=(1<<31-vn(42|r)+1)-1,m&=h&~(b&~w),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(o=!0,y_(u,m))}else m=et,m=Ln(u,u===ht?m:0),(m&3)===0||Pi(u,m)||(o=!0,y_(u,m));u=u.next}while(o);fp=!1}}function VS(){Wc=cp=!1;var r=0;fa!==0&&(qS()&&(r=fa),fa=0);for(var s=_e(),o=null,u=Xc;u!==null;){var h=u.next,m=m_(u,s);m===0?(u.next=null,o===null?Xc=h:o.next=h,h===null&&(yo=o)):(o=u,(r!==0||(m&3)!==0)&&(Wc=!0)),u=h}ql(r)}function m_(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var b=31-vn(m),w=1<<b,N=h[b];N===-1?((w&o)===0||(w&u)!==0)&&(h[b]=Pa(w,s)):N<=s&&(r.expiredLanes|=w),m&=~w}if(s=ht,o=et,o=Ln(r,r===s?o:0),u=r.callbackNode,o===0||r===s&&dt===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&he(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Pi(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&he(u),Zu(o)){case 2:case 8:o=Ge;break;case 32:o=Kt;break;case 268435456:o=Kr;break;default:o=Kt}return u=g_.bind(null,r),o=Z(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&he(u),r.callbackPriority=2,r.callbackNode=null,2}function g_(r,s){var o=r.callbackNode;if(go()&&r.callbackNode!==o)return null;var u=et;return u=Ln(r,r===ht?u:0),u===0?null:(r_(r,u,s),m_(r,_e()),r.callbackNode!=null&&r.callbackNode===o?g_.bind(null,r):null)}function y_(r,s){if(go())return null;r_(r,s,!0)}function LS(r){GS(function(){(_t&6)!==0?Z(qe,r):r()})}function hp(){return fa===0&&(fa=tl()),fa}function v_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:br(""+r)}function __(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function MS(r,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var m=v_((h[Lt]||null).action),b=u.submitter;b&&(s=(s=b[Lt]||null)?v_(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var w=new Ba("action","action",null,u,h);r.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fa!==0){var N=b?__(h,b):new FormData(h);Ed(o,{pending:!0,data:N,method:h.method,action:m},null,N)}}else typeof m=="function"&&(w.preventDefault(),N=b?__(h,b):new FormData(h),Ed(o,{pending:!0,data:N,method:h.method,action:m},m,N))},currentTarget:h}]})}}for(var dp=0;dp<fy.length;dp++){var pp=fy[dp],US=pp.toLowerCase(),jS=pp[0].toUpperCase()+pp.slice(1);ar(US,"on"+jS)}ar(ay,"onAnimationEnd"),ar(oy,"onAnimationIteration"),ar(ly,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(nS,"onTransitionRun"),ar(rS,"onTransitionStart"),ar(iS,"onTransitionCancel"),ar(uy,"onTransitionEnd"),An("onMouseEnter",["mouseout","mouseover"]),An("onMouseLeave",["mouseout","mouseover"]),An("onPointerEnter",["pointerout","pointerover"]),An("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function b_(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var b=u.length-1;0<=b;b--){var w=u[b],N=w.instance,F=w.currentTarget;if(w=w.listener,N!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=F;try{m(h)}catch(ee){Mc(ee)}h.currentTarget=null,m=N}else for(b=0;b<u.length;b++){if(w=u[b],N=w.instance,F=w.currentTarget,w=w.listener,N!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=F;try{m(h)}catch(ee){Mc(ee)}h.currentTarget=null,m=N}}}}function We(r,s){var o=s[Ls];o===void 0&&(o=s[Ls]=new Set);var u=r+"__bubble";o.has(u)||(E_(s,r,2,!1),o.add(u))}function mp(r,s,o){var u=0;s&&(u|=4),E_(o,r,u,s)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function gp(r){if(!r[Zc]){r[Zc]=!0,rl.forEach(function(o){o!=="selectionchange"&&(zS.has(o)||mp(o,!1,r),mp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Zc]||(s[Zc]=!0,mp("selectionchange",!1,s))}}function E_(r,s,o,u){switch(q_(s)){case 2:var h=hA;break;case 8:h=dA;break;default:h=Ip}o=h.bind(null,s,o,r),h=void 0,!zn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function yp(r,s,o,u,h){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(b===4)for(b=u.return;b!==null;){var N=b.tag;if((N===3||N===4)&&(N=b.stateNode.containerInfo,N===h||N.nodeType===8&&N.parentNode===h))return;b=b.return}for(;w!==null;){if(b=sr(w),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){u=m=b;continue e}w=w.parentNode}}u=u.return}rc(function(){var F=m,ee=za(o),ae=[];e:{var X=cy.get(r);if(X!==void 0){var J=Ba,we=r;switch(r){case"keypress":if(Tr(o)===0)break e;case"keydown":case"keyup":J=Ka;break;case"focusin":we="focus",J=qa;break;case"focusout":we="blur",J=qa;break;case"beforeblur":case"afterblur":J=qa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=fc;break;case ay:case oy:case ly:J=$a;break;case uy:J=dc;break;case"scroll":case"scrollend":J=ic;break;case"wheel":J=Qa;break;case"copy":case"cut":case"paste":J=Ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=ml;break;case"toggle":case"beforetoggle":J=mc}var Me=(s&4)!==0,At=!Me&&(r==="scroll"||r==="scrollend"),q=Me?X!==null?X+"Capture":null:X;Me=[];for(var z=F,Q;z!==null;){var te=z;if(Q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Q===null||q===null||(te=Bs(z,q),te!=null&&Me.push(Gl(z,te,Q))),At)break;z=z.return}0<Me.length&&(X=new J(X,we,null,o,ee),ae.push({event:X,listeners:Me}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",X&&o!==jn&&(we=o.relatedTarget||o.fromElement)&&(sr(we)||we[Yr]))break e;if((J||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,J?(we=o.relatedTarget||o.toElement,J=F,we=we?sr(we):null,we!==null&&(At=ye(we),Me=we.tag,we!==At||Me!==5&&Me!==27&&Me!==6)&&(we=null)):(J=null,we=F),J!==we)){if(Me=Bn,te="onMouseLeave",q="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(Me=ml,te="onPointerLeave",q="onPointerEnter",z="pointer"),At=J==null?X:zi(J),Q=we==null?X:zi(we),X=new Me(te,z+"leave",J,o,ee),X.target=At,X.relatedTarget=Q,te=null,sr(ee)===F&&(Me=new Me(q,z+"enter",we,o,ee),Me.target=Q,Me.relatedTarget=At,te=Me),At=te,J&&we)t:{for(Me=J,q=we,z=0,Q=Me;Q;Q=vo(Q))z++;for(Q=0,te=q;te;te=vo(te))Q++;for(;0<z-Q;)Me=vo(Me),z--;for(;0<Q-z;)q=vo(q),Q--;for(;z--;){if(Me===q||q!==null&&Me===q.alternate)break t;Me=vo(Me),q=vo(q)}Me=null}else Me=null;J!==null&&T_(ae,X,J,Me,!1),we!==null&&At!==null&&T_(ae,At,we,Me,!0)}}e:{if(X=F?zi(F):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var Ee=Yg;else if(Ut(X))if(Xg)Ee=Zw;else{Ee=Xw;var $e=Yw}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?F&&ll(F.elementType)&&(Ee=Yg):Ee=Ww;if(Ee&&(Ee=Ee(r,F))){ri(ae,Ee,o,ee);break e}$e&&$e(r,X,F),r==="focusout"&&F&&X.type==="number"&&F.memoizedProps.value!=null&&ja(X,"number",X.value)}switch($e=F?zi(F):window,r){case"focusin":(Ut($e)||$e.contentEditable==="true")&&(Ya=$e,Qh=F,vl=null);break;case"focusout":vl=Qh=Ya=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,iy(ae,o,ee);break;case"selectionchange":if(tS)break;case"keydown":case"keyup":iy(ae,o,ee)}var Se;if(Ar)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ze?W(r,o)&&(Oe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Oe="onCompositionStart");Oe&&(_&&o.locale!=="ko"&&(Ze||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ze&&(Se=cl()):(Er=ee,Gi="value"in Er?Er.value:Er.textContent,Ze=!0)),$e=Jc(F,Oe),0<$e.length&&(Oe=new dl(Oe,r,null,o,ee),ae.push({event:Oe,listeners:$e}),Se?Oe.data=Se:(Se=ce(o),Se!==null&&(Oe.data=Se)))),(Se=y?Mt(r,o):Je(r,o))&&(Oe=Jc(F,"onBeforeInput"),0<Oe.length&&($e=new dl("onBeforeInput","beforeinput",null,o,ee),ae.push({event:$e,listeners:Oe}),$e.data=Se)),MS(ae,r,F,o,ee)}b_(ae,s)})}function Gl(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Jc(r,s){for(var o=s+"Capture",u=[];r!==null;){var h=r,m=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Bs(r,o),h!=null&&u.unshift(Gl(r,h,m)),h=Bs(r,s),h!=null&&u.push(Gl(r,h,m))),r=r.return}return u}function vo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function T_(r,s,o,u,h){for(var m=s._reactName,b=[];o!==null&&o!==u;){var w=o,N=w.alternate,F=w.stateNode;if(w=w.tag,N!==null&&N===u)break;w!==5&&w!==26&&w!==27||F===null||(N=F,h?(F=Bs(o,m),F!=null&&b.unshift(Gl(o,F,N))):h||(F=Bs(o,m),F!=null&&b.push(Gl(o,F,N)))),o=o.return}b.length!==0&&r.push({event:s,listeners:b})}var BS=/\r\n?/g,FS=/\u0000|\uFFFD/g;function w_(r){return(typeof r=="string"?r:""+r).replace(BS,`
`).replace(FS,"")}function S_(r,s){return s=w_(s),w_(r)===s}function ef(){}function ct(r,s,o,u,h,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Un(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Un(r,""+u);break;case"className":Hi(r,"class",u);break;case"tabIndex":Hi(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Hi(r,o,u);break;case"style":nc(r,u,m);break;case"data":if(s!=="object"){Hi(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=br(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&ct(r,s,"name",h.name,h,null),ct(r,s,"formEncType",h.formEncType,h,null),ct(r,s,"formMethod",h.formMethod,h,null),ct(r,s,"formTarget",h.formTarget,h,null)):(ct(r,s,"encType",h.encType,h,null),ct(r,s,"method",h.method,h,null),ct(r,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=br(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=ef);break;case"onScroll":u!=null&&We("scroll",r);break;case"onScrollEnd":u!=null&&We("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=br(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":We("beforetoggle",r),We("toggle",r),Fi(r,"popover",u);break;case"xlinkActuate":Mn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Mn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Mn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Mn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Mn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Mn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Mn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Mn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Mn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Fi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Bh.get(o)||o,Fi(r,o,u))}}function vp(r,s,o,u,h,m){switch(o){case"style":nc(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Un(r,u):(typeof u=="number"||typeof u=="bigint")&&Un(r,""+u);break;case"onScroll":u!=null&&We("scroll",r);break;case"onScrollEnd":u!=null&&We("scrollend",r);break;case"onClick":u!=null&&(r.onclick=ef);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ma.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),m=r[Lt]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(s,m,h),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Fi(r,o,u)}}}function an(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",r),We("load",r);var u=!1,h=!1,m;for(m in o)if(o.hasOwnProperty(m)){var b=o[m];if(b!=null)switch(m){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ct(r,s,m,b,o,null)}}h&&ct(r,s,"srcSet",o.srcSet,o,null),u&&ct(r,s,"src",o.src,o,null);return;case"input":We("invalid",r);var w=m=b=h=null,N=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var ee=o[u];if(ee!=null)switch(u){case"name":h=ee;break;case"type":b=ee;break;case"checked":N=ee;break;case"defaultChecked":F=ee;break;case"value":m=ee;break;case"defaultValue":w=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:ct(r,s,u,ee,o,null)}}js(r,m,w,N,F,b,h,!1),Us(r);return;case"select":We("invalid",r),u=b=m=null;for(h in o)if(o.hasOwnProperty(h)&&(w=o[h],w!=null))switch(h){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:ct(r,s,h,w,o,null)}s=m,o=b,r.multiple=!!u,s!=null?nt(r,!!u,s,!1):o!=null&&nt(r,!!u,o,!0);return;case"textarea":We("invalid",r),m=h=u=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":h=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ct(r,s,b,w,o,null)}$i(r,u,h,m),Us(r);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ct(r,s,N,u,o,null)}return;case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":We("load",r);break;case"video":case"audio":for(u=0;u<$l.length;u++)We($l[u],r);break;case"image":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"embed":case"source":case"link":We("error",r),We("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ct(r,s,F,u,o,null)}return;default:if(ll(s)){for(ee in o)o.hasOwnProperty(ee)&&(u=o[ee],u!==void 0&&vp(r,s,ee,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&ct(r,s,w,u,o,null))}function HS(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,w=null,N=null,F=null,ee=null;for(J in o){var ae=o[J];if(o.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":N=ae;default:u.hasOwnProperty(J)||ct(r,s,J,null,u,ae)}}for(var X in u){var J=u[X];if(ae=o[X],u.hasOwnProperty(X)&&(J!=null||ae!=null))switch(X){case"type":m=J;break;case"name":h=J;break;case"checked":F=J;break;case"defaultChecked":ee=J;break;case"value":b=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:J!==ae&&ct(r,s,X,J,u,ae)}}qi(r,b,w,N,F,ee,m,h);return;case"select":J=b=w=X=null;for(m in o)if(N=o[m],o.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":J=N;default:u.hasOwnProperty(m)||ct(r,s,m,null,u,N)}for(h in u)if(m=u[h],N=o[h],u.hasOwnProperty(h)&&(m!=null||N!=null))switch(h){case"value":X=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==N&&ct(r,s,h,m,u,N)}s=w,o=b,u=J,X!=null?nt(r,!!o,X,!1):!!u!=!!o&&(s!=null?nt(r,!!o,s,!0):nt(r,!!o,o?[]:"",!1));return;case"textarea":J=X=null;for(w in o)if(h=o[w],o.hasOwnProperty(w)&&h!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ct(r,s,w,null,u,h)}for(b in u)if(h=u[b],m=o[b],u.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":X=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==m&&ct(r,s,b,h,u,m)}zs(r,X,J);return;case"option":for(var we in o)if(X=o[we],o.hasOwnProperty(we)&&X!=null&&!u.hasOwnProperty(we))switch(we){case"selected":r.selected=!1;break;default:ct(r,s,we,null,u,X)}for(N in u)if(X=u[N],J=o[N],u.hasOwnProperty(N)&&X!==J&&(X!=null||J!=null))switch(N){case"selected":r.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ct(r,s,N,X,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in o)X=o[Me],o.hasOwnProperty(Me)&&X!=null&&!u.hasOwnProperty(Me)&&ct(r,s,Me,null,u,X);for(F in u)if(X=u[F],J=o[F],u.hasOwnProperty(F)&&X!==J&&(X!=null||J!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:ct(r,s,F,X,u,J)}return;default:if(ll(s)){for(var At in o)X=o[At],o.hasOwnProperty(At)&&X!==void 0&&!u.hasOwnProperty(At)&&vp(r,s,At,void 0,u,X);for(ee in u)X=u[ee],J=o[ee],!u.hasOwnProperty(ee)||X===J||X===void 0&&J===void 0||vp(r,s,ee,X,u,J);return}}for(var q in o)X=o[q],o.hasOwnProperty(q)&&X!=null&&!u.hasOwnProperty(q)&&ct(r,s,q,null,u,X);for(ae in u)X=u[ae],J=o[ae],!u.hasOwnProperty(ae)||X===J||X==null&&J==null||ct(r,s,ae,X,u,J)}var _p=null,bp=null;function tf(r){return r.nodeType===9?r:r.ownerDocument}function A_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Ep(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Tp=null;function qS(){var r=window.event;return r&&r.type==="popstate"?r===Tp?!1:(Tp=r,!0):(Tp=null,!1)}var R_=typeof setTimeout=="function"?setTimeout:void 0,$S=typeof clearTimeout=="function"?clearTimeout:void 0,C_=typeof Promise=="function"?Promise:void 0,GS=typeof queueMicrotask=="function"?queueMicrotask:typeof C_<"u"?function(r){return C_.resolve(null).then(r).catch(KS)}:R_;function KS(r){setTimeout(function(){throw r})}function wp(r,s){var o=s,u=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){r.removeChild(h),eu(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);eu(s)}function Sp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Sp(o),Ms(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function QS(r,s,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[ji])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==h.rel||r.getAttribute("href")!==(h.href==null?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=ur(r.nextSibling),r===null)break}return null}function YS(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ur(r.nextSibling),r===null))return null;return r}function ur(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function I_(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function O_(r,s,o){switch(s=tf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var Wn=new Map,D_=new Set;function nf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var vi=me.d;me.d={f:XS,r:WS,D:ZS,C:JS,L:eA,m:tA,X:rA,S:nA,M:iA};function XS(){var r=vi.f(),s=Qc();return r||s}function WS(r){var s=Xr(r);s!==null&&s.tag===5&&s.type==="form"?iv(s):vi.r(r)}var _o=typeof document>"u"?null:document;function N_(r,s,o){var u=_o;if(u&&typeof s=="string"&&s){var h=Tt(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),D_.has(h)||(D_.add(h),r={rel:r,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),an(s,"link",r),yt(s),u.head.appendChild(s)))}}function ZS(r){vi.D(r),N_("dns-prefetch",r,null)}function JS(r,s){vi.C(r,s),N_("preconnect",r,s)}function eA(r,s,o){vi.L(r,s,o);var u=_o;if(u&&r&&s){var h='link[rel="preload"][as="'+Tt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Tt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Tt(o.imageSizes)+'"]')):h+='[href="'+Tt(r)+'"]';var m=h;switch(s){case"style":m=bo(r);break;case"script":m=Eo(r)}Wn.has(m)||(r=C({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Wn.set(m,r),u.querySelector(h)!==null||s==="style"&&u.querySelector(Kl(m))||s==="script"&&u.querySelector(Ql(m))||(s=u.createElement("link"),an(s,"link",r),yt(s),u.head.appendChild(s)))}}function tA(r,s){vi.m(r,s);var o=_o;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Tt(u)+'"][href="'+Tt(r)+'"]',m=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Eo(r)}if(!Wn.has(m)&&(r=C({rel:"modulepreload",href:r},s),Wn.set(m,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ql(m)))return}u=o.createElement("link"),an(u,"link",r),yt(u),o.head.appendChild(u)}}}function nA(r,s,o){vi.S(r,s,o);var u=_o;if(u&&r){var h=Bi(u).hoistableStyles,m=bo(r);s=s||"default";var b=h.get(m);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(Kl(m)))w.loading=5;else{r=C({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Wn.get(m))&&Ap(r,o);var N=b=u.createElement("link");yt(N),an(N,"link",r),N._p=new Promise(function(F,ee){N.onload=F,N.onerror=ee}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,rf(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:w},h.set(m,b)}}}function rA(r,s){vi.X(r,s);var o=_o;if(o&&r){var u=Bi(o).hoistableScripts,h=Eo(r),m=u.get(h);m||(m=o.querySelector(Ql(h)),m||(r=C({src:r,async:!0},s),(s=Wn.get(h))&&xp(r,s),m=o.createElement("script"),yt(m),an(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function iA(r,s){vi.M(r,s);var o=_o;if(o&&r){var u=Bi(o).hoistableScripts,h=Eo(r),m=u.get(h);m||(m=o.querySelector(Ql(h)),m||(r=C({src:r,async:!0,type:"module"},s),(s=Wn.get(h))&&xp(r,s),m=o.createElement("script"),yt(m),an(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function k_(r,s,o,u){var h=(h=yn.current)?nf(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=bo(o.href),o=Bi(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=bo(o.href);var m=Bi(h).hoistableStyles,b=m.get(r);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,b),(m=h.querySelector(Kl(r)))&&!m._p&&(b.instance=m,b.state.loading=5),Wn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Wn.set(r,o),m||sA(h,r,o,b.state))),s&&u===null)throw Error(i(528,""));return b}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Eo(o),o=Bi(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function bo(r){return'href="'+Tt(r)+'"'}function Kl(r){return'link[rel="stylesheet"]['+r+"]"}function P_(r){return C({},r,{"data-precedence":r.precedence,precedence:null})}function sA(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),an(s,"link",o),yt(s),r.head.appendChild(s))}function Eo(r){return'[src="'+Tt(r)+'"]'}function Ql(r){return"script[async]"+r}function V_(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Tt(o.href)+'"]');if(u)return s.instance=u,yt(u),u;var h=C({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),yt(u),an(u,"style",h),rf(u,o.precedence,r),s.instance=u;case"stylesheet":h=bo(o.href);var m=r.querySelector(Kl(h));if(m)return s.state.loading|=4,s.instance=m,yt(m),m;u=P_(o),(h=Wn.get(h))&&Ap(u,h),m=(r.ownerDocument||r).createElement("link"),yt(m);var b=m;return b._p=new Promise(function(w,N){b.onload=w,b.onerror=N}),an(m,"link",u),s.state.loading|=4,rf(m,o.precedence,r),s.instance=m;case"script":return m=Eo(o.src),(h=r.querySelector(Ql(m)))?(s.instance=h,yt(h),h):(u=o,(h=Wn.get(m))&&(u=C({},o),xp(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),yt(h),an(h,"link",u),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,rf(u,o.precedence,r));return s.instance}function rf(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,m=h,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===s)m=w;else if(m!==h)break}m?m.parentNode.insertBefore(r,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Ap(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function xp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var sf=null;function L_(r,s,o){if(sf===null){var u=new Map,h=sf=new Map;h.set(o,u)}else h=sf,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var m=o[h];if(!(m[ji]||m[Yt]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=r+b;var w=u.get(b);w?w.push(m):u.set(b,[m])}}return u}function M_(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function aA(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function U_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Yl=null;function oA(){}function lA(r,s,o){if(Yl===null)throw Error(i(475));var u=Yl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=bo(o.href),m=r.querySelector(Kl(h));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=af.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=m,yt(m);return}m=r.ownerDocument||r,o=P_(o),(h=Wn.get(h))&&Ap(o,h),m=m.createElement("link"),yt(m);var b=m;b._p=new Promise(function(w,N){b.onload=w,b.onerror=N}),an(m,"link",o),s.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=af.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function uA(){if(Yl===null)throw Error(i(475));var r=Yl;return r.stylesheets&&r.count===0&&Rp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Rp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function af(){if(this.count--,this.count===0){if(this.stylesheets)Rp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var of=null;function Rp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,of=new Map,s.forEach(cA,r),of=null,af.call(r))}function cA(r,s){if(!(s.state.loading&4)){var o=of.get(r);if(o)var u=o.get(null);else{o=new Map,of.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}h=s.instance,b=h.getAttribute("data-precedence"),m=o.get(b)||u,m===u&&o.set(null,h),o.set(b,h),this.count++,u=af.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),m?m.parentNode.insertBefore(h,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var Xl={$$typeof:R,Provider:null,Consumer:null,_currentValue:ze,_currentValue2:ze,_threadCount:0};function fA(r,s,o,u,h,m,b,w){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Va(0),this.hiddenUpdates=Va(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function j_(r,s,o,u,h,m,b,w,N,F,ee,ae){return r=new fA(r,s,o,b,w,N,F,ae),s=1,m===!0&&(s|=24),m=Yn(3,null,null,s),r.current=m,m.stateNode=r,s=sd(),s.refCount++,r.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},jd(m),r}function z_(r){return r?(r=Za,r):Za}function B_(r,s,o,u,h,m){h=z_(h),u.context===null?u.context=h:u.pendingContext=h,u=es(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=ts(r,u,s),o!==null&&(Tn(o,r,s),kl(o,r,s))}function F_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Cp(r,s){F_(r,s),(r=r.alternate)&&F_(r,s)}function H_(r){if(r.tag===13){var s=Ki(r,67108864);s!==null&&Tn(s,r,67108864),Cp(r,67108864)}}var lf=!0;function hA(r,s,o,u){var h=A.T;A.T=null;var m=me.p;try{me.p=2,Ip(r,s,o,u)}finally{me.p=m,A.T=h}}function dA(r,s,o,u){var h=A.T;A.T=null;var m=me.p;try{me.p=8,Ip(r,s,o,u)}finally{me.p=m,A.T=h}}function Ip(r,s,o,u){if(lf){var h=Op(u);if(h===null)yp(r,s,u,uf,o),$_(r,u);else if(mA(h,r,s,o,u))u.stopPropagation();else if($_(r,u),s&4&&-1<pA.indexOf(r)){for(;h!==null;){var m=Xr(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=ir(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var N=1<<31-vn(b);w.entanglements[1]|=N,b&=~N}Dr(m),(_t&6)===0&&($c=_e()+500,ql(0))}}break;case 13:w=Ki(m,2),w!==null&&Tn(w,m,2),Qc(),Cp(m,2)}if(m=Op(u),m===null&&yp(r,s,u,uf,o),m===h)break;h=m}h!==null&&u.stopPropagation()}else yp(r,s,u,null,o)}}function Op(r){return r=za(r),Dp(r)}var uf=null;function Dp(r){if(uf=null,r=sr(r),r!==null){var s=ye(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=Ie(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return uf=r,null}function q_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case qe:return 2;case Ge:return 8;case Kt:case ka:return 32;case Kr:return 268435456;default:return 32}default:return 32}}var Np=!1,ls=null,us=null,cs=null,Wl=new Map,Zl=new Map,fs=[],pA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $_(r,s){switch(r){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Wl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(s.pointerId)}}function Jl(r,s,o,u,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},s!==null&&(s=Xr(s),s!==null&&H_(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function mA(r,s,o,u,h){switch(s){case"focusin":return ls=Jl(ls,r,s,o,u,h),!0;case"dragenter":return us=Jl(us,r,s,o,u,h),!0;case"mouseover":return cs=Jl(cs,r,s,o,u,h),!0;case"pointerover":var m=h.pointerId;return Wl.set(m,Jl(Wl.get(m)||null,r,s,o,u,h)),!0;case"gotpointercapture":return m=h.pointerId,Zl.set(m,Jl(Zl.get(m)||null,r,s,o,u,h)),!0}return!1}function G_(r){var s=sr(r.target);if(s!==null){var o=ye(s);if(o!==null){if(s=o.tag,s===13){if(s=Ie(o),s!==null){r.blockedOn=s,Ui(r.priority,function(){if(o.tag===13){var u=Vn(),h=Ki(o,u);h!==null&&Tn(h,o,u),Cp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function cf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Op(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);jn=u,o.target.dispatchEvent(u),jn=null}else return s=Xr(o),s!==null&&H_(s),r.blockedOn=o,!1;s.shift()}return!0}function K_(r,s,o){cf(r)&&o.delete(s)}function gA(){Np=!1,ls!==null&&cf(ls)&&(ls=null),us!==null&&cf(us)&&(us=null),cs!==null&&cf(cs)&&(cs=null),Wl.forEach(K_),Zl.forEach(K_)}function ff(r,s){r.blockedOn===s&&(r.blockedOn=null,Np||(Np=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,gA)))}var hf=null;function Q_(r){hf!==r&&(hf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){hf===r&&(hf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],h=r[s+2];if(typeof u!="function"){if(Dp(u||o)===null)continue;break}var m=Xr(o);m!==null&&(r.splice(s,3),s-=3,Ed(m,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function eu(r){function s(N){return ff(N,r)}ls!==null&&ff(ls,r),us!==null&&ff(us,r),cs!==null&&ff(cs,r),Wl.forEach(s),Zl.forEach(s);for(var o=0;o<fs.length;o++){var u=fs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<fs.length&&(o=fs[0],o.blockedOn===null);)G_(o),o.blockedOn===null&&fs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],m=o[u+1],b=h[Lt]||null;if(typeof m=="function")b||Q_(o);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[Lt]||null)w=b.formAction;else if(Dp(h)!==null)continue}else w=b.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),Q_(o)}}}function kp(r){this._internalRoot=r}df.prototype.render=kp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Vn();B_(o,u,r,s,null,null)},df.prototype.unmount=kp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&go(),B_(r.current,2,null,r,null,null),Qc(),s[Yr]=null}};function df(r){this._internalRoot=r}df.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ju();r={blockedOn:null,target:r,priority:s};for(var o=0;o<fs.length&&s!==0&&s<fs[o].priority;o++);fs.splice(o,0,r),o===0&&G_(r)}};var Y_=e.version;if(Y_!=="19.0.0")throw Error(i(527,Y_,"19.0.0"));me.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=se(s),r=r!==null?be(r):null,r=r===null?null:r.stateNode,r};var yA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:sr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pf.isDisabled&&pf.supportsFiber)try{rr=pf.inject(yA),Qt=pf}catch{}}return iu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",h=hv,m=dv,b=pv,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=j_(r,1,!1,null,null,o,u,h,m,b,w,null),r[Yr]=s.current,gp(r.nodeType===8?r.parentNode:r),new kp(s)},iu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,h="",m=hv,b=dv,w=pv,N=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),s=j_(r,1,!0,s,o??null,u,h,m,b,w,N,F),s.context=z_(null),o=s.current,u=Vn(),h=es(u),h.callback=null,ts(o,h,u),s.current.lanes=u,Rt(s,u),Dr(s),r[Yr]=s.current,gp(r),new df(s)},iu.version="19.0.0",iu}var f0;function eR(){if(f0)return jp.exports;f0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jp.exports=Jx(),jp.exports}var tR=eR();function HE(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=HE(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function ma(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=HE(n))&&(i&&(i+=" "),i+=e);return i}function nR(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}nR(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Lu=n=>typeof n=="number"&&!isNaN(n),ya=n=>typeof n=="string",Ai=n=>typeof n=="function",rR=n=>ya(n)||Lu(n),am=n=>ya(n)||Ai(n)?n:null,iR=(n,e)=>n===!1||Lu(n)&&n>0?n:e,om=n=>H.isValidElement(n)||ya(n)||Ai(n)||Lu(n);function sR(n,e,t=300){let{scrollHeight:i,style:a}=n;requestAnimationFrame(()=>{a.minHeight="initial",a.height=i+"px",a.transition=`all ${t}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,t)})})}function aR({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:a=300}){return function({children:l,position:c,preventExitTransition:d,done:p,nodeRef:g,isIn:v,playToast:E}){let T=t?`${n}--${c}`:n,R=t?`${e}--${c}`:e,O=H.useRef(0);return H.useLayoutEffect(()=>{let U=g.current,k=T.split(" "),$=B=>{B.target===g.current&&(E(),U.removeEventListener("animationend",$),U.removeEventListener("animationcancel",$),O.current===0&&B.type!=="animationcancel"&&U.classList.remove(...k))};U.classList.add(...k),U.addEventListener("animationend",$),U.addEventListener("animationcancel",$)},[]),H.useEffect(()=>{let U=g.current,k=()=>{U.removeEventListener("animationend",k),i?sR(U,p,a):p()};v||(d?k():(O.current=1,U.className+=` ${R}`,U.addEventListener("animationend",k)))},[v]),ke.createElement(ke.Fragment,null,l)}}function h0(n,e){return{content:qE(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function qE(n,e,t=!1){return H.isValidElement(n)&&!ya(n.type)?H.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Ai(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function oR({closeToast:n,theme:e,ariaLabel:t="close"}){return ke.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},ke.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ke.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function lR({delay:n,isRunning:e,closeToast:t,type:i="default",hide:a,className:l,controlledProgress:c,progress:d,rtl:p,isIn:g,theme:v}){let E=a||c&&d===0,T={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};c&&(T.transform=`scaleX(${d})`);let R=ma("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":p}),O=Ai(l)?l({rtl:p,type:i,defaultClassName:R}):ma(R,l),U={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{g&&t()}};return ke.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},ke.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${i}`}),ke.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:O,style:T,...U}))}var uR=1,$E=()=>`${uR++}`;function cR(n,e,t){let i=1,a=0,l=[],c=[],d=e,p=new Map,g=new Set,v=B=>(g.add(B),()=>g.delete(B)),E=()=>{c=Array.from(p.values()),g.forEach(B=>B())},T=({containerId:B,toastId:G,updateId:re})=>{let ie=B?B!==n:n!==1,de=p.has(G)&&re==null;return ie||de},R=(B,G)=>{p.forEach(re=>{var ie;(G==null||G===re.props.toastId)&&((ie=re.toggle)==null||ie.call(re,B))})},O=B=>{var G,re;(re=(G=B.props)==null?void 0:G.onClose)==null||re.call(G,B.removalReason),B.isActive=!1},U=B=>{if(B==null)p.forEach(O);else{let G=p.get(B);G&&O(G)}E()},k=()=>{a-=l.length,l=[]},$=B=>{var G,re;let{toastId:ie,updateId:de}=B.props,D=de==null;B.staleId&&p.delete(B.staleId),B.isActive=!0,p.set(ie,B),E(),t(h0(B,D?"added":"updated")),D&&((re=(G=B.props).onOpen)==null||re.call(G))};return{id:n,props:d,observe:v,toggle:R,removeToast:U,toasts:p,clearQueue:k,buildToast:(B,G)=>{if(T(G))return;let{toastId:re,updateId:ie,data:de,staleId:D,delay:x}=G,A=ie==null;A&&a++;let C={...d,style:d.toastStyle,key:i++,...Object.fromEntries(Object.entries(G).filter(([V,I])=>I!=null)),toastId:re,updateId:ie,data:de,isIn:!1,className:am(G.className||d.toastClassName),progressClassName:am(G.progressClassName||d.progressClassName),autoClose:G.isLoading?!1:iR(G.autoClose,d.autoClose),closeToast(V){p.get(re).removalReason=V,U(re)},deleteToast(){let V=p.get(re);if(V!=null){if(t(h0(V,"removed")),p.delete(re),a--,a<0&&(a=0),l.length>0){$(l.shift());return}E()}}};C.closeButton=d.closeButton,G.closeButton===!1||om(G.closeButton)?C.closeButton=G.closeButton:G.closeButton===!0&&(C.closeButton=om(d.closeButton)?d.closeButton:!0);let P={content:B,props:C,staleId:D};d.limit&&d.limit>0&&a>d.limit&&A?l.push(P):Lu(x)?setTimeout(()=>{$(P)},x):$(P)},setProps(B){d=B},setToggle:(B,G)=>{let re=p.get(B);re&&(re.toggle=G)},isToastActive:B=>{var G;return(G=p.get(B))==null?void 0:G.isActive},getSnapshot:()=>c}}var Sn=new Map,_u=[],lm=new Set,fR=n=>lm.forEach(e=>e(n)),GE=()=>Sn.size>0;function hR(){_u.forEach(n=>QE(n.content,n.options)),_u=[]}var dR=(n,{containerId:e})=>{var t;return(t=Sn.get(e||1))==null?void 0:t.toasts.get(n)};function KE(n,e){var t;if(e)return!!((t=Sn.get(e))!=null&&t.isToastActive(n));let i=!1;return Sn.forEach(a=>{a.isToastActive(n)&&(i=!0)}),i}function pR(n){if(!GE()){_u=_u.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||rR(n))Sn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Sn.get(n.containerId);e?e.removeToast(n.id):Sn.forEach(t=>{t.removeToast(n.id)})}}var mR=(n={})=>{Sn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function QE(n,e){om(n)&&(GE()||_u.push({content:n,options:e}),Sn.forEach(t=>{t.buildToast(n,e)}))}function gR(n){var e;(e=Sn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function YE(n,e){Sn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function yR(n){let e=n.containerId||1;return{subscribe(t){let i=cR(e,n,fR);Sn.set(e,i);let a=i.observe(t);return hR(),()=>{a(),Sn.delete(e)}},setProps(t){var i;(i=Sn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=Sn.get(e))==null?void 0:t.getSnapshot()}}}function vR(n){return lm.add(n),()=>{lm.delete(n)}}function _R(n){return n&&(ya(n.toastId)||Lu(n.toastId))?n.toastId:$E()}function Mu(n,e){return QE(n,e),e.toastId}function mh(n,e){return{...e,type:e&&e.type||n,toastId:_R(e)}}function gh(n){return(e,t)=>Mu(e,mh(n,t))}function at(n,e){return Mu(n,mh("default",e))}at.loading=(n,e)=>Mu(n,mh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function bR(n,{pending:e,error:t,success:i},a){let l;e&&(l=ya(e)?at.loading(e,a):at.loading(e.render,{...a,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(g,v,E)=>{if(v==null){at.dismiss(l);return}let T={type:g,...c,...a,data:E},R=ya(v)?{render:v}:v;return l?at.update(l,{...T,...R}):at(R.render,{...T,...R}),E},p=Ai(n)?n():n;return p.then(g=>d("success",i,g)).catch(g=>d("error",t,g)),p}at.promise=bR;at.success=gh("success");at.info=gh("info");at.error=gh("error");at.warning=gh("warning");at.warn=at.warning;at.dark=(n,e)=>Mu(n,mh("default",{theme:"dark",...e}));function ER(n){pR(n)}at.dismiss=ER;at.clearWaitingQueue=mR;at.isActive=KE;at.update=(n,e={})=>{let t=dR(n,e);if(t){let{props:i,content:a}=t,l={delay:100,...i,...e,toastId:e.toastId||n,updateId:$E()};l.toastId!==n&&(l.staleId=n);let c=l.render||a;delete l.render,Mu(c,l)}};at.done=n=>{at.update(n,{progress:1})};at.onChange=vR;at.play=n=>YE(!0,n);at.pause=n=>YE(!1,n);function TR(n){var e;let{subscribe:t,getSnapshot:i,setProps:a}=H.useRef(yR(n)).current;a(n);let l=(e=H.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function c(d){if(!l)return[];let p=new Map;return n.newestOnTop&&l.reverse(),l.forEach(g=>{let{position:v}=g.props;p.has(v)||p.set(v,[]),p.get(v).push(g)}),Array.from(p,g=>d(g[0],g[1]))}return{getToastToRender:c,isToastActive:KE,count:l==null?void 0:l.length}}function wR(n){let[e,t]=H.useState(!1),[i,a]=H.useState(!1),l=H.useRef(null),c=H.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:p,closeToast:g,onClick:v,closeOnClick:E}=n;gR({id:n.toastId,containerId:n.containerId,fn:t}),H.useEffect(()=>{if(n.pauseOnFocusLoss)return T(),()=>{R()}},[n.pauseOnFocusLoss]);function T(){document.hasFocus()||$(),window.addEventListener("focus",k),window.addEventListener("blur",$)}function R(){window.removeEventListener("focus",k),window.removeEventListener("blur",$)}function O(D){if(n.draggable===!0||n.draggable===D.pointerType){B();let x=l.current;c.canCloseOnClick=!0,c.canDrag=!0,x.style.transition="none",n.draggableDirection==="x"?(c.start=D.clientX,c.removalDistance=x.offsetWidth*(n.draggablePercent/100)):(c.start=D.clientY,c.removalDistance=x.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function U(D){let{top:x,bottom:A,left:C,right:P}=l.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&n.pauseOnHover&&D.clientX>=C&&D.clientX<=P&&D.clientY>=x&&D.clientY<=A?$():k()}function k(){t(!0)}function $(){t(!1)}function B(){c.didMove=!1,document.addEventListener("pointermove",re),document.addEventListener("pointerup",ie)}function G(){document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",ie)}function re(D){let x=l.current;if(c.canDrag&&x){c.didMove=!0,e&&$(),n.draggableDirection==="x"?c.delta=D.clientX-c.start:c.delta=D.clientY-c.start,c.start!==D.clientX&&(c.canCloseOnClick=!1);let A=n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;x.style.transform=`translate3d(${A},0)`,x.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function ie(){G();let D=l.current;if(c.canDrag&&c.didMove&&D){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),n.closeToast(!0),n.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let de={onPointerDown:O,onPointerUp:U};return d&&p&&(de.onMouseEnter=$,n.stacked||(de.onMouseLeave=k)),E&&(de.onClick=D=>{v&&v(D),c.canCloseOnClick&&g(!0)}),{playToast:k,pauseToast:$,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:de}}var SR=typeof window<"u"?H.useLayoutEffect:H.useEffect,yh=({theme:n,type:e,isLoading:t,...i})=>ke.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function AR(n){return ke.createElement(yh,{...n},ke.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function xR(n){return ke.createElement(yh,{...n},ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function RR(n){return ke.createElement(yh,{...n},ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function CR(n){return ke.createElement(yh,{...n},ke.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function IR(){return ke.createElement("div",{className:"Toastify__spinner"})}var um={info:xR,warning:AR,success:RR,error:CR,spinner:IR},OR=n=>n in um;function DR({theme:n,type:e,isLoading:t,icon:i}){let a=null,l={theme:n,type:e};return i===!1||(Ai(i)?a=i({...l,isLoading:t}):H.isValidElement(i)?a=H.cloneElement(i,l):t?a=um.spinner():OR(e)&&(a=um[e](l))),a}var NR=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:a,playToast:l}=wR(n),{closeButton:c,children:d,autoClose:p,onClick:g,type:v,hideProgressBar:E,closeToast:T,transition:R,position:O,className:U,style:k,progressClassName:$,updateId:B,role:G,progress:re,rtl:ie,toastId:de,deleteToast:D,isIn:x,isLoading:A,closeOnClick:C,theme:P,ariaLabel:V}=n,I=ma("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":ie},{"Toastify__toast--close-on-click":C}),Ae=Ai(U)?U({rtl:ie,position:O,type:v,defaultClassName:I}):ma(I,U),Ce=DR(n),oe=!!re||!p,ge={closeToast:T,type:v,theme:P},ye=null;return c===!1||(Ai(c)?ye=c(ge):H.isValidElement(c)?ye=H.cloneElement(c,ge):ye=oR(ge)),ke.createElement(R,{isIn:x,done:D,position:O,preventExitTransition:t,nodeRef:i,playToast:l},ke.createElement("div",{id:de,tabIndex:0,onClick:g,"data-in":x,className:Ae,...a,style:k,ref:i,...x&&{role:G,"aria-label":V}},Ce!=null&&ke.createElement("div",{className:ma("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!A})},Ce),qE(d,n,!e),ye,!n.customProgressBar&&ke.createElement(lR,{...B&&!oe?{key:`p-${B}`}:{},rtl:ie,theme:P,delay:p,isRunning:e,isIn:x,closeToast:T,hide:E,type:v,className:$,controlledProgress:oe,progress:re||0})))},kR=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),PR=aR(kR("bounce",!0)),VR={position:"top-right",transition:PR,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function LR(n){let e={...VR,...n},t=n.stacked,[i,a]=H.useState(!0),l=H.useRef(null),{getToastToRender:c,isToastActive:d,count:p}=TR(e),{className:g,style:v,rtl:E,containerId:T,hotKeys:R}=e;function O(k){let $=ma("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":E});return Ai(g)?g({position:k,rtl:E,defaultClassName:$}):ma($,am(g))}function U(){t&&(a(!0),at.play())}return SR(()=>{var k;if(t){let $=l.current.querySelectorAll('[data-in="true"]'),B=12,G=(k=e.position)==null?void 0:k.includes("top"),re=0,ie=0;Array.from($).reverse().forEach((de,D)=>{let x=de;x.classList.add("Toastify__toast--stacked"),D>0&&(x.dataset.collapsed=`${i}`),x.dataset.pos||(x.dataset.pos=G?"top":"bot");let A=re*(i?.2:1)+(i?0:B*D);x.style.setProperty("--y",`${G?A:A*-1}px`),x.style.setProperty("--g",`${B}`),x.style.setProperty("--s",`${1-(i?ie:0)}`),re+=x.offsetHeight,ie+=.025})}},[i,p,t]),H.useEffect(()=>{function k($){var B;let G=l.current;R($)&&((B=G.querySelector('[tabIndex="0"]'))==null||B.focus(),a(!1),at.pause()),$.key==="Escape"&&(document.activeElement===G||G!=null&&G.contains(document.activeElement))&&(a(!0),at.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[R]),ke.createElement("section",{ref:l,className:"Toastify",id:T,onMouseEnter:()=>{t&&(a(!1),at.pause())},onMouseLeave:U,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((k,$)=>{let B=$.length?{...v}:{...v,pointerEvents:"none"};return ke.createElement("div",{tabIndex:-1,className:O(k),"data-stacked":t,style:B,key:`c-${k}`},$.map(({content:G,props:re})=>ke.createElement(NR,{...re,stacked:t,collapseAll:U,isIn:d(re.toastId,re.containerId),key:`t-${re.key}`},G)))}))}const MR="/30-day-coffee-challenge/assets/logo-DuPgPatY.svg",UR=(n,e,t,i)=>{var l,c,d,p;const a=[t,{code:e,...i||{}}];if((c=(l=n==null?void 0:n.services)==null?void 0:l.logger)!=null&&c.forward)return n.services.logger.forward(a,"warn","react-i18next::",!0);ga(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(p=(d=n==null?void 0:n.services)==null?void 0:d.logger)!=null&&p.warn?n.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},d0={},cm=(n,e,t,i)=>{ga(t)&&d0[t]||(ga(t)&&(d0[t]=new Date),UR(n,e,t,i))},XE=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},fm=(n,e,t)=>{n.loadNamespaces(e,XE(n,t))},p0=(n,e,t,i)=>{if(ga(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return fm(n,t,i);t.forEach(a=>{n.options.ns.indexOf(a)<0&&n.options.ns.push(a)}),n.loadLanguages(e,XE(n,i))},jR=(n,e,t={})=>!e.languages||!e.languages.length?(cm(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(i,a)=>{var l;if(((l=t.bindI18n)==null?void 0:l.indexOf("languageChanging"))>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!a(i.isLanguageChangingTo,n))return!1}}),ga=n=>typeof n=="string",zR=n=>typeof n=="object"&&n!==null,BR=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,FR={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"Â©","&#169;":"Â©","&reg;":"Â®","&#174;":"Â®","&hellip;":"â€¦","&#8230;":"â€¦","&#x2F;":"/","&#47;":"/"},HR=n=>FR[n],qR=n=>n.replace(BR,HR);let hm={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:qR};const $R=(n={})=>{hm={...hm,...n}},GR=()=>hm;let WE;const KR=n=>{WE=n},QR=()=>WE,YR={type:"3rdParty",init(n){$R(n.options.react),KR(n)}},XR=H.createContext();class WR{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const ZR=(n,e)=>{const t=H.useRef();return H.useEffect(()=>{t.current=n},[n,e]),t.current},ZE=(n,e,t,i)=>n.getFixedT(e,t,i),JR=(n,e,t,i)=>H.useCallback(ZE(n,e,t,i),[n,e,t,i]),pr=(n,e={})=>{var re,ie,de,D;const{i18n:t}=e,{i18n:i,defaultNS:a}=H.useContext(XR)||{},l=t||i||QR();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new WR),!l){cm(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const x=(C,P)=>ga(P)?P:zR(P)&&ga(P.defaultValue)?P.defaultValue:Array.isArray(C)?C[C.length-1]:C,A=[x,{},!1];return A.t=x,A.i18n={},A.ready=!1,A}(re=l.options.react)!=null&&re.wait&&cm(l,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const c={...GR(),...l.options.react,...e},{useSuspense:d,keyPrefix:p}=c;let g=a||((ie=l.options)==null?void 0:ie.defaultNS);g=ga(g)?[g]:g||["translation"],(D=(de=l.reportNamespaces).addUsedNamespaces)==null||D.call(de,g);const v=(l.isInitialized||l.initializedStoreOnce)&&g.every(x=>jR(x,l,c)),E=JR(l,e.lng||null,c.nsMode==="fallback"?g:g[0],p),T=()=>E,R=()=>ZE(l,e.lng||null,c.nsMode==="fallback"?g:g[0],p),[O,U]=H.useState(T);let k=g.join();e.lng&&(k=`${e.lng}${k}`);const $=ZR(k),B=H.useRef(!0);H.useEffect(()=>{const{bindI18n:x,bindI18nStore:A}=c;B.current=!0,!v&&!d&&(e.lng?p0(l,e.lng,g,()=>{B.current&&U(R)}):fm(l,g,()=>{B.current&&U(R)})),v&&$&&$!==k&&B.current&&U(R);const C=()=>{B.current&&U(R)};return x&&(l==null||l.on(x,C)),A&&(l==null||l.store.on(A,C)),()=>{B.current=!1,l&&(x==null||x.split(" ").forEach(P=>l.off(P,C))),A&&l&&A.split(" ").forEach(P=>l.store.off(P,C))}},[l,k]),H.useEffect(()=>{B.current&&v&&U(T)},[l,p,v]);const G=[O,l,v];if(G.t=O,G.i18n=l,G.ready=v,v||!v&&!d)return G;throw new Promise(x=>{e.lng?p0(l,e.lng,g,()=>x()):fm(l,g,()=>x())})};var JE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},m0=ke.createContext&&ke.createContext(JE),e2=["attr","size","title"];function t2(n,e){if(n==null)return{};var t=n2(n,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function n2(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Uf(){return Uf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Uf.apply(this,arguments)}function g0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function jf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?g0(Object(t),!0).forEach(function(i){r2(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):g0(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function r2(n,e,t){return e=i2(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i2(n){var e=s2(n,"string");return typeof e=="symbol"?e:e+""}function s2(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function eT(n){return n&&n.map((e,t)=>ke.createElement(e.tag,jf({key:t},e.attr),eT(e.child)))}function xa(n){return e=>ke.createElement(a2,Uf({attr:jf({},n.attr)},e),eT(n.child))}function a2(n){var e=t=>{var{attr:i,size:a,title:l}=n,c=t2(n,e2),d=a||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),ke.createElement("svg",Uf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:p,style:jf(jf({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&ke.createElement("title",null,l),n.children)};return m0!==void 0?ke.createElement(m0.Consumer,null,t=>e(t)):e(JE)}function o2(n){return xa({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"},child:[]}]})(n)}function l2(n){return xa({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(n)}const y0=n=>{let e;const t=new Set,i=(g,v)=>{const E=typeof g=="function"?g(e):g;if(!Object.is(E,e)){const T=e;e=v??(typeof E!="object"||E===null)?E:Object.assign({},e,E),t.forEach(R=>R(e,T))}},a=()=>e,d={setState:i,getState:a,getInitialState:()=>p,subscribe:g=>(t.add(g),()=>t.delete(g))},p=e=n(i,a,d);return d},u2=n=>n?y0(n):y0,c2=n=>n;function f2(n,e=c2){const t=ke.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return ke.useDebugValue(t),t}const v0=n=>{const e=u2(n),t=i=>f2(e,i);return Object.assign(t,e),t},h2=n=>n?v0(n):v0,Ko=h2(n=>({firstName:"",lastName:"",email:"",language:"en",completedDays:[],isLoggedIn:!1,setUser:e=>n(t=>({...t,...e,isLoggedIn:!0})),logout:()=>n({firstName:"",lastName:"",email:"",language:"en",completedDays:[],isLoggedIn:!1})})),d2=()=>{const{t:n}=pr(),[e,t]=H.useState(!1),{isLoggedIn:i}=Ko(),a=()=>{t(!e)};return j.jsxs(j.Fragment,{children:[j.jsx("button",{type:"button",onClick:a,className:"tablet:hidden mr-4",children:e?j.jsx(l2,{size:28}):j.jsx(o2,{size:28})}),j.jsx("nav",{className:`absolute top-16 left-0 w-full h-screen bg-primary text-secondary flex flex-col py-32 items-center  transition-all duration-900 ease-in-out z-[-1] ${e?" translate-y-0 pointer-events-auto":" -translate-y-full pointer-events-none"}`,children:i?j.jsxs("ul",{className:"flex flex-col items-center   gap-10 py-4",children:[j.jsx("li",{children:j.jsx(Ft,{to:"/",className:"font-medium text-[24px] hover:text-gold focus:text-gold",onClick:a,children:n("header.home")})}),j.jsx("li",{children:j.jsx(Ft,{to:"/dashboard",className:"font-medium text-[24px] hover:text-gold focus:text-gold",onClick:a,children:n("header.dashboard")})}),j.jsx("li",{children:j.jsx(Ft,{to:"/settings",className:"font-medium text-[24px] hover:text-gold focus:text-gold",onClick:a,children:n("header.settings")})}),j.jsx("li",{children:j.jsx("button",{type:"button",className:"font-medium text-[24px] hover:text-gold focus:text-gold",children:n("header.logout")})})]}):j.jsxs("ul",{className:"flex flex-col items-center   gap-10 py-4",children:[j.jsx("li",{children:j.jsx(Ft,{to:"/",className:"font-medium text-[24px] hover:text-gold focus:text-gold",onClick:a,children:n("header.home")})}),j.jsxs("li",{children:[" ",j.jsx(Ft,{to:"/dashboard",className:"font-medium text-[24px] hover:text-gold focus:text-gold",onClick:a,children:n("header.dashboard")})]}),j.jsx("li",{children:j.jsx(Ft,{to:"/register",className:"font-medium text-[24px] hover:text-gold focus:text-gold",onClick:a,children:n("header.register")})}),j.jsx("li",{children:j.jsx(Ft,{to:"/login",className:"font-medium text-[24px] hover:text-gold focus:text-gold",onClick:a,children:n("header.login")})})]})})]})},p2=()=>{const{t:n}=pr();return j.jsxs("nav",{className:"hidden tablet:flex gap-10 mr-5",children:[j.jsx(Ft,{to:"/",className:"font-medium tablet:text-[20px] laptop:text-[24px] desktop:text-[32px] hover:text-gold focus:text-gold",children:n("header.home")}),j.jsx(Ft,{to:"/dashboard",className:"font-medium tablet:text-[20px] laptop:text-[24px] desktop:text-[32px] hover:text-gold focus:text-gold",children:n("header.dashboard")}),j.jsx(Ft,{to:"/login",className:"font-medium tablet:text-[20px] laptop:text-[24px] desktop:text-[32px] hover:text-gold focus:text-gold",children:n("header.login")}),j.jsx(Ft,{to:"/register",className:" font-medium tablet:text-[20px] laptop:text-[24px] desktop:text-[32px] hover:text-gold focus:text-gold",children:n("header.register")})]})};function m2(){const[n,e]=H.useState(!1),t=H.useRef(null),i=l=>{t.current&&!t.current.contains(l.target)&&e(!1)},a=l=>{l.key==="Escape"&&e(!1)};return H.useEffect(()=>(n&&(document.addEventListener("mousedown",i),document.addEventListener("keydown",a)),()=>{document.removeEventListener("mousedown",i),document.removeEventListener("keydown",a)}),[n]),{ref:t,isComponentVisible:n,setIsComponentVisible:e}}const g2=()=>{const{t:n}=pr(),{completedDays:e}=Ko(),{ref:t,isComponentVisible:i,setIsComponentVisible:a}=m2(),l=()=>{a(!i)};return j.jsxs("div",{className:"hidden tablet:flex flex-1 items-center justify-between  tablet:w-150 desktop:w-[600px]",children:[j.jsxs("p",{className:"font-medium tablet:text-[24px] desktop:text-[32px] ml-[30px]",children:[n("header.day")," ",e,"/30"]}),j.jsxs("nav",{className:"  ml-auto flex gap-10 mr-[50px]",children:[j.jsx(Ft,{to:"/",className:"font-medium tablet:text-[24px] desktop:text-[32px] hover:text-gold focus:text-gold",children:n("header.home")}),j.jsx(Ft,{to:"/dashboard",className:"font-medium tablet:text-[24px] desktop:text-[32px] hover:text-gold focus:text-gold",children:n("header.dashboard")})]}),j.jsxs("div",{className:"relative inline-block",ref:t,children:[j.jsx("button",{type:"button",onClick:l,className:"  mr-2 focus:outline-none bg-secondary text-primary flex items-center justify-center rounded-full font-medium w-[24px] tablet:w-[40px] desktop:w-[50px] h-[24px] tablet:h-[40px] desktop:h-[50px] text-[14px] tablet:text-[18px] desktop:text-[24px] hover:bg-gold focus:bg-gold",children:"JS"}),i&&j.jsxs("div",{className:"absolute right-0  mt-2 w-32 tablet:w-48 desktop:w-58 bg-latte  rounded-lg py-4 flex flex-col aligns-center justify-center gap-2",children:[j.jsx(Ft,{to:"/settings",className:"flex aligns-center justify-center text-secondary font-medium tablet:text-[24px] desktop:text-[32px] hover:text-espresso focus:text-espresso",onClick:l,children:n("header.settings")}),j.jsx("button",{type:"button",className:"text-secondary font-medium tablet:text-[24px] desktop:text-[32px] hover:text-espresso focus:text-espresso",onClick:l,children:n("header.logout")})]})]})]})},y2=()=>{const{isLoggedIn:n}=Ko();return j.jsxs("div",{className:"flex flex-col min-h-screen",children:[j.jsxs("header",{className:"flex px-4 tablet:px-8 desktop:px-12 items-center justify-between bg-primary text-secondary h-16 tablet:h-20 desktop:h-22 w-full fixed top-0 left-0 z-50",children:[j.jsx(Ft,{to:"/",children:j.jsx("img",{src:MR,alt:"Logo",className:"w-[62px] h-[50px] tablet:w-[80px] tablet:h-[60px]  desktop:w-[120px] desktop:h-[80px]"})}),n?j.jsx(g2,{}):j.jsx(p2,{}),j.jsx(d2,{})]}),j.jsx("main",{className:"flex-grow flex flex-col  mt-16 tablet:mt-20 desktop:mt-22 ",children:j.jsx(px,{})}),j.jsx("footer",{className:"h-10 sticky bottom-0 mt-auto flex items-center justify-center bg-primary text-secondary text-[12px] laptop:h-12 laptop:text-[16px]",children:"Â© 2025 CoffeeChallenge. All Rights Reserved."})]})};function v2(n){return xa({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor"},child:[]}]})(n)}function _2(n){return xa({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(n)}const b2=()=>{const{firstName:n,lastName:e,email:t,language:i}=Ko();return j.jsxs("section",{className:"flex flex-col  w-full  laptop:flex-row laptop:gap-8 px-8 py-10",children:[j.jsxs("div",{className:"laptop:w-1/3",children:[j.jsx("h2",{className:"font-bold text-espresso text-[20px] tablet:text-[24px] desktop:text-[32px] ",children:"Personal Information"}),j.jsx("p",{className:"text-espresso mb-8 text-[14px] tablet:text-[16px] desktop:text-[20px]",children:"Use a permanent address where you can receive mail."})]}),j.jsxs("div",{className:"laptop:w-2/3",children:[j.jsxs("div",{className:"flex justify-start items-center gap-8 mb-8 l",children:[j.jsx("div",{className:"flex justify-center items-center w-24 h-24 desktop:w-32 desktop:h-32 rounded-lg overflow-hidden border -2  border-solid border-espresso ",children:j.jsx(v2,{className:" w-20 h-20 desktop:w-28 desktop:h-28 text-espresso"})}),j.jsxs("div",{className:"flex flex-col justify-center items-start gap-2",children:[j.jsx("button",{type:"button",className:"flex  justify-center items-center w-30 h-8 bg-latte font-medium text-espresso flex  rounded-lg hover:bg-gold focus:bg-gold desktop:w-40 desktop:h-10 desktop:text-[20px]",children:"Upload photo"}),j.jsx("p",{className:"text-espresso  tablet:text-[20px] desktop:text-[24px]",children:"JPG, GIF or PNG. 1MB max."})]})]}),j.jsxs("form",{className:"w-full flex flex-col gap-6 tablet:max-w-180 laptop:gap-8",children:[j.jsxs("div",{className:"flex flex-col gap-6 tablet:flex-row",children:[j.jsxs("div",{className:"w-full flex flex-col gap-2 tablet:w-1/2",children:[j.jsx("label",{className:"text-[16px] tablet:text-[18px] desktop:text-[24px] text-espresso",children:"First name"}),j.jsx("input",{type:"text",defaultValue:n,className:"text-espresso text-[16px] tablet:text-[18px] desktop:text-[24px] flex justify-start items-center px-2 w-full h-10 border-latte border rounded-lg hover:border-espresso focus:outline-none  focus:border-espresso"})]}),j.jsxs("div",{className:"flex flex-col gap-2 tablet:w-1/2",children:[j.jsx("label",{className:"text-espresso text-[16px] tablet:text-[18px] desktop:text-[24px]",children:"Last name"}),j.jsx("input",{type:"text",defaultValue:e,className:"text-espresso text-[16px] tablet:text-[18px] desktop:text-[24px] flex justify-start items-center px-2 w-full h-10 border-latte border rounded-lg hover:border-espresso focus:outline-none  focus:border-espresso"})]})]}),j.jsxs("div",{className:"flex flex-col gap-2",children:[j.jsx("label",{className:"text-espresso text-[16px] tablet:text-[18px] desktop:text-[24px]",children:"Email address"}),j.jsx("input",{type:"email",defaultValue:t,className:" text-espresso text-[16px] tablet:text-[18px] desktop:text-[24px] flex justify-start items-center px-2 w-full h-10 border-latte border rounded-lg hover:border-espresso focus:outline-none  focus:border-espresso"})]}),j.jsxs("div",{className:"relative flex flex-col gap-2",children:[j.jsx("label",{className:"text-espresso text-[16px] tablet:text-[18px] desktop:text-[24px]",children:"Language"}),j.jsxs("select",{value:i,className:" text-espresso text-[16px] tablet:text-[18px] desktop:text-[24px] appearance-none flex justify-start items-center px-2 w-full h-10 border-latte border rounded-lg bg-transparent hover:border-espresso focus:outline-none  focus:border-espresso",children:[j.jsx("option",{value:"en",className:"bg-secondary text-espresso borde-none hover:bg-espresso",children:"English"}),j.jsx("option",{value:"pl",className:"bg-secondary text-espresso border-none",children:"Polish"})]}),j.jsx(_2,{className:"absolute right-3 top-11 text-espresso pointer-events-none fill-latte"})]}),j.jsx("button",{type:"submit",className:"flex  justify-center items-center w-30 h-8 bg-latte font-medium text-espresso flex  rounded-lg hover:bg-gold focus:bg-gold desktop:w-40 desktop:h-10 desktop:text-[20px]",children:"Save changes"})]})]})]})},E2=()=>j.jsx(b2,{});var Uu=n=>n.type==="checkbox",da=n=>n instanceof Date,wn=n=>n==null;const tT=n=>typeof n=="object";var Ot=n=>!wn(n)&&!Array.isArray(n)&&tT(n)&&!da(n),T2=n=>Ot(n)&&n.target?Uu(n.target)?n.target.checked:n.target.value:n,w2=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,S2=(n,e)=>n.has(w2(e)),A2=n=>{const e=n.constructor&&n.constructor.prototype;return Ot(e)&&e.hasOwnProperty("isPrototypeOf")},Zm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Zn(n){let e;const t=Array.isArray(n),i=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(Zm&&(n instanceof Blob||i))&&(t||Ot(n)))if(e=t?[]:{},!t&&!A2(n))e=n;else for(const a in n)n.hasOwnProperty(a)&&(e[a]=Zn(n[a]));else return n;return e}var vh=n=>Array.isArray(n)?n.filter(Boolean):[],Vt=n=>n===void 0,Te=(n,e,t)=>{if(!e||!Ot(n))return t;const i=vh(e.split(/[,[\].]+?/)).reduce((a,l)=>wn(a)?a:a[l],n);return Vt(i)||i===n?Vt(n[e])?t:n[e]:i},Nr=n=>typeof n=="boolean",Jm=n=>/^\w*$/.test(n),nT=n=>vh(n.replace(/["|']|\]/g,"").split(/\.|\[/)),mt=(n,e,t)=>{let i=-1;const a=Jm(e)?[e]:nT(e),l=a.length,c=l-1;for(;++i<l;){const d=a[i];let p=t;if(i!==c){const g=n[d];p=Ot(g)||Array.isArray(g)?g:isNaN(+a[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;n[d]=p,n=n[d]}return n};const _0={BLUR:"blur",FOCUS_OUT:"focusout"},cr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},_i={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ke.createContext(null);var x2=(n,e,t,i=!0)=>{const a={defaultValues:e._defaultValues};for(const l in n)Object.defineProperty(a,l,{get:()=>{const c=l;return e._proxyFormState[c]!==cr.all&&(e._proxyFormState[c]=!i||cr.all),n[c]}});return a},Rn=n=>Ot(n)&&!Object.keys(n).length,R2=(n,e,t,i)=>{t(n);const{name:a,...l}=n;return Rn(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===cr.all)},xf=n=>Array.isArray(n)?n:[n];function C2(n){const e=ke.useRef(n);e.current=n,ke.useEffect(()=>{const t=!n.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[n.disabled])}var Vr=n=>typeof n=="string",I2=(n,e,t,i,a)=>Vr(n)?(i&&e.watch.add(n),Te(t,n,a)):Array.isArray(n)?n.map(l=>(i&&e.watch.add(l),Te(t,l))):(i&&(e.watchAll=!0),t),O2=(n,e,t,i,a)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[i]:a||!0}}:{},b0=n=>({isOnSubmit:!n||n===cr.onSubmit,isOnBlur:n===cr.onBlur,isOnChange:n===cr.onChange,isOnAll:n===cr.all,isOnTouch:n===cr.onTouched}),E0=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const fu=(n,e,t,i)=>{for(const a of t||Object.keys(n)){const l=Te(n,a);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],a)&&!i)return!0;if(c.ref&&e(c.ref,c.name)&&!i)return!0;if(fu(d,e))break}else if(Ot(d)&&fu(d,e))break}}};var D2=(n,e,t)=>{const i=xf(Te(n,t));return mt(i,"root",e[t]),mt(n,t,i),n},eg=n=>n.type==="file",Pr=n=>typeof n=="function",zf=n=>{if(!Zm)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Rf=n=>Vr(n),tg=n=>n.type==="radio",Bf=n=>n instanceof RegExp;const T0={value:!1,isValid:!1},w0={value:!0,isValid:!0};var rT=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Vt(n[0].attributes.value)?Vt(n[0].value)||n[0].value===""?w0:{value:n[0].value,isValid:!0}:w0:T0}return T0};const S0={isValid:!1,value:null};var iT=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,S0):S0;function A0(n,e,t="validate"){if(Rf(n)||Array.isArray(n)&&n.every(Rf)||Nr(n)&&!n)return{type:t,message:Rf(n)?n:"",ref:e}}var To=n=>Ot(n)&&!Bf(n)?n:{value:n,message:""},x0=async(n,e,t,i,a,l)=>{const{ref:c,refs:d,required:p,maxLength:g,minLength:v,min:E,max:T,pattern:R,validate:O,name:U,valueAsNumber:k,mount:$}=n._f,B=Te(t,U);if(!$||e.has(U))return{};const G=d?d[0]:c,re=V=>{a&&G.reportValidity&&(G.setCustomValidity(Nr(V)?"":V||""),G.reportValidity())},ie={},de=tg(c),D=Uu(c),x=de||D,A=(k||eg(c))&&Vt(c.value)&&Vt(B)||zf(c)&&c.value===""||B===""||Array.isArray(B)&&!B.length,C=O2.bind(null,U,i,ie),P=(V,I,Ae,Ce=_i.maxLength,oe=_i.minLength)=>{const ge=V?I:Ae;ie[U]={type:V?Ce:oe,message:ge,ref:c,...C(V?Ce:oe,ge)}};if(l?!Array.isArray(B)||!B.length:p&&(!x&&(A||wn(B))||Nr(B)&&!B||D&&!rT(d).isValid||de&&!iT(d).isValid)){const{value:V,message:I}=Rf(p)?{value:!!p,message:p}:To(p);if(V&&(ie[U]={type:_i.required,message:I,ref:G,...C(_i.required,I)},!i))return re(I),ie}if(!A&&(!wn(E)||!wn(T))){let V,I;const Ae=To(T),Ce=To(E);if(!wn(B)&&!isNaN(B)){const oe=c.valueAsNumber||B&&+B;wn(Ae.value)||(V=oe>Ae.value),wn(Ce.value)||(I=oe<Ce.value)}else{const oe=c.valueAsDate||new Date(B),ge=L=>new Date(new Date().toDateString()+" "+L),ye=c.type=="time",Ie=c.type=="week";Vr(Ae.value)&&B&&(V=ye?ge(B)>ge(Ae.value):Ie?B>Ae.value:oe>new Date(Ae.value)),Vr(Ce.value)&&B&&(I=ye?ge(B)<ge(Ce.value):Ie?B<Ce.value:oe<new Date(Ce.value))}if((V||I)&&(P(!!V,Ae.message,Ce.message,_i.max,_i.min),!i))return re(ie[U].message),ie}if((g||v)&&!A&&(Vr(B)||l&&Array.isArray(B))){const V=To(g),I=To(v),Ae=!wn(V.value)&&B.length>+V.value,Ce=!wn(I.value)&&B.length<+I.value;if((Ae||Ce)&&(P(Ae,V.message,I.message),!i))return re(ie[U].message),ie}if(R&&!A&&Vr(B)){const{value:V,message:I}=To(R);if(Bf(V)&&!B.match(V)&&(ie[U]={type:_i.pattern,message:I,ref:c,...C(_i.pattern,I)},!i))return re(I),ie}if(O){if(Pr(O)){const V=await O(B,t),I=A0(V,G);if(I&&(ie[U]={...I,...C(_i.validate,I.message)},!i))return re(I.message),ie}else if(Ot(O)){let V={};for(const I in O){if(!Rn(V)&&!i)break;const Ae=A0(await O[I](B,t),G,I);Ae&&(V={...Ae,...C(I,Ae.message)},re(Ae.message),i&&(ie[U]=V))}if(!Rn(V)&&(ie[U]={ref:G,...V},!i))return ie}}return re(!0),ie};function N2(n,e){const t=e.slice(0,-1).length;let i=0;for(;i<t;)n=Vt(n)?i++:n[e[i++]];return n}function k2(n){for(const e in n)if(n.hasOwnProperty(e)&&!Vt(n[e]))return!1;return!0}function Bt(n,e){const t=Array.isArray(e)?e:Jm(e)?[e]:nT(e),i=t.length===1?n:N2(n,t),a=t.length-1,l=t[a];return i&&delete i[l],a!==0&&(Ot(i)&&Rn(i)||Array.isArray(i)&&k2(i))&&Bt(n,t.slice(0,-1)),n}var Fp=()=>{let n=[];return{get observers(){return n},next:a=>{for(const l of n)l.next&&l.next(a)},subscribe:a=>(n.push(a),{unsubscribe:()=>{n=n.filter(l=>l!==a)}}),unsubscribe:()=>{n=[]}}},dm=n=>wn(n)||!tT(n);function ms(n,e){if(dm(n)||dm(e))return n===e;if(da(n)&&da(e))return n.getTime()===e.getTime();const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const a of t){const l=n[a];if(!i.includes(a))return!1;if(a!=="ref"){const c=e[a];if(da(l)&&da(c)||Ot(l)&&Ot(c)||Array.isArray(l)&&Array.isArray(c)?!ms(l,c):l!==c)return!1}}return!0}var sT=n=>n.type==="select-multiple",P2=n=>tg(n)||Uu(n),Hp=n=>zf(n)&&n.isConnected,aT=n=>{for(const e in n)if(Pr(n[e]))return!0;return!1};function Ff(n,e={}){const t=Array.isArray(n);if(Ot(n)||t)for(const i in n)Array.isArray(n[i])||Ot(n[i])&&!aT(n[i])?(e[i]=Array.isArray(n[i])?[]:{},Ff(n[i],e[i])):wn(n[i])||(e[i]=!0);return e}function oT(n,e,t){const i=Array.isArray(n);if(Ot(n)||i)for(const a in n)Array.isArray(n[a])||Ot(n[a])&&!aT(n[a])?Vt(e)||dm(t[a])?t[a]=Array.isArray(n[a])?Ff(n[a],[]):{...Ff(n[a])}:oT(n[a],wn(e)?{}:e[a],t[a]):t[a]=!ms(n[a],e[a]);return t}var su=(n,e)=>oT(n,e,Ff(e)),lT=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:i})=>Vt(n)?n:e?n===""?NaN:n&&+n:t&&Vr(n)?new Date(n):i?i(n):n;function qp(n){const e=n.ref;return eg(e)?e.files:tg(e)?iT(n.refs).value:sT(e)?[...e.selectedOptions].map(({value:t})=>t):Uu(e)?rT(n.refs).value:lT(Vt(e.value)?n.ref.value:e.value,n)}var V2=(n,e,t,i)=>{const a={};for(const l of n){const c=Te(e,l);c&&mt(a,l,c._f)}return{criteriaMode:t,names:[...n],fields:a,shouldUseNativeValidation:i}},au=n=>Vt(n)?n:Bf(n)?n.source:Ot(n)?Bf(n.value)?n.value.source:n.value:n;const R0="AsyncFunction";var L2=n=>!!n&&!!n.validate&&!!(Pr(n.validate)&&n.validate.constructor.name===R0||Ot(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===R0)),M2=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function C0(n,e,t){const i=Te(n,t);if(i||Jm(t))return{error:i,name:t};const a=t.split(".");for(;a.length;){const l=a.join("."),c=Te(e,l),d=Te(n,l);if(c&&!Array.isArray(c)&&t!==l)return{name:t};if(d&&d.type)return{name:l,error:d};a.pop()}return{name:t}}var U2=(n,e,t,i,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(e||n):(t?i.isOnBlur:a.isOnBlur)?!n:(t?i.isOnChange:a.isOnChange)?n:!0,j2=(n,e)=>!vh(Te(n,e)).length&&Bt(n,e);const z2={mode:cr.onSubmit,reValidateMode:cr.onChange,shouldFocusError:!0};function B2(n={}){let e={...z2,...n},t={submitCount:0,isDirty:!1,isLoading:Pr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},a=Ot(e.defaultValues)||Ot(e.values)?Zn(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:Zn(a),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},E={values:Fp(),array:Fp(),state:Fp()},T=b0(e.mode),R=b0(e.reValidateMode),O=e.criteriaMode===cr.all,U=M=>Y=>{clearTimeout(g),g=setTimeout(M,Y)},k=async M=>{if(!e.disabled&&(v.isValid||M)){const Y=e.resolver?Rn((await x()).errors):await C(i,!0);Y!==t.isValid&&E.state.next({isValid:Y})}},$=(M,Y)=>{!e.disabled&&(v.isValidating||v.validatingFields)&&((M||Array.from(d.mount)).forEach(Z=>{Z&&(Y?mt(t.validatingFields,Z,Y):Bt(t.validatingFields,Z))}),E.state.next({validatingFields:t.validatingFields,isValidating:!Rn(t.validatingFields)}))},B=(M,Y=[],Z,he,fe=!0,ue=!0)=>{if(he&&Z&&!e.disabled){if(c.action=!0,ue&&Array.isArray(Te(i,M))){const _e=Z(Te(i,M),he.argA,he.argB);fe&&mt(i,M,_e)}if(ue&&Array.isArray(Te(t.errors,M))){const _e=Z(Te(t.errors,M),he.argA,he.argB);fe&&mt(t.errors,M,_e),j2(t.errors,M)}if(v.touchedFields&&ue&&Array.isArray(Te(t.touchedFields,M))){const _e=Z(Te(t.touchedFields,M),he.argA,he.argB);fe&&mt(t.touchedFields,M,_e)}v.dirtyFields&&(t.dirtyFields=su(a,l)),E.state.next({name:M,isDirty:V(M,Y),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else mt(l,M,Y)},G=(M,Y)=>{mt(t.errors,M,Y),E.state.next({errors:t.errors})},re=M=>{t.errors=M,E.state.next({errors:t.errors,isValid:!1})},ie=(M,Y,Z,he)=>{const fe=Te(i,M);if(fe){const ue=Te(l,M,Vt(Z)?Te(a,M):Z);Vt(ue)||he&&he.defaultChecked||Y?mt(l,M,Y?ue:qp(fe._f)):Ce(M,ue),c.mount&&k()}},de=(M,Y,Z,he,fe)=>{let ue=!1,_e=!1;const je={name:M};if(!e.disabled){const qe=!!(Te(i,M)&&Te(i,M)._f&&Te(i,M)._f.disabled);if(!Z||he){v.isDirty&&(_e=t.isDirty,t.isDirty=je.isDirty=V(),ue=_e!==je.isDirty);const Ge=qe||ms(Te(a,M),Y);_e=!!(!qe&&Te(t.dirtyFields,M)),Ge||qe?Bt(t.dirtyFields,M):mt(t.dirtyFields,M,!0),je.dirtyFields=t.dirtyFields,ue=ue||v.dirtyFields&&_e!==!Ge}if(Z){const Ge=Te(t.touchedFields,M);Ge||(mt(t.touchedFields,M,Z),je.touchedFields=t.touchedFields,ue=ue||v.touchedFields&&Ge!==Z)}ue&&fe&&E.state.next(je)}return ue?je:{}},D=(M,Y,Z,he)=>{const fe=Te(t.errors,M),ue=v.isValid&&Nr(Y)&&t.isValid!==Y;if(e.delayError&&Z?(p=U(()=>G(M,Z)),p(e.delayError)):(clearTimeout(g),p=null,Z?mt(t.errors,M,Z):Bt(t.errors,M)),(Z?!ms(fe,Z):fe)||!Rn(he)||ue){const _e={...he,...ue&&Nr(Y)?{isValid:Y}:{},errors:t.errors,name:M};t={...t,..._e},E.state.next(_e)}},x=async M=>{$(M,!0);const Y=await e.resolver(l,e.context,V2(M||d.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return $(M),Y},A=async M=>{const{errors:Y}=await x(M);if(M)for(const Z of M){const he=Te(Y,Z);he?mt(t.errors,Z,he):Bt(t.errors,Z)}else t.errors=Y;return Y},C=async(M,Y,Z={valid:!0})=>{for(const he in M){const fe=M[he];if(fe){const{_f:ue,..._e}=fe;if(ue){const je=d.array.has(ue.name),qe=fe._f&&L2(fe._f);qe&&v.validatingFields&&$([he],!0);const Ge=await x0(fe,d.disabled,l,O,e.shouldUseNativeValidation&&!Y,je);if(qe&&v.validatingFields&&$([he]),Ge[ue.name]&&(Z.valid=!1,Y))break;!Y&&(Te(Ge,ue.name)?je?D2(t.errors,Ge,ue.name):mt(t.errors,ue.name,Ge[ue.name]):Bt(t.errors,ue.name))}!Rn(_e)&&await C(_e,Y,Z)}}return Z.valid},P=()=>{for(const M of d.unMount){const Y=Te(i,M);Y&&(Y._f.refs?Y._f.refs.every(Z=>!Hp(Z)):!Hp(Y._f.ref))&&Pe(M)}d.unMount=new Set},V=(M,Y)=>!e.disabled&&(M&&Y&&mt(l,M,Y),!ms(se(),a)),I=(M,Y,Z)=>I2(M,d,{...c.mount?l:Vt(Y)?a:Vr(M)?{[M]:Y}:Y},Z,Y),Ae=M=>vh(Te(c.mount?l:a,M,e.shouldUnregister?Te(a,M,[]):[])),Ce=(M,Y,Z={})=>{const he=Te(i,M);let fe=Y;if(he){const ue=he._f;ue&&(!ue.disabled&&mt(l,M,lT(Y,ue)),fe=zf(ue.ref)&&wn(Y)?"":Y,sT(ue.ref)?[...ue.ref.options].forEach(_e=>_e.selected=fe.includes(_e.value)):ue.refs?Uu(ue.ref)?ue.refs.length>1?ue.refs.forEach(_e=>(!_e.defaultChecked||!_e.disabled)&&(_e.checked=Array.isArray(fe)?!!fe.find(je=>je===_e.value):fe===_e.value)):ue.refs[0]&&(ue.refs[0].checked=!!fe):ue.refs.forEach(_e=>_e.checked=_e.value===fe):eg(ue.ref)?ue.ref.value="":(ue.ref.value=fe,ue.ref.type||E.values.next({name:M,values:{...l}})))}(Z.shouldDirty||Z.shouldTouch)&&de(M,fe,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&L(M)},oe=(M,Y,Z)=>{for(const he in Y){const fe=Y[he],ue=`${M}.${he}`,_e=Te(i,ue);(d.array.has(M)||Ot(fe)||_e&&!_e._f)&&!da(fe)?oe(ue,fe,Z):Ce(ue,fe,Z)}},ge=(M,Y,Z={})=>{const he=Te(i,M),fe=d.array.has(M),ue=Zn(Y);mt(l,M,ue),fe?(E.array.next({name:M,values:{...l}}),(v.isDirty||v.dirtyFields)&&Z.shouldDirty&&E.state.next({name:M,dirtyFields:su(a,l),isDirty:V(M,ue)})):he&&!he._f&&!wn(ue)?oe(M,ue,Z):Ce(M,ue,Z),E0(M,d)&&E.state.next({...t}),E.values.next({name:c.mount?M:void 0,values:{...l}})},ye=async M=>{c.mount=!0;const Y=M.target;let Z=Y.name,he=!0;const fe=Te(i,Z),ue=()=>Y.type?qp(fe._f):T2(M),_e=je=>{he=Number.isNaN(je)||da(je)&&isNaN(je.getTime())||ms(je,Te(l,Z,je))};if(fe){let je,qe;const Ge=ue(),Kt=M.type===_0.BLUR||M.type===_0.FOCUS_OUT,ka=!M2(fe._f)&&!e.resolver&&!Te(t.errors,Z)&&!fe._f.deps||U2(Kt,Te(t.touchedFields,Z),t.isSubmitted,R,T),Kr=E0(Z,d,Kt);mt(l,Z,Ge),Kt?(fe._f.onBlur&&fe._f.onBlur(M),p&&p(0)):fe._f.onChange&&fe._f.onChange(M);const Vs=de(Z,Ge,Kt,!1),Qr=!Rn(Vs)||Kr;if(!Kt&&E.values.next({name:Z,type:M.type,values:{...l}}),ka)return v.isValid&&(e.mode==="onBlur"&&Kt?k():Kt||k()),Qr&&E.state.next({name:Z,...Kr?{}:Vs});if(!Kt&&Kr&&E.state.next({...t}),e.resolver){const{errors:rr}=await x([Z]);if(_e(Ge),he){const Qt=C0(t.errors,i,Z),Ni=C0(rr,i,Qt.name||Z);je=Ni.error,Z=Ni.name,qe=Rn(rr)}}else $([Z],!0),je=(await x0(fe,d.disabled,l,O,e.shouldUseNativeValidation))[Z],$([Z]),_e(Ge),he&&(je?qe=!1:v.isValid&&(qe=await C(i,!0)));he&&(fe._f.deps&&L(fe._f.deps),D(Z,qe,je,Vs))}},Ie=(M,Y)=>{if(Te(t.errors,Y)&&M.focus)return M.focus(),1},L=async(M,Y={})=>{let Z,he;const fe=xf(M);if(e.resolver){const ue=await A(Vt(M)?M:fe);Z=Rn(ue),he=M?!fe.some(_e=>Te(ue,_e)):Z}else M?(he=(await Promise.all(fe.map(async ue=>{const _e=Te(i,ue);return await C(_e&&_e._f?{[ue]:_e}:_e)}))).every(Boolean),!(!he&&!t.isValid)&&k()):he=Z=await C(i);return E.state.next({...!Vr(M)||v.isValid&&Z!==t.isValid?{}:{name:M},...e.resolver||!M?{isValid:Z}:{},errors:t.errors}),Y.shouldFocus&&!he&&fu(i,Ie,M?fe:d.mount),he},se=M=>{const Y={...c.mount?l:a};return Vt(M)?Y:Vr(M)?Te(Y,M):M.map(Z=>Te(Y,Z))},be=(M,Y)=>({invalid:!!Te((Y||t).errors,M),isDirty:!!Te((Y||t).dirtyFields,M),error:Te((Y||t).errors,M),isValidating:!!Te(t.validatingFields,M),isTouched:!!Te((Y||t).touchedFields,M)}),pe=M=>{M&&xf(M).forEach(Y=>Bt(t.errors,Y)),E.state.next({errors:M?t.errors:{}})},me=(M,Y,Z)=>{const he=(Te(i,M,{_f:{}})._f||{}).ref,fe=Te(t.errors,M)||{},{ref:ue,message:_e,type:je,...qe}=fe;mt(t.errors,M,{...qe,...Y,ref:he}),E.state.next({name:M,errors:t.errors,isValid:!1}),Z&&Z.shouldFocus&&he&&he.focus&&he.focus()},ze=(M,Y)=>Pr(M)?E.values.subscribe({next:Z=>M(I(void 0,Y),Z)}):I(M,Y,!0),Pe=(M,Y={})=>{for(const Z of M?xf(M):d.mount)d.mount.delete(Z),d.array.delete(Z),Y.keepValue||(Bt(i,Z),Bt(l,Z)),!Y.keepError&&Bt(t.errors,Z),!Y.keepDirty&&Bt(t.dirtyFields,Z),!Y.keepTouched&&Bt(t.touchedFields,Z),!Y.keepIsValidating&&Bt(t.validatingFields,Z),!e.shouldUnregister&&!Y.keepDefaultValue&&Bt(a,Z);E.values.next({values:{...l}}),E.state.next({...t,...Y.keepDirty?{isDirty:V()}:{}}),!Y.keepIsValid&&k()},gt=({disabled:M,name:Y,field:Z,fields:he})=>{(Nr(M)&&c.mount||M||d.disabled.has(Y))&&(M?d.disabled.add(Y):d.disabled.delete(Y),de(Y,qp(Z?Z._f:Te(he,Y)._f),!1,!1,!0))},Qe=(M,Y={})=>{let Z=Te(i,M);const he=Nr(Y.disabled)||Nr(e.disabled);return mt(i,M,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:M}},name:M,mount:!0,...Y}}),d.mount.add(M),Z?gt({field:Z,disabled:Nr(Y.disabled)?Y.disabled:e.disabled,name:M}):ie(M,!0,Y.value),{...he?{disabled:Y.disabled||e.disabled}:{},...e.progressive?{required:!!Y.required,min:au(Y.min),max:au(Y.max),minLength:au(Y.minLength),maxLength:au(Y.maxLength),pattern:au(Y.pattern)}:{},name:M,onChange:ye,onBlur:ye,ref:fe=>{if(fe){Qe(M,Y),Z=Te(i,M);const ue=Vt(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,_e=P2(ue),je=Z._f.refs||[];if(_e?je.find(qe=>qe===ue):ue===Z._f.ref)return;mt(i,M,{_f:{...Z._f,..._e?{refs:[...je.filter(Hp),ue,...Array.isArray(Te(a,M))?[{}]:[]],ref:{type:ue.type,name:M}}:{ref:ue}}}),ie(M,!1,void 0,ue)}else Z=Te(i,M,{}),Z._f&&(Z._f.mount=!1),(e.shouldUnregister||Y.shouldUnregister)&&!(S2(d.array,M)&&c.action)&&d.unMount.add(M)}}},pt=()=>e.shouldFocusError&&fu(i,Ie,d.mount),st=M=>{Nr(M)&&(E.state.next({disabled:M}),fu(i,(Y,Z)=>{const he=Te(i,Z);he&&(Y.disabled=he._f.disabled||M,Array.isArray(he._f.refs)&&he._f.refs.forEach(fe=>{fe.disabled=he._f.disabled||M}))},0,!1))},Gt=(M,Y)=>async Z=>{let he;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let fe=Zn(l);if(d.disabled.size)for(const ue of d.disabled)mt(fe,ue,void 0);if(E.state.next({isSubmitting:!0}),e.resolver){const{errors:ue,values:_e}=await x();t.errors=ue,fe=_e}else await C(i);if(Bt(t.errors,"root"),Rn(t.errors)){E.state.next({errors:{}});try{await M(fe,Z)}catch(ue){he=ue}}else Y&&await Y({...t.errors},Z),pt(),setTimeout(pt);if(E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Rn(t.errors)&&!he,submitCount:t.submitCount+1,errors:t.errors}),he)throw he},tr=(M,Y={})=>{Te(i,M)&&(Vt(Y.defaultValue)?ge(M,Zn(Te(a,M))):(ge(M,Y.defaultValue),mt(a,M,Zn(Y.defaultValue))),Y.keepTouched||Bt(t.touchedFields,M),Y.keepDirty||(Bt(t.dirtyFields,M),t.isDirty=Y.defaultValue?V(M,Zn(Te(a,M))):V()),Y.keepError||(Bt(t.errors,M),v.isValid&&k()),E.state.next({...t}))},yn=(M,Y={})=>{const Z=M?Zn(M):a,he=Zn(Z),fe=Rn(M),ue=fe?a:he;if(Y.keepDefaultValues||(a=Z),!Y.keepValues){if(Y.keepDirtyValues){const _e=new Set([...d.mount,...Object.keys(su(a,l))]);for(const je of Array.from(_e))Te(t.dirtyFields,je)?mt(ue,je,Te(l,je)):ge(je,Te(ue,je))}else{if(Zm&&Vt(M))for(const _e of d.mount){const je=Te(i,_e);if(je&&je._f){const qe=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(zf(qe)){const Ge=qe.closest("form");if(Ge){Ge.reset();break}}}}i={}}l=e.shouldUnregister?Y.keepDefaultValues?Zn(a):{}:Zn(ue),E.array.next({values:{...ue}}),E.values.next({values:{...ue}})}d={mount:Y.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!v.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,c.watch=!!e.shouldUnregister,E.state.next({submitCount:Y.keepSubmitCount?t.submitCount:0,isDirty:fe?!1:Y.keepDirty?t.isDirty:!!(Y.keepDefaultValues&&!ms(M,a)),isSubmitted:Y.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:fe?{}:Y.keepDirtyValues?Y.keepDefaultValues&&l?su(a,l):t.dirtyFields:Y.keepDefaultValues&&M?su(a,M):Y.keepDirty?t.dirtyFields:{},touchedFields:Y.keepTouched?t.touchedFields:{},errors:Y.keepErrors?t.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},nr=(M,Y)=>yn(Pr(M)?M(l):M,Y);return{control:{register:Qe,unregister:Pe,getFieldState:be,handleSubmit:Gt,setError:me,_executeSchema:x,_getWatch:I,_getDirty:V,_updateValid:k,_removeUnmounted:P,_updateFieldArray:B,_updateDisabledField:gt,_getFieldArray:Ae,_reset:yn,_resetDefaultValues:()=>Pr(e.defaultValues)&&e.defaultValues().then(M=>{nr(M,e.resetOptions),E.state.next({isLoading:!1})}),_updateFormState:M=>{t={...t,...M}},_disableForm:st,_subjects:E,_proxyFormState:v,_setErrors:re,get _fields(){return i},get _formValues(){return l},get _state(){return c},set _state(M){c=M},get _defaultValues(){return a},get _names(){return d},set _names(M){d=M},get _formState(){return t},set _formState(M){t=M},get _options(){return e},set _options(M){e={...e,...M}}},trigger:L,register:Qe,handleSubmit:Gt,watch:ze,setValue:ge,getValues:se,reset:nr,resetField:tr,clearErrors:pe,unregister:Pe,setError:me,setFocus:(M,Y={})=>{const Z=Te(i,M),he=Z&&Z._f;if(he){const fe=he.refs?he.refs[0]:he.ref;fe.focus&&(fe.focus(),Y.shouldSelect&&Pr(fe.select)&&fe.select())}},getFieldState:be}}function uT(n={}){const e=ke.useRef(void 0),t=ke.useRef(void 0),[i,a]=ke.useState({isDirty:!1,isValidating:!1,isLoading:Pr(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:Pr(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...B2(n),formState:i});const l=e.current.control;return l._options=n,C2({subject:l._subjects.state,next:c=>{R2(c,l._proxyFormState,l._updateFormState)&&a({...l._formState})}}),ke.useEffect(()=>l._disableForm(n.disabled),[l,n.disabled]),ke.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==i.isDirty&&l._subjects.state.next({isDirty:c})}},[l,i.isDirty]),ke.useEffect(()=>{n.values&&!ms(n.values,t.current)?(l._reset(n.values,l._options.resetOptions),t.current=n.values,a(c=>({...c}))):l._resetDefaultValues()},[n.values,l]),ke.useEffect(()=>{n.errors&&l._setErrors(n.errors)},[n.errors,l]),ke.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),ke.useEffect(()=>{n.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[n.shouldUnregister,l]),e.current.formState=x2(i,l),e.current}function F2(n){return xa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"},child:[]}]})(n)}function H2(n){return xa({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M245.48,125.57c-.34-.78-8.66-19.23-27.24-37.81C201,70.54,171.38,50,128,50S55,70.54,37.76,87.76c-18.58,18.58-26.9,37-27.24,37.81a6,6,0,0,0,0,4.88c.34.77,8.66,19.22,27.24,37.8C55,185.47,84.62,206,128,206s73-20.53,90.24-37.75c18.58-18.58,26.9-37,27.24-37.8A6,6,0,0,0,245.48,125.57ZM128,194c-31.38,0-58.78-11.42-81.45-33.93A134.77,134.77,0,0,1,22.69,128,134.56,134.56,0,0,1,46.55,95.94C69.22,73.42,96.62,62,128,62s58.78,11.42,81.45,33.94A134.56,134.56,0,0,1,233.31,128C226.94,140.21,195,194,128,194Zm0-112a46,46,0,1,0,46,46A46.06,46.06,0,0,0,128,82Zm0,80a34,34,0,1,1,34-34A34,34,0,0,1,128,162Z"},child:[]}]})(n)}function q2(n){return xa({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M53.92,34.62A8,8,0,1,0,42.08,45.38L61.32,66.55C25,88.84,9.38,123.2,8.69,124.76a8,8,0,0,0,0,6.5c.35.79,8.82,19.57,27.65,38.4C61.43,194.74,93.12,208,128,208a127.11,127.11,0,0,0,52.07-10.83l22,24.21a8,8,0,1,0,11.84-10.76Zm47.33,75.84,41.67,45.85a32,32,0,0,1-41.67-45.85ZM128,192c-30.78,0-57.67-11.19-79.93-33.25A133.16,133.16,0,0,1,25,128c4.69-8.79,19.66-33.39,47.35-49.38l18,19.75a48,48,0,0,0,63.66,70l14.73,16.2A112,112,0,0,1,128,192Zm6-95.43a8,8,0,0,1,3-15.72,48.16,48.16,0,0,1,38.77,42.64,8,8,0,0,1-7.22,8.71,6.39,6.39,0,0,1-.75,0,8,8,0,0,1-8-7.26A32.09,32.09,0,0,0,134,96.57Zm113.28,34.69c-.42.94-10.55,23.37-33.36,43.8a8,8,0,1,1-10.67-11.92A132.77,132.77,0,0,0,231.05,128a133.15,133.15,0,0,0-23.12-30.77C185.67,75.19,158.78,64,128,64a118.37,118.37,0,0,0-19.36,1.57A8,8,0,1,1,106,49.79,134,134,0,0,1,128,48c34.88,0,66.57,13.26,91.66,38.35,18.83,18.83,27.3,37.62,27.65,38.41A8,8,0,0,1,247.31,131.26Z"},child:[]}]})(n)}const cT=({register:n,setValue:e,name:t,validation:i,error:a})=>{const{t:l}=pr(),[c,d]=H.useState(!1),p=()=>{d(g=>!g)};return j.jsxs("div",{className:"relative w-full flex flex-col ",children:[j.jsx("label",{htmlFor:"password",className:"text-[12px] font-medium text-espresso desktop:text-[16px]",children:l("inputs.password")}),j.jsx("input",{type:c?"text":"password",id:"password","aria-invalid":a?"true":"false",autoComplete:"current-password",className:"w-full px-3 py-2 text-[14px] text-espresso  bg-transparent border-2 border-primary rounded-lg focus:outline-none focus:border-gold hover:border-gold desktop:text-[18px]",...n(t,i),onChange:g=>e(t,g.target.value)}),j.jsx("button",{type:"button",onClick:p,className:"absolute right-3 top-[34px] text-espresso hover:text-gold transition desktop:top-[40px]","aria-label":c?"Hide password":"Show password",children:c?j.jsx(H2,{className:"w-[16px] h-[16px] desktop:w-[22px] desktop:h-[22px] color-espresso"}):j.jsx(q2,{className:"w-[16px] h-[16px] desktop:w-[22px] desktop:h-[22px] color-espresso"})}),j.jsx("p",{className:"h-4 text-red text-[12px] desktop:text-[14px]",children:a==null?void 0:a.message})]})},fT="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='48px'%20height='48px'%3e%3clinearGradient%20id='Ld6sqrtcxMyckEl6xeDdMa'%20x1='9.993'%20x2='40.615'%20y1='9.993'%20y2='40.615'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%232aa4f4'/%3e%3cstop%20offset='1'%20stop-color='%23007ad9'/%3e%3c/linearGradient%3e%3cpath%20fill='url(%23Ld6sqrtcxMyckEl6xeDdMa)'%20d='M24,4C12.954,4,4,12.954,4,24s8.954,20,20,20s20-8.954,20-20S35.046,4,24,4z'/%3e%3cpath%20fill='%23fff'%20d='M26.707,29.301h5.176l0.813-5.258h-5.989v-2.874c0-2.184,0.714-4.121,2.757-4.121h3.283V12.46%20c-0.577-0.078-1.797-0.248-4.102-0.248c-4.814,0-7.636,2.542-7.636,8.334v3.498H16.06v5.258h4.948v14.452%20C21.988,43.9,22.981,44,24,44c0.921,0,1.82-0.084,2.707-0.204V29.301z'/%3e%3c/svg%3e",hT=({register:n,setValue:e,name:t,validation:i,error:a})=>{const{t:l}=pr();return j.jsxs("div",{className:"w-full flex flex-col ",children:[j.jsx("label",{htmlFor:"email",className:"text-[12px] font-medium text-espresso desktop:text-[16px]",children:l("inputs.email")}),j.jsx("input",{type:"email",id:"email","aria-invalid":a?"true":"false",autoComplete:"off",className:"w-full px-3 py-2 text-[14px] text-espresso bg-transparent border-2 border-primary rounded-lg focus:outline-none focus:border-gold hover:border-gold desktop:text-[18px]",...n(t,i),onChange:c=>e(t,c.target.value)}),j.jsx("p",{className:"h-4 text-red text-[12px] desktop:text-[14px]",children:a==null?void 0:a.message})]})},$2=()=>{};var I0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},G2=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},pT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,p=a+2<n.length,g=p?n[a+2]:0,v=l>>2,E=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,R=g&63;p||(R=64,c||(T=64)),i.push(t[v],t[E],t[T],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(dT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):G2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const E=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||E==null)throw new K2;const T=l<<2|d>>4;if(i.push(T),g!==64){const R=d<<4&240|g>>2;if(i.push(R),E!==64){const O=g<<6&192|E;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class K2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q2=function(n){const e=dT(n);return pT.encodeByteArray(e,!0)},Hf=function(n){return Q2(n).replace(/\./g,"")},mT=function(n){try{return pT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=()=>Y2().__FIREBASE_DEFAULTS__,W2=()=>{if(typeof process>"u"||typeof I0>"u")return;const n=I0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Z2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mT(n[1]);return e&&JSON.parse(e)},_h=()=>{try{return $2()||X2()||W2()||Z2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gT=n=>{var e,t;return(t=(e=_h())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},J2=n=>{const e=gT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},yT=()=>{var n;return(n=_h())===null||n===void 0?void 0:n.config},vT=n=>{var e;return(e=_h())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hf(JSON.stringify(t)),Hf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function rC(){var n;const e=(n=_h())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function aC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oC(){const n=mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function lC(){return!rC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uC(){try{return typeof indexedDB=="object"}catch{return!1}}function cC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="FirebaseError";class Di extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=fC,Object.setPrototypeOf(this,Di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?hC(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Di(a,d,i)}}function hC(n,e){return n.replace(dC,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const dC=/\{\$([^}]+)}/g;function pC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function va(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(O0(l)&&O0(c)){if(!va(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function O0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function mC(n,e){const t=new gC(n,e);return t.subscribe.bind(t)}class gC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");yC(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=$p),a.error===void 0&&(a.error=$p),a.complete===void 0&&(a.complete=$p);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function $p(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(n){return n&&n._delegate?n._delegate:n}class _a{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new eC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bC(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_C(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _C(n){return n===ha?void 0:n}function bC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const TC={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},wC=Ye.INFO,SC={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},AC=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=SC[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let ng=class{constructor(e){this.name=e,this._logLevel=wC,this._logHandler=AC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}};const xC=(n,e)=>e.some(t=>n instanceof t);let D0,N0;function RC(){return D0||(D0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CC(){return N0||(N0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _T=new WeakMap,pm=new WeakMap,bT=new WeakMap,Gp=new WeakMap,rg=new WeakMap;function IC(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Es(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&_T.set(t,n)}).catch(()=>{}),rg.set(e,n),e}function OC(n){if(pm.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});pm.set(n,e)}let mm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return pm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||bT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Es(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function DC(n){mm=n(mm)}function NC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Kp(this),e,...t);return bT.set(i,e.sort?e.sort():[e]),Es(i)}:CC().includes(n)?function(...e){return n.apply(Kp(this),e),Es(_T.get(this))}:function(...e){return Es(n.apply(Kp(this),e))}}function kC(n){return typeof n=="function"?NC(n):(n instanceof IDBTransaction&&OC(n),xC(n,RC())?new Proxy(n,mm):n)}function Es(n){if(n instanceof IDBRequest)return IC(n);if(Gp.has(n))return Gp.get(n);const e=kC(n);return e!==n&&(Gp.set(n,e),rg.set(e,n)),e}const Kp=n=>rg.get(n);function PC(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=Es(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Es(c.result),p.oldVersion,p.newVersion,Es(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const VC=["get","getKey","getAll","getAllKeys","count"],LC=["put","add","delete","clear"],Qp=new Map;function k0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Qp.get(e))return Qp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=LC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||VC.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return Qp.set(e,l),l}DC(n=>({...n,get:(e,t,i)=>k0(e,t)||n.get(e,t,i),has:(e,t)=>!!k0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(UC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function UC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gm="@firebase/app",P0="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new ng("@firebase/app"),jC="@firebase/app-compat",zC="@firebase/analytics-compat",BC="@firebase/analytics",FC="@firebase/app-check-compat",HC="@firebase/app-check",qC="@firebase/auth",$C="@firebase/auth-compat",GC="@firebase/database",KC="@firebase/data-connect",QC="@firebase/database-compat",YC="@firebase/functions",XC="@firebase/functions-compat",WC="@firebase/installations",ZC="@firebase/installations-compat",JC="@firebase/messaging",eI="@firebase/messaging-compat",tI="@firebase/performance",nI="@firebase/performance-compat",rI="@firebase/remote-config",iI="@firebase/remote-config-compat",sI="@firebase/storage",aI="@firebase/storage-compat",oI="@firebase/firestore",lI="@firebase/vertexai",uI="@firebase/firestore-compat",cI="firebase",fI="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="[DEFAULT]",hI={[gm]:"fire-core",[jC]:"fire-core-compat",[BC]:"fire-analytics",[zC]:"fire-analytics-compat",[HC]:"fire-app-check",[FC]:"fire-app-check-compat",[qC]:"fire-auth",[$C]:"fire-auth-compat",[GC]:"fire-rtdb",[KC]:"fire-data-connect",[QC]:"fire-rtdb-compat",[YC]:"fire-fn",[XC]:"fire-fn-compat",[WC]:"fire-iid",[ZC]:"fire-iid-compat",[JC]:"fire-fcm",[eI]:"fire-fcm-compat",[tI]:"fire-perf",[nI]:"fire-perf-compat",[rI]:"fire-rc",[iI]:"fire-rc-compat",[sI]:"fire-gcs",[aI]:"fire-gcs-compat",[oI]:"fire-fst",[uI]:"fire-fst-compat",[lI]:"fire-vertex","fire-js":"fire-js",[cI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new Map,dI=new Map,vm=new Map;function V0(n,e){try{n.container.addComponent(e)}catch(t){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Lo(n){const e=n.name;if(vm.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,n);for(const t of qf.values())V0(t,n);for(const t of dI.values())V0(t,n);return!0}function ig(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new ju("app","Firebase",pI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=fI;function ET(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ym,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Ts.create("bad-app-name",{appName:String(a)});if(t||(t=yT()),!t)throw Ts.create("no-options");const l=qf.get(a);if(l){if(va(t,l.options)&&va(i,l.config))return l;throw Ts.create("duplicate-app",{appName:a})}const c=new EC(a);for(const p of vm.values())c.addComponent(p);const d=new mI(t,i,c);return qf.set(a,d),d}function TT(n=ym){const e=qf.get(n);if(!e&&n===ym&&yT())return ET();if(!e)throw Ts.create("no-app",{appName:n});return e}function ws(n,e,t){var i;let a=(i=hI[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(d.join(" "));return}Lo(new _a(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="firebase-heartbeat-database",yI=1,bu="firebase-heartbeat-store";let Yp=null;function wT(){return Yp||(Yp=PC(gI,yI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ts.create("idb-open",{originalErrorMessage:n.message})})),Yp}async function vI(n){try{const t=(await wT()).transaction(bu),i=await t.objectStore(bu).get(ST(n));return await t.done,i}catch(e){if(e instanceof Di)xi.warn(e.message);else{const t=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(t.message)}}}async function L0(n,e){try{const i=(await wT()).transaction(bu,"readwrite");await i.objectStore(bu).put(e,ST(n)),await i.done}catch(t){if(t instanceof Di)xi.warn(t.message);else{const i=Ts.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});xi.warn(i.message)}}}function ST(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=1024,bI=30;class EI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wI(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=M0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>bI){const c=SI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){xi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=M0(),{heartbeatsToSend:i,unsentEntries:a}=TI(this._heartbeatsCache.heartbeats),l=Hf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return xi.warn(t),""}}}function M0(){return new Date().toISOString().substring(0,10)}function TI(n,e=_I){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),U0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),U0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class wI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uC()?cC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await vI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return L0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return L0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function U0(n){return Hf(JSON.stringify({version:2,heartbeats:n})).length}function SI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(n){Lo(new _a("platform-logger",e=>new MC(e),"PRIVATE")),Lo(new _a("heartbeat",e=>new EI(e),"PRIVATE")),ws(gm,P0,n),ws(gm,P0,"esm2017"),ws("fire-js","")}AI("");function sg(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function AT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xI=AT,xT=new ju("auth","Firebase",AT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new ng("@firebase/auth");function RI(n,...e){$f.logLevel<=Ye.WARN&&$f.warn(`Auth (${Qo}): ${n}`,...e)}function Cf(n,...e){$f.logLevel<=Ye.ERROR&&$f.error(`Auth (${Qo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(n,...e){throw ag(n,...e)}function Mr(n,...e){return ag(n,...e)}function RT(n,e,t){const i=Object.assign(Object.assign({},xI()),{[e]:t});return new ju("auth","Firebase",i).create(e,{appName:n.name})}function Ss(n){return RT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ag(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return xT.create(n,...e)}function De(n,e,...t){if(!n)throw ag(e,...t)}function bi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Cf(e),new Error(e)}function Ci(n,e){n||bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function CI(){return j0()==="http:"||j0()==="https:"}function j0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CI()||sC()||"connection"in navigator)?navigator.onLine:!0}function OI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ci(t>e,"Short delay should be less than long delay!"),this.isMobile=nC()||aC()}get(){return II()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(n,e){Ci(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new Bu(3e4,6e4);function Fu(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ra(n,e,t,i,a={}){return IT(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=zu(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},l);return iC()||(g.referrerPolicy="no-referrer"),CT.fetch()(DT(n,n.config.apiHost,t,d),g)})}async function IT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},DI),e);try{const a=new PI(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw gf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw gf(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw gf(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw gf(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw RT(n,v,g);Ri(n,v)}}catch(a){if(a instanceof Di)throw a;Ri(n,"network-request-failed",{message:String(a)})}}async function OT(n,e,t,i,a={}){const l=await Ra(n,e,t,i,a);return"mfaPendingCredential"in l&&Ri(n,"multi-factor-auth-required",{_serverResponse:l}),l}function DT(n,e,t,i){const a=`${e}${t}?${i}`;return n.config.emulator?og(n.config,a):`${n.config.apiScheme}://${a}`}function kI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Mr(this.auth,"network-request-failed")),NI.get())})}}function gf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Mr(n,e,i);return a.customData._tokenResponse=t,a}function z0(n){return n!==void 0&&n.enterprise!==void 0}class VI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return kI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LI(n,e){return Ra(n,"GET","/v2/recaptchaConfig",Fu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(n,e){return Ra(n,"POST","/v1/accounts:delete",e)}async function NT(n,e){return Ra(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UI(n,e=!1){const t=dr(n),i=await t.getIdToken(e),a=lg(i);De(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:hu(Xp(a.auth_time)),issuedAtTime:hu(Xp(a.iat)),expirationTime:hu(Xp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Xp(n){return Number(n)*1e3}function lg(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Cf("JWT malformed, contained fewer than 3 sections"),null;try{const a=mT(t);return a?JSON.parse(a):(Cf("Failed to decode base64 JWT payload"),null)}catch(a){return Cf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function B0(n){const e=lg(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Di&&jI(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function jI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gf(n){var e;const t=n.auth,i=await n.getIdToken(),a=await Eu(n,NT(t,{idToken:i}));De(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?kT(l.providerUserInfo):[],d=FI(n.providerData,c),p=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=p?g:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new bm(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function BI(n){const e=dr(n);await Gf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FI(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function kT(n){return n.map(e=>{var{providerId:t}=e,i=sg(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(n,e){const t=await IT(n,{},async()=>{const i=zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=DT(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",CT.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qI(n,e){return Ra(n,"POST","/v2/accounts:revokeToken",Fu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=B0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await HI(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new No;return i&&(De(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(De(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(De(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ei{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=sg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new bm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Eu(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return UI(this,e)}reload(){return BI(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Gf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await Eu(this,MI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,d,p,g,v;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(a=t.email)!==null&&a!==void 0?a:void 0,R=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(c=t.photoURL)!==null&&c!==void 0?c:void 0,U=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=t.createdAt)!==null&&g!==void 0?g:void 0,B=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:G,emailVerified:re,isAnonymous:ie,providerData:de,stsTokenManager:D}=t;De(G&&D,e,"internal-error");const x=No.fromJSON(this.name,D);De(typeof G=="string",e,"internal-error"),ds(E,e.name),ds(T,e.name),De(typeof re=="boolean",e,"internal-error"),De(typeof ie=="boolean",e,"internal-error"),ds(R,e.name),ds(O,e.name),ds(U,e.name),ds(k,e.name),ds($,e.name),ds(B,e.name);const A=new Ei({uid:G,auth:e,email:T,emailVerified:re,displayName:E,isAnonymous:ie,photoURL:O,phoneNumber:R,tenantId:U,stsTokenManager:x,createdAt:$,lastLoginAt:B});return de&&Array.isArray(de)&&(A.providerData=de.map(C=>Object.assign({},C))),k&&(A._redirectEventId=k),A}static async _fromIdTokenResponse(e,t,i=!1){const a=new No;a.updateFromServerResponse(t);const l=new Ei({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Gf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];De(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?kT(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new No;d.updateFromIdToken(i);const p=new Ei({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new bm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;function Ti(n){Ci(n instanceof Function,"Expected a class definition");let e=F0.get(n);return e?(Ci(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,F0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}PT.type="NONE";const H0=PT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(n,e,t){return`firebase:${n}:${e}:${t}`}class ko{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=If(this.userKey,a.apiKey,l),this.fullPersistenceKey=If("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ei._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ko(Ti(H0),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Ti(H0);const c=If(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){const E=Ei._fromJSON(e,v);g!==l&&(d=E),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new ko(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new ko(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zT(e))return"Blackberry";if(BT(e))return"Webos";if(LT(e))return"Safari";if((e.includes("chrome/")||MT(e))&&!e.includes("edge/"))return"Chrome";if(jT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function VT(n=mn()){return/firefox\//i.test(n)}function LT(n=mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MT(n=mn()){return/crios\//i.test(n)}function UT(n=mn()){return/iemobile/i.test(n)}function jT(n=mn()){return/android/i.test(n)}function zT(n=mn()){return/blackberry/i.test(n)}function BT(n=mn()){return/webos/i.test(n)}function ug(n=mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $I(n=mn()){var e;return ug(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GI(){return oC()&&document.documentMode===10}function FT(n=mn()){return ug(n)||jT(n)||BT(n)||zT(n)||/windows phone/i.test(n)||UT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(n,e=[]){let t;switch(n){case"Browser":t=q0(mn());break;case"Worker":t=`${q0(mn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(n,e={}){return Ra(n,"GET","/v2/passwordPolicy",Fu(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=6;class XI{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:YI,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $0(this),this.idTokenSubscription=new $0(this),this.beforeStateQueue=new KI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ti(t)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await ko.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await NT(this,{idToken:e}),i=await Ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(Ss(this));const t=e?dr(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QI(this),t=new XI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await qI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ti(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[Ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&RI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Yo(n){return dr(n)}class $0{constructor(e){this.auth=e,this.observer=null,this.addObserver=mC(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZI(n){bh=n}function qT(n){return bh.loadJS(n)}function JI(){return bh.recaptchaEnterpriseScript}function eO(){return bh.gapiScript}function tO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class nO{constructor(){this.enterprise=new rO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class rO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const iO="recaptcha-enterprise",$T="NO_RECAPTCHA";class sO{constructor(e){this.type=iO,this.auth=Yo(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{LI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new VI(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;z0(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c($T)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&z0(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=JI();p.length!==0&&(p+=d),qT(p).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function G0(n,e,t,i=!1,a=!1){const l=new sO(n);let c;if(a)c=$T;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function aO(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await G0(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await G0(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(n,e){const t=ig(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(va(l,e??{}))return a;Ri(a,"already-initialized")}return t.initialize({options:e})}function lO(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ti);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function uO(n,e,t){const i=Yo(n);De(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=GT(e),{host:c,port:d}=cO(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){De(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),De(va(g,i.config.emulator)&&va(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,fO()}function GT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cO(n){const e=GT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:K0(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:K0(c)}}}function K0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function fO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return bi("not implemented")}_getIdTokenResponse(e){return bi("not implemented")}_linkToIdToken(e,t){return bi("not implemented")}_getReauthenticationResolver(e){return bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(n,e){return OT(n,"POST","/v1/accounts:signInWithIdp",Fu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="http://localhost";class ba extends KT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ri("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=sg(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new ba(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Po(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Po(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Po(e,t)}buildRequest(){const e={requestUri:hO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends QT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Hu{constructor(){super("facebook.com")}static credential(e){return ba._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ba._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ys.credential(t,i)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Hu{constructor(){super("github.com")}static credential(e){return ba._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Hu{constructor(){super("twitter.com")}static credential(e,t){return ba._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return _s.credential(t,i)}catch{return null}}}_s.TWITTER_SIGN_IN_METHOD="twitter.com";_s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(n,e){return OT(n,"POST","/v1/accounts:signUp",Fu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Ei._fromIdTokenResponse(e,i,a),c=Q0(i);return new Ea({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=Q0(i);return new Ea({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function Q0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends Di{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Kf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Kf(e,t,i,a)}}function YT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Kf._fromErrorAndOperation(n,l,e,i):l})}async function pO(n,e,t=!1){const i=await Eu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ea._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(n,e,t=!1){const{auth:i}=n;if(fr(i.app))return Promise.reject(Ss(i));const a="reauthenticate";try{const l=await Eu(n,YT(i,a,e,n),t);De(l.idToken,i,"internal-error");const c=lg(l.idToken);De(c,i,"internal-error");const{sub:d}=c;return De(n.uid===d,i,"user-mismatch"),Ea._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ri(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(n,e,t=!1){if(fr(n.app))return Promise.reject(Ss(n));const i="signIn",a=await YT(n,i,e),l=await Ea._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(n){const e=Yo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vO(n,e,t){if(fr(n.app))return Promise.reject(Ss(n));const i=Yo(n),c=await aO(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dO).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&yO(n),p}),d=await Ea._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function _O(n,e,t,i){return dr(n).onIdTokenChanged(e,t,i)}function bO(n,e,t){return dr(n).beforeAuthStateChanged(e,t)}function EO(n,e,t,i){return dr(n).onAuthStateChanged(e,t,i)}const Qf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qf,"1"),this.storage.removeItem(Qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=1e3,wO=10;class WT extends XT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);GI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,wO):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},TO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}WT.type="LOCAL";const SO=WT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT extends XT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ZT.type="SESSION";const JT=ZT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Eh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await AO(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=cg("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(E){const T=E;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(){return window}function RO(n){Ur().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function CO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function OO(){return e1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="firebaseLocalStorageDb",DO=1,Yf="firebaseLocalStorage",n1="fbase_key";class qu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Th(n,e){return n.transaction([Yf],e?"readwrite":"readonly").objectStore(Yf)}function NO(){const n=indexedDB.deleteDatabase(t1);return new qu(n).toPromise()}function Em(){const n=indexedDB.open(t1,DO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Yf,{keyPath:n1})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Yf)?e(i):(i.close(),await NO(),e(await Em()))})})}async function Y0(n,e,t){const i=Th(n,!0).put({[n1]:e,value:t});return new qu(i).toPromise()}async function kO(n,e){const t=Th(n,!1).get(e),i=await new qu(t).toPromise();return i===void 0?null:i.value}function X0(n,e){const t=Th(n,!0).delete(e);return new qu(t).toPromise()}const PO=800,VO=3;class r1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>VO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(OO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await CO(),!this.activeServiceWorker)return;this.sender=new xO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Em();return await Y0(e,Qf,"1"),await X0(e,Qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Y0(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>kO(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>X0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Th(a,!1).getAll();return new qu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r1.type="LOCAL";const LO=r1;new Bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(n,e){return e?Ti(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends KT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Po(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function UO(n){return gO(n.auth,new fg(n),n.bypassAuthState)}function jO(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),mO(t,new fg(n),n.bypassAuthState)}async function zO(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),pO(t,new fg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UO;case"linkViaPopup":case"linkViaRedirect":return zO;case"reauthViaPopup":case"reauthViaRedirect":return jO;default:Ri(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new Bu(2e3,1e4);class Do extends i1{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BO.get())};e()}}Do.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="pendingRedirect",Of=new Map;class HO extends i1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Of.get(this.auth._key());if(!e){try{const i=await qO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Of.set(this.auth._key(),e)}return this.bypassAuthState||Of.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qO(n,e){const t=KO(e),i=GO(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function $O(n,e){Of.set(n._key(),e)}function GO(n){return Ti(n._redirectPersistence)}function KO(n){return If(FO,n.config.apiKey,n.name)}async function QO(n,e,t=!1){if(fr(n.app))return Promise.reject(Ss(n));const i=Yo(n),a=MO(i,e),c=await new HO(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=10*60*1e3;class XO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!s1(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Mr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YO&&this.cachedEventUids.clear(),this.cachedEventUids.has(W0(e))}saveEventToCache(e){this.cachedEventUids.add(W0(e)),this.lastProcessedEventTime=Date.now()}}function W0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function s1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(n,e={}){return Ra(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eD=/^https?/;async function tD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ZO(n);for(const t of e)try{if(nD(t))return}catch{}Ri(n,"unauthorized-domain")}function nD(n){const e=_m(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!eD.test(t))return!1;if(JO.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new Bu(3e4,6e4);function Z0(){const n=Ur().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function iD(n){return new Promise((e,t)=>{var i,a,l;function c(){Z0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z0(),t(Mr(n,"network-request-failed"))},timeout:rD.get()})}if(!((a=(i=Ur().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Ur().gapi)===null||l===void 0)&&l.load)c();else{const d=tO("iframefcb");return Ur()[d]=()=>{gapi.load?c():t(Mr(n,"network-request-failed"))},qT(`${eO()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Df=null,e})}let Df=null;function sD(n){return Df=Df||iD(n),Df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=new Bu(5e3,15e3),oD="__/auth/iframe",lD="emulator/auth/iframe",uD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fD(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?og(e,lD):`https://${n.config.authDomain}/${oD}`,i={apiKey:e.apiKey,appName:n.name,v:Qo},a=cD.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${zu(i).slice(1)}`}async function hD(n){const e=await sD(n),t=Ur().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:fD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uD,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Mr(n,"network-request-failed"),d=Ur().setTimeout(()=>{l(c)},aD.get());function p(){Ur().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pD=500,mD=600,gD="_blank",yD="http://localhost";class J0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vD(n,e,t,i=pD,a=mD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},dD),{width:i.toString(),height:a.toString(),top:l,left:c}),g=mn().toLowerCase();t&&(d=MT(g)?gD:t),VT(g)&&(e=e||yD,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[R,O])=>`${T}${R}=${O},`,"");if($I(g)&&d!=="_self")return _D(e||"",d),new J0(null);const E=window.open(e||"",d,v);De(E,n,"popup-blocked");try{E.focus()}catch{}return new J0(E)}function _D(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="__/auth/handler",ED="emulator/auth/handler",TD=encodeURIComponent("fac");async function eb(n,e,t,i,a,l){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Qo,eventId:a};if(e instanceof QT){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",pC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof Hu){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),g=p?`#${TD}=${encodeURIComponent(p)}`:"";return`${wD(n)}?${zu(d).slice(1)}${g}`}function wD({config:n}){return n.emulator?og(n,ED):`https://${n.authDomain}/${bD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="webStorageSupport";class SD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JT,this._completeRedirectFn=QO,this._overrideRedirectResult=$O}async _openPopup(e,t,i,a){var l;Ci((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await eb(e,t,i,_m(),a);return vD(e,c,cg())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await eb(e,t,i,_m(),a);return RO(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Ci(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await hD(e),i=new XO(e);return t.register("authEvent",a=>(De(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wp,{type:Wp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Wp];c!==void 0&&t(!!c),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return FT()||LT()||ug()}}const AD=SD;var tb="@firebase/auth",nb="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CD(n){Lo(new _a("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;De(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HT(n)},g=new WI(i,a,l,p);return lO(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Lo(new _a("auth-internal",e=>{const t=Yo(e.getProvider("auth").getImmediate());return(i=>new xD(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(tb,nb,RD(n)),ws(tb,nb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=5*60,OD=vT("authIdTokenMaxAge")||ID;let rb=null;const DD=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>OD)return;const a=t==null?void 0:t.token;rb!==a&&(rb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function ND(n=TT()){const e=ig(n,"auth");if(e.isInitialized())return e.getImmediate();const t=oO(n,{popupRedirectResolver:AD,persistence:[LO,SO,JT]}),i=vT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=DD(l.toString());bO(t,c,()=>c(t.currentUser)),_O(t,d=>c(d))}}const a=gT("auth");return a&&uO(t,`http://${a}`),t}function kD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZI({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Mr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",kD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CD("Browser");var ib=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var As,a1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,x){function A(){}A.prototype=x.prototype,D.D=x.prototype,D.prototype=new A,D.prototype.constructor=D,D.C=function(C,P,V){for(var I=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)I[Ae-2]=arguments[Ae];return x.prototype[P].apply(C,I)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,x,A){A||(A=0);var C=Array(16);if(typeof x=="string")for(var P=0;16>P;++P)C[P]=x.charCodeAt(A++)|x.charCodeAt(A++)<<8|x.charCodeAt(A++)<<16|x.charCodeAt(A++)<<24;else for(P=0;16>P;++P)C[P]=x[A++]|x[A++]<<8|x[A++]<<16|x[A++]<<24;x=D.g[0],A=D.g[1],P=D.g[2];var V=D.g[3],I=x+(V^A&(P^V))+C[0]+3614090360&4294967295;x=A+(I<<7&4294967295|I>>>25),I=V+(P^x&(A^P))+C[1]+3905402710&4294967295,V=x+(I<<12&4294967295|I>>>20),I=P+(A^V&(x^A))+C[2]+606105819&4294967295,P=V+(I<<17&4294967295|I>>>15),I=A+(x^P&(V^x))+C[3]+3250441966&4294967295,A=P+(I<<22&4294967295|I>>>10),I=x+(V^A&(P^V))+C[4]+4118548399&4294967295,x=A+(I<<7&4294967295|I>>>25),I=V+(P^x&(A^P))+C[5]+1200080426&4294967295,V=x+(I<<12&4294967295|I>>>20),I=P+(A^V&(x^A))+C[6]+2821735955&4294967295,P=V+(I<<17&4294967295|I>>>15),I=A+(x^P&(V^x))+C[7]+4249261313&4294967295,A=P+(I<<22&4294967295|I>>>10),I=x+(V^A&(P^V))+C[8]+1770035416&4294967295,x=A+(I<<7&4294967295|I>>>25),I=V+(P^x&(A^P))+C[9]+2336552879&4294967295,V=x+(I<<12&4294967295|I>>>20),I=P+(A^V&(x^A))+C[10]+4294925233&4294967295,P=V+(I<<17&4294967295|I>>>15),I=A+(x^P&(V^x))+C[11]+2304563134&4294967295,A=P+(I<<22&4294967295|I>>>10),I=x+(V^A&(P^V))+C[12]+1804603682&4294967295,x=A+(I<<7&4294967295|I>>>25),I=V+(P^x&(A^P))+C[13]+4254626195&4294967295,V=x+(I<<12&4294967295|I>>>20),I=P+(A^V&(x^A))+C[14]+2792965006&4294967295,P=V+(I<<17&4294967295|I>>>15),I=A+(x^P&(V^x))+C[15]+1236535329&4294967295,A=P+(I<<22&4294967295|I>>>10),I=x+(P^V&(A^P))+C[1]+4129170786&4294967295,x=A+(I<<5&4294967295|I>>>27),I=V+(A^P&(x^A))+C[6]+3225465664&4294967295,V=x+(I<<9&4294967295|I>>>23),I=P+(x^A&(V^x))+C[11]+643717713&4294967295,P=V+(I<<14&4294967295|I>>>18),I=A+(V^x&(P^V))+C[0]+3921069994&4294967295,A=P+(I<<20&4294967295|I>>>12),I=x+(P^V&(A^P))+C[5]+3593408605&4294967295,x=A+(I<<5&4294967295|I>>>27),I=V+(A^P&(x^A))+C[10]+38016083&4294967295,V=x+(I<<9&4294967295|I>>>23),I=P+(x^A&(V^x))+C[15]+3634488961&4294967295,P=V+(I<<14&4294967295|I>>>18),I=A+(V^x&(P^V))+C[4]+3889429448&4294967295,A=P+(I<<20&4294967295|I>>>12),I=x+(P^V&(A^P))+C[9]+568446438&4294967295,x=A+(I<<5&4294967295|I>>>27),I=V+(A^P&(x^A))+C[14]+3275163606&4294967295,V=x+(I<<9&4294967295|I>>>23),I=P+(x^A&(V^x))+C[3]+4107603335&4294967295,P=V+(I<<14&4294967295|I>>>18),I=A+(V^x&(P^V))+C[8]+1163531501&4294967295,A=P+(I<<20&4294967295|I>>>12),I=x+(P^V&(A^P))+C[13]+2850285829&4294967295,x=A+(I<<5&4294967295|I>>>27),I=V+(A^P&(x^A))+C[2]+4243563512&4294967295,V=x+(I<<9&4294967295|I>>>23),I=P+(x^A&(V^x))+C[7]+1735328473&4294967295,P=V+(I<<14&4294967295|I>>>18),I=A+(V^x&(P^V))+C[12]+2368359562&4294967295,A=P+(I<<20&4294967295|I>>>12),I=x+(A^P^V)+C[5]+4294588738&4294967295,x=A+(I<<4&4294967295|I>>>28),I=V+(x^A^P)+C[8]+2272392833&4294967295,V=x+(I<<11&4294967295|I>>>21),I=P+(V^x^A)+C[11]+1839030562&4294967295,P=V+(I<<16&4294967295|I>>>16),I=A+(P^V^x)+C[14]+4259657740&4294967295,A=P+(I<<23&4294967295|I>>>9),I=x+(A^P^V)+C[1]+2763975236&4294967295,x=A+(I<<4&4294967295|I>>>28),I=V+(x^A^P)+C[4]+1272893353&4294967295,V=x+(I<<11&4294967295|I>>>21),I=P+(V^x^A)+C[7]+4139469664&4294967295,P=V+(I<<16&4294967295|I>>>16),I=A+(P^V^x)+C[10]+3200236656&4294967295,A=P+(I<<23&4294967295|I>>>9),I=x+(A^P^V)+C[13]+681279174&4294967295,x=A+(I<<4&4294967295|I>>>28),I=V+(x^A^P)+C[0]+3936430074&4294967295,V=x+(I<<11&4294967295|I>>>21),I=P+(V^x^A)+C[3]+3572445317&4294967295,P=V+(I<<16&4294967295|I>>>16),I=A+(P^V^x)+C[6]+76029189&4294967295,A=P+(I<<23&4294967295|I>>>9),I=x+(A^P^V)+C[9]+3654602809&4294967295,x=A+(I<<4&4294967295|I>>>28),I=V+(x^A^P)+C[12]+3873151461&4294967295,V=x+(I<<11&4294967295|I>>>21),I=P+(V^x^A)+C[15]+530742520&4294967295,P=V+(I<<16&4294967295|I>>>16),I=A+(P^V^x)+C[2]+3299628645&4294967295,A=P+(I<<23&4294967295|I>>>9),I=x+(P^(A|~V))+C[0]+4096336452&4294967295,x=A+(I<<6&4294967295|I>>>26),I=V+(A^(x|~P))+C[7]+1126891415&4294967295,V=x+(I<<10&4294967295|I>>>22),I=P+(x^(V|~A))+C[14]+2878612391&4294967295,P=V+(I<<15&4294967295|I>>>17),I=A+(V^(P|~x))+C[5]+4237533241&4294967295,A=P+(I<<21&4294967295|I>>>11),I=x+(P^(A|~V))+C[12]+1700485571&4294967295,x=A+(I<<6&4294967295|I>>>26),I=V+(A^(x|~P))+C[3]+2399980690&4294967295,V=x+(I<<10&4294967295|I>>>22),I=P+(x^(V|~A))+C[10]+4293915773&4294967295,P=V+(I<<15&4294967295|I>>>17),I=A+(V^(P|~x))+C[1]+2240044497&4294967295,A=P+(I<<21&4294967295|I>>>11),I=x+(P^(A|~V))+C[8]+1873313359&4294967295,x=A+(I<<6&4294967295|I>>>26),I=V+(A^(x|~P))+C[15]+4264355552&4294967295,V=x+(I<<10&4294967295|I>>>22),I=P+(x^(V|~A))+C[6]+2734768916&4294967295,P=V+(I<<15&4294967295|I>>>17),I=A+(V^(P|~x))+C[13]+1309151649&4294967295,A=P+(I<<21&4294967295|I>>>11),I=x+(P^(A|~V))+C[4]+4149444226&4294967295,x=A+(I<<6&4294967295|I>>>26),I=V+(A^(x|~P))+C[11]+3174756917&4294967295,V=x+(I<<10&4294967295|I>>>22),I=P+(x^(V|~A))+C[2]+718787259&4294967295,P=V+(I<<15&4294967295|I>>>17),I=A+(V^(P|~x))+C[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+V&4294967295}i.prototype.u=function(D,x){x===void 0&&(x=D.length);for(var A=x-this.blockSize,C=this.B,P=this.h,V=0;V<x;){if(P==0)for(;V<=A;)a(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<x;)if(C[P++]=D.charCodeAt(V++),P==this.blockSize){a(this,C),P=0;break}}else for(;V<x;)if(C[P++]=D[V++],P==this.blockSize){a(this,C),P=0;break}}this.h=P,this.o+=x},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;var A=8*this.o;for(x=D.length-8;x<D.length;++x)D[x]=A&255,A/=256;for(this.u(D),D=Array(16),x=A=0;4>x;++x)for(var C=0;32>C;C+=8)D[A++]=this.g[x]>>>C&255;return D};function l(D,x){var A=d;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=x(D)}function c(D,x){this.h=x;for(var A=[],C=!0,P=D.length-1;0<=P;P--){var V=D[P]|0;C&&V==x||(A[P]=V,C=!1)}this.g=A}var d={};function p(D){return-128<=D&&128>D?l(D,function(x){return new c([x|0],0>x?-1:0)}):new c([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return E;if(0>D)return k(g(-D));for(var x=[],A=1,C=0;D>=A;C++)x[C]=D/A|0,A*=4294967296;return new c(x,0)}function v(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return k(v(D.substring(1),x));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(x,8)),C=E,P=0;P<D.length;P+=8){var V=Math.min(8,D.length-P),I=parseInt(D.substring(P,P+V),x);8>V?(V=g(Math.pow(x,V)),C=C.j(V).add(g(I))):(C=C.j(A),C=C.add(g(I)))}return C}var E=p(0),T=p(1),R=p(16777216);n=c.prototype,n.m=function(){if(U(this))return-k(this).m();for(var D=0,x=1,A=0;A<this.g.length;A++){var C=this.i(A);D+=(0<=C?C:4294967296+C)*x,x*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O(this))return"0";if(U(this))return"-"+k(this).toString(D);for(var x=g(Math.pow(D,6)),A=this,C="";;){var P=re(A,x).g;A=$(A,P.j(x));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(D);if(A=P,O(A))return V+C;for(;6>V.length;)V="0"+V;C=V+C}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function O(D){if(D.h!=0)return!1;for(var x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function U(D){return D.h==-1}n.l=function(D){return D=$(this,D),U(D)?-1:O(D)?0:1};function k(D){for(var x=D.g.length,A=[],C=0;C<x;C++)A[C]=~D.g[C];return new c(A,~D.h).add(T)}n.abs=function(){return U(this)?k(this):this},n.add=function(D){for(var x=Math.max(this.g.length,D.g.length),A=[],C=0,P=0;P<=x;P++){var V=C+(this.i(P)&65535)+(D.i(P)&65535),I=(V>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);C=I>>>16,V&=65535,I&=65535,A[P]=I<<16|V}return new c(A,A[A.length-1]&-2147483648?-1:0)};function $(D,x){return D.add(k(x))}n.j=function(D){if(O(this)||O(D))return E;if(U(this))return U(D)?k(this).j(k(D)):k(k(this).j(D));if(U(D))return k(this.j(k(D)));if(0>this.l(R)&&0>D.l(R))return g(this.m()*D.m());for(var x=this.g.length+D.g.length,A=[],C=0;C<2*x;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var P=0;P<D.g.length;P++){var V=this.i(C)>>>16,I=this.i(C)&65535,Ae=D.i(P)>>>16,Ce=D.i(P)&65535;A[2*C+2*P]+=I*Ce,B(A,2*C+2*P),A[2*C+2*P+1]+=V*Ce,B(A,2*C+2*P+1),A[2*C+2*P+1]+=I*Ae,B(A,2*C+2*P+1),A[2*C+2*P+2]+=V*Ae,B(A,2*C+2*P+2)}for(C=0;C<x;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=x;C<2*x;C++)A[C]=0;return new c(A,0)};function B(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function G(D,x){this.g=D,this.h=x}function re(D,x){if(O(x))throw Error("division by zero");if(O(D))return new G(E,E);if(U(D))return x=re(k(D),x),new G(k(x.g),k(x.h));if(U(x))return x=re(D,k(x)),new G(k(x.g),x.h);if(30<D.g.length){if(U(D)||U(x))throw Error("slowDivide_ only works with positive integers.");for(var A=T,C=x;0>=C.l(D);)A=ie(A),C=ie(C);var P=de(A,1),V=de(C,1);for(C=de(C,2),A=de(A,2);!O(C);){var I=V.add(C);0>=I.l(D)&&(P=P.add(A),V=I),C=de(C,1),A=de(A,1)}return x=$(D,P.j(x)),new G(P,x)}for(P=E;0<=D.l(x);){for(A=Math.max(1,Math.floor(D.m()/x.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),V=g(A),I=V.j(x);U(I)||0<I.l(D);)A-=C,V=g(A),I=V.j(x);O(V)&&(V=T),P=P.add(V),D=$(D,I)}return new G(P,D)}n.A=function(D){return re(this,D).h},n.and=function(D){for(var x=Math.max(this.g.length,D.g.length),A=[],C=0;C<x;C++)A[C]=this.i(C)&D.i(C);return new c(A,this.h&D.h)},n.or=function(D){for(var x=Math.max(this.g.length,D.g.length),A=[],C=0;C<x;C++)A[C]=this.i(C)|D.i(C);return new c(A,this.h|D.h)},n.xor=function(D){for(var x=Math.max(this.g.length,D.g.length),A=[],C=0;C<x;C++)A[C]=this.i(C)^D.i(C);return new c(A,this.h^D.h)};function ie(D){for(var x=D.g.length+1,A=[],C=0;C<x;C++)A[C]=D.i(C)<<1|D.i(C-1)>>>31;return new c(A,D.h)}function de(D,x){var A=x>>5;x%=32;for(var C=D.g.length-A,P=[],V=0;V<C;V++)P[V]=0<x?D.i(V+A)>>>x|D.i(V+A+1)<<32-x:D.i(V+A);return new c(P,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,a1=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,As=c}).apply(typeof ib<"u"?ib:typeof self<"u"?self:typeof window<"u"?window:{});var yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o1,lu,l1,Nf,Tm,u1,c1,f1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,_){return f==Array.prototype||f==Object.prototype||(f[y]=_.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof yf=="object"&&yf];for(var y=0;y<f.length;++y){var _=f[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function a(f,y){if(y)e:{var _=i;f=f.split(".");for(var S=0;S<f.length-1;S++){var K=f[S];if(!(K in _))break e;_=_[K]}f=f[f.length-1],S=_[f],y=y(S),y!=S&&y!=null&&e(_,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var _=0,S=!1,K={next:function(){if(!S&&_<f.length){var W=_++;return{value:y(W,f[W]),done:!1}}return S=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}a("Array.prototype.values",function(f){return f||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function g(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,_){return f.call.apply(f.bind,arguments)}function E(f,y,_){if(!f)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,S),f.apply(y,K)}}return function(){return f.apply(y,arguments)}}function T(f,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,T.apply(null,arguments)}function R(f,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),f.apply(this,S)}}function O(f,y){function _(){}_.prototype=y.prototype,f.aa=y.prototype,f.prototype=new _,f.prototype.constructor=f,f.Qb=function(S,K,W){for(var ce=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ce[Ze-2]=arguments[Ze];return y.prototype[K].apply(S,ce)}}function U(f){const y=f.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=f[S];return _}return[]}function k(f,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const K=f.length||0,W=S.length||0;f.length=K+W;for(let ce=0;ce<W;ce++)f[K+ce]=S[ce]}else f.push(S)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(f){return/^[\s\xa0]*$/.test(f)}function G(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function re(f){return re[" "](f),f}re[" "]=function(){};var ie=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function de(f,y,_){for(const S in f)y.call(_,f[S],S,f)}function D(f,y){for(const _ in f)y.call(void 0,f[_],_,f)}function x(f){const y={};for(const _ in f)y[_]=f[_];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(f,y){let _,S;for(let K=1;K<arguments.length;K++){S=arguments[K];for(_ in S)f[_]=S[_];for(let W=0;W<A.length;W++)_=A[W],Object.prototype.hasOwnProperty.call(S,_)&&(f[_]=S[_])}}function P(f){var y=1;f=f.split(":");const _=[];for(;0<y&&f.length;)_.push(f.shift()),y--;return f.length&&_.push(f.join(":")),_}function V(f){d.setTimeout(()=>{throw f},0)}function I(){var f=Ie;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Ae{constructor(){this.h=this.g=null}add(y,_){const S=Ce.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Ce=new $(()=>new oe,f=>f.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,ye=!1,Ie=new Ae,L=()=>{const f=d.Promise.resolve(void 0);ge=()=>{f.then(se)}};var se=()=>{for(var f;f=I();){try{f.h.call(f.g)}catch(_){V(_)}var y=Ce;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}ye=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return f}();function ze(f,y){if(pe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var _=this.type=f.type,S=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(ie){e:{try{re(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else _=="mouseover"?y=f.fromElement:_=="mouseout"&&(y=f.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Pe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ze.aa.h.call(this)}}O(ze,pe);var Pe={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function pt(f,y,_,S,K){this.listener=f,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=K,this.key=++Qe,this.da=this.fa=!1}function st(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Gt(f){this.src=f,this.g={},this.h=0}Gt.prototype.add=function(f,y,_,S,K){var W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);var ce=yn(f,y,S,K);return-1<ce?(y=f[ce],_||(y.fa=!1)):(y=new pt(y,this.src,W,!!S,K),y.fa=_,f.push(y)),y};function tr(f,y){var _=y.type;if(_ in f.g){var S=f.g[_],K=Array.prototype.indexOf.call(S,y,void 0),W;(W=0<=K)&&Array.prototype.splice.call(S,K,1),W&&(st(y),f.g[_].length==0&&(delete f.g[_],f.h--))}}function yn(f,y,_,S){for(var K=0;K<f.length;++K){var W=f[K];if(!W.da&&W.listener==y&&W.capture==!!_&&W.ha==S)return K}return-1}var nr="closure_lm_"+(1e6*Math.random()|0),Gr={};function mr(f,y,_,S,K){if(Array.isArray(y)){for(var W=0;W<y.length;W++)mr(f,y[W],_,S,K);return null}return _=je(_),f&&f[gt]?f.K(y,_,g(S)?!!S.capture:!1,K):Na(f,y,_,!1,S,K)}function Na(f,y,_,S,K,W){if(!y)throw Error("Invalid event type");var ce=g(K)?!!K.capture:!!K,Ze=ue(f);if(Ze||(f[nr]=Ze=new Gt(f)),_=Ze.add(y,_,S,ce,W),_.proxy)return _;if(S=M(),_.proxy=S,S.src=f,S.listener=_,f.addEventListener)me||(K=ce),K===void 0&&(K=!1),f.addEventListener(y.toString(),S,K);else if(f.attachEvent)f.attachEvent(he(y.toString()),S);else if(f.addListener&&f.removeListener)f.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function M(){function f(_){return y.call(f.src,f.listener,_)}const y=fe;return f}function Y(f,y,_,S,K){if(Array.isArray(y))for(var W=0;W<y.length;W++)Y(f,y[W],_,S,K);else S=g(S)?!!S.capture:!!S,_=je(_),f&&f[gt]?(f=f.i,y=String(y).toString(),y in f.g&&(W=f.g[y],_=yn(W,_,S,K),-1<_&&(st(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete f.g[y],f.h--)))):f&&(f=ue(f))&&(y=f.g[y.toString()],f=-1,y&&(f=yn(y,_,S,K)),(_=-1<f?y[f]:null)&&Z(_))}function Z(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[gt])tr(y.i,f);else{var _=f.type,S=f.proxy;y.removeEventListener?y.removeEventListener(_,S,f.capture):y.detachEvent?y.detachEvent(he(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=ue(y))?(tr(_,f),_.h==0&&(_.src=null,y[nr]=null)):st(f)}}}function he(f){return f in Gr?Gr[f]:Gr[f]="on"+f}function fe(f,y){if(f.da)f=!0;else{y=new ze(y,this);var _=f.listener,S=f.ha||f.src;f.fa&&Z(f),f=_.call(S,y)}return f}function ue(f){return f=f[nr],f instanceof Gt?f:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function je(f){return typeof f=="function"?f:(f[_e]||(f[_e]=function(y){return f.handleEvent(y)}),f[_e])}function qe(){be.call(this),this.i=new Gt(this),this.M=this,this.F=null}O(qe,be),qe.prototype[gt]=!0,qe.prototype.removeEventListener=function(f,y,_,S){Y(this,f,y,_,S)};function Ge(f,y){var _,S=f.F;if(S)for(_=[];S;S=S.F)_.push(S);if(f=f.M,S=y.type||y,typeof y=="string")y=new pe(y,f);else if(y instanceof pe)y.target=y.target||f;else{var K=y;y=new pe(S,f),C(y,K)}if(K=!0,_)for(var W=_.length-1;0<=W;W--){var ce=y.g=_[W];K=Kt(ce,S,!0,y)&&K}if(ce=y.g=f,K=Kt(ce,S,!0,y)&&K,K=Kt(ce,S,!1,y)&&K,_)for(W=0;W<_.length;W++)ce=y.g=_[W],K=Kt(ce,S,!1,y)&&K}qe.prototype.N=function(){if(qe.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var _=f.g[y],S=0;S<_.length;S++)st(_[S]);delete f.g[y],f.h--}}this.F=null},qe.prototype.K=function(f,y,_,S){return this.i.add(String(f),y,!1,_,S)},qe.prototype.L=function(f,y,_,S){return this.i.add(String(f),y,!0,_,S)};function Kt(f,y,_,S){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,W=0;W<y.length;++W){var ce=y[W];if(ce&&!ce.da&&ce.capture==_){var Ze=ce.listener,Mt=ce.ha||ce.src;ce.fa&&tr(f.i,ce),K=Ze.call(Mt,S)!==!1&&K}}return K&&!S.defaultPrevented}function ka(f,y,_){if(typeof f=="function")_&&(f=T(f,_));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(f,y||0)}function Kr(f){f.g=ka(()=>{f.g=null,f.i&&(f.i=!1,Kr(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Vs extends be{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Kr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(f){be.call(this),this.h=f,this.g={}}O(Qr,be);var rr=[];function Qt(f){de(f.g,function(y,_){this.g.hasOwnProperty(_)&&Z(y)},f),f.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),Qt(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ni=d.JSON.stringify,gr=d.JSON.parse,vn=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function el(){}el.prototype.h=null;function Yu(f){return f.h||(f.h=f.i())}function Xu(){}var yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){pe.call(this,"d")}O(ki,pe);function ir(){pe.call(this,"c")}O(ir,pe);var Ln={},Pi=null;function Pa(){return Pi=Pi||new qe}Ln.La="serverreachability";function tl(f){pe.call(this,Ln.La,f)}O(tl,pe);function Vi(f){const y=Pa();Ge(y,new tl(y))}Ln.STAT_EVENT="statevent";function Va(f,y){pe.call(this,Ln.STAT_EVENT,f),this.stat=y}O(Va,pe);function Rt(f){const y=Pa();Ge(y,new Va(y,f))}Ln.Ma="timingevent";function Wu(f,y){pe.call(this,Ln.Ma,f),this.size=y}O(Wu,pe);function Li(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},y)}function Mi(){this.g=!0}Mi.prototype.xa=function(){this.g=!1};function Zu(f,y,_,S,K,W){f.info(function(){if(f.g)if(W)for(var ce="",Ze=W.split("&"),Mt=0;Mt<Ze.length;Mt++){var Je=Ze[Mt].split("=");if(1<Je.length){var Wt=Je[0];Je=Je[1];var Ut=Wt.split("_");ce=2<=Ut.length&&Ut[1]=="type"?ce+(Wt+"="+Je+"&"):ce+(Wt+"=redacted&")}}else ce=null;else ce=W;return"XMLHTTP REQ ("+S+") [attempt "+K+"]: "+y+`
`+_+`
`+ce})}function Ju(f,y,_,S,K,W,ce){f.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+K+"]: "+y+`
`+_+`
`+W+" "+ce})}function Ui(f,y,_,S){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Yt(f,_)+(S?" "+S:"")})}function vr(f,y){f.info(function(){return"TIMEOUT: "+y})}Mi.prototype.info=function(){};function Yt(f,y){if(!f.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(f=0;f<_.length;f++)if(Array.isArray(_[f])){var S=_[f];if(!(2>S.length)){var K=S[1];if(Array.isArray(K)&&!(1>K.length)){var W=K[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ce=1;ce<K.length;ce++)K[ce]=""}}}}return Ni(_)}catch{return y}}var Lt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ls;function La(){}O(La,el),La.prototype.g=function(){return new XMLHttpRequest},La.prototype.i=function(){return{}},Ls=new La;function _r(f,y,_,S){this.j=f,this.i=y,this.l=_,this.R=S||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nl}function nl(){this.i=null,this.g="",this.h=!1}var ji={},Ms={};function sr(f,y,_){f.L=1,f.v=zs(Tt(y)),f.m=_,f.P=!0,Xr(f,null)}function Xr(f,y){f.F=Date.now(),yt(f),f.A=Tt(f.v);var _=f.A,S=f.R;Array.isArray(S)||(S=[String(S)]),Jr(_.i,"t",S),f.C=0,_=f.j.J,f.h=new nl,f.g=dc(f.j,_?y:null,!f.m),0<f.O&&(f.M=new Vs(T(f.Y,f,f.g),f.O)),y=f.U,_=f.g,S=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(rr[0]=K.toString()),K=rr);for(var W=0;W<K.length;W++){var ce=mr(_,K[W],S||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=f.H?x(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Vi(),Zu(f.i,f.u,f.A,f.l,f.R,f.m)}_r.prototype.ca=function(f){f=f.target;const y=this.M;y&&Bn(f)==3?y.j():this.Y(f)},_r.prototype.Y=function(f){try{if(f==this.g)e:{const Ut=Bn(this.g);var y=this.g.Ba();const ri=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||sc(this.g)))){this.J||Ut!=4||y==7||(y==8||0>=ri?Vi(3):Vi(2)),Ma(this);var _=this.g.Z();this.X=_;t:if(zi(this)){var S=sc(this.g);f="";var K=S.length,W=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){An(this),In(this);var ce="";break t}this.h.i=new d.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,f+=this.h.i.decode(S[y],{stream:!(W&&y==K-1)});S.length=0,this.h.g+=f,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,Ju(this.i,this.u,this.A,this.l,this.R,Ut,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Mt=this.g;if((Ze=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Ze)){var Je=Ze;break t}}Je=null}if(_=Je)Ui(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,On(this,_);else{this.o=!1,this.s=3,Rt(12),An(this),In(this);break e}}if(this.P){_=!0;let nn;for(;!this.J&&this.C<ce.length;)if(nn=Bi(this,ce),nn==Ms){Ut==4&&(this.s=4,Rt(14),_=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==ji){this.s=4,Rt(15),Ui(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else Ui(this.i,this.l,nn,null),On(this,nn);if(zi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||ce.length!=0||this.h.h||(this.s=1,Rt(16),_=!1),this.o=this.o&&_,!_)Ui(this.i,this.l,ce,"[Invalid Chunked Response]"),An(this),In(this);else if(0<ce.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Ks(Wt),Wt.M=!0,Rt(11))}}else Ui(this.i,this.l,ce,null),On(this,ce);Ut==4&&An(this),this.o&&!this.J&&(Ut==4?cc(this.j,this):(this.o=!1,yt(this)))}else Hh(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),An(this),In(this)}}}catch{}finally{}};function zi(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Bi(f,y){var _=f.C,S=y.indexOf(`
`,_);return S==-1?Ms:(_=Number(y.substring(_,S)),isNaN(_)?ji:(S+=1,S+_>y.length?Ms:(y=y.slice(S,S+_),f.C=S+_,y)))}_r.prototype.cancel=function(){this.J=!0,An(this)};function yt(f){f.S=Date.now()+f.I,rl(f,f.I)}function rl(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Li(T(f.ba,f),y)}function Ma(f){f.B&&(d.clearTimeout(f.B),f.B=null)}_r.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(vr(this.i,this.A),this.L!=2&&(Vi(),Rt(17)),An(this),this.s=2,In(this)):rl(this,this.S-f)};function In(f){f.j.G==0||f.J||cc(f.j,f)}function An(f){Ma(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Qt(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function On(f,y){try{var _=f.j;if(_.G!=0&&(_.g==f||Fi(_.h,f))){if(!f.K&&Fi(_.h,f)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var K=S;if(K[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<f.F)Ka(_),$a(_);else break e;pl(_),Rt(18)}}else _.za=K[1],0<_.za-_.T&&37500>K[2]&&_.F&&_.v==0&&!_.C&&(_.C=Li(T(_.Za,_),6e3));if(1>=ec(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ni(_,11)}else if((f.K||_.g==f)&&Ka(_),!B(y))for(K=_.Da.g.parse(y),y=0;y<K.length;y++){let Je=K[y];if(_.T=Je[0],Je=Je[1],_.G==2)if(Je[0]=="c"){_.K=Je[1],_.ia=Je[2];const Wt=Je[3];Wt!=null&&(_.la=Wt,_.j.info("VER="+_.la));const Ut=Je[4];Ut!=null&&(_.Aa=Ut,_.j.info("SVER="+_.Aa));const ri=Je[5];ri!=null&&typeof ri=="number"&&0<ri&&(S=1.5*ri,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const nn=f.g;if(nn){const xr=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xr){var W=S.h;W.g||xr.indexOf("spdy")==-1&&xr.indexOf("quic")==-1&&xr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Hi(W,W.h),W.h=null))}if(S.D){const gl=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(S.ya=gl,nt(S.I,S.D,gl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-f.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ce=f;if(S.qa=hc(S,S.J?S.ia:null,S.W),ce.K){Mn(S.h,ce);var Ze=ce,Mt=S.L;Mt&&(Ze.I=Mt),Ze.B&&(Ma(Ze),yt(Ze)),S.g=ce}else lc(S);0<_.i.length&&Ga(_)}else Je[0]!="stop"&&Je[0]!="close"||ni(_,7);else _.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?ni(_,7):hl(_):Je[0]!="noop"&&_.l&&_.l.ta(Je),_.v=0)}}Vi(4)}catch{}}var Uh=class{constructor(f,y){this.g=f,this.map=y}};function il(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ec(f){return f.h?1:f.g?f.g.size:0}function Fi(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Hi(f,y){f.g?f.g.add(y):f.h=y}function Mn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}il.prototype.cancel=function(){if(this.i=_n(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function _n(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const _ of f.g.values())y=y.concat(_.D);return y}return U(f.i)}function tc(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var y=[],_=f.length,S=0;S<_;S++)y.push(f[S]);return y}y=[],_=0;for(S in f)y[_++]=f[S];return y}function jh(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var y=[];f=f.length;for(var _=0;_<f;_++)y.push(_);return y}y=[],_=0;for(const S in f)y[_++]=S;return y}}}function Us(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var _=jh(f),S=tc(f),K=S.length,W=0;W<K;W++)y.call(void 0,S[W],_&&_[W],f)}var al=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(f,y){if(f){f=f.split("&");for(var _=0;_<f.length;_++){var S=f[_].indexOf("="),K=null;if(0<=S){var W=f[_].substring(0,S);K=f[_].substring(S+1)}else W=f[_];y(W,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Wr(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Wr){this.h=f.h,qi(this,f.j),this.o=f.o,this.g=f.g,js(this,f.s),this.l=f.l;var y=f.i,_=new br;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ja(this,_),this.m=f.m}else f&&(y=String(f).match(al))?(this.h=!1,qi(this,y[1]||"",!0),this.o=$i(y[2]||""),this.g=$i(y[3]||"",!0),js(this,y[4]),this.l=$i(y[5]||"",!0),ja(this,y[6]||"",!0),this.m=$i(y[7]||"")):(this.h=!1,this.i=new br(null,this.h))}Wr.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Un(y,ol,!0),":");var _=this.g;return(_||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Un(y,ol,!0),"@"),f.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&f.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&f.push("/"),f.push(Un(_,_.charAt(0)=="/"?ll:nc,!0))),(_=this.i.toString())&&f.push("?",_),(_=this.m)&&f.push("#",Un(_,Fh)),f.join("")};function Tt(f){return new Wr(f)}function qi(f,y,_){f.j=_?$i(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function js(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function ja(f,y,_){y instanceof br?(f.i=y,ul(f.i,f.h)):(_||(y=Un(y,Bh)),f.i=new br(y,f.h))}function nt(f,y,_){f.i.set(y,_)}function zs(f){return nt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function $i(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Un(f,y,_){return typeof f=="string"?(f=encodeURI(f).replace(y,zh),_&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function zh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ol=/[#\/\?@]/g,nc=/[#\?:]/g,ll=/[#\?]/g,Bh=/[#\?@]/g,Fh=/#/g;function br(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function jn(f){f.g||(f.g=new Map,f.h=0,f.i&&Ua(f.i,function(y,_){f.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=br.prototype,n.add=function(f,y){jn(this),this.i=null,f=ei(this,f);var _=this.g.get(f);return _||this.g.set(f,_=[]),_.push(y),this.h+=1,this};function za(f,y){jn(f),y=ei(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Zr(f,y){return jn(f),y=ei(f,y),f.g.has(y)}n.forEach=function(f,y){jn(this),this.g.forEach(function(_,S){_.forEach(function(K){f.call(y,K,S,this)},this)},this)},n.na=function(){jn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const K=f[S];for(let W=0;W<K.length;W++)_.push(y[S])}return _},n.V=function(f){jn(this);let y=[];if(typeof f=="string")Zr(this,f)&&(y=y.concat(this.g.get(ei(this,f))));else{f=Array.from(this.g.values());for(let _=0;_<f.length;_++)y=y.concat(f[_])}return y},n.set=function(f,y){return jn(this),this.i=null,f=ei(this,f),Zr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function Jr(f,y,_){za(f,y),0<_.length&&(f.i=null,f.g.set(ei(f,y),U(_)),f.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const W=encodeURIComponent(String(S)),ce=this.V(S);for(S=0;S<ce.length;S++){var K=W;ce[S]!==""&&(K+="="+encodeURIComponent(String(ce[S]))),f.push(K)}}return this.i=f.join("&")};function ei(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function ul(f,y){y&&!f.j&&(jn(f),f.i=null,f.g.forEach(function(_,S){var K=S.toLowerCase();S!=K&&(za(this,S),Jr(this,K,_))},f)),f.j=y}function rc(f,y){const _=new Mi;if(d.Image){const S=new Image;S.onload=R(zn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=R(zn,_,"TestLoadImage: error",!1,y,S),S.onabort=R(zn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=R(zn,_,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=f}else y(!1)}function Bs(f,y){const _=new Mi,S=new AbortController,K=setTimeout(()=>{S.abort(),zn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:S.signal}).then(W=>{clearTimeout(K),W.ok?zn(_,"TestPingServer: ok",!0,y):zn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),zn(_,"TestPingServer: error",!1,y)})}function zn(f,y,_,S,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),S(_)}catch{}}function Fs(){this.g=new vn}function Er(f,y,_){const S=_||"";try{Us(f,function(K,W){let ce=K;g(K)&&(ce=Ni(K)),y.push(S+W+"="+encodeURIComponent(ce))})}catch(K){throw y.push(S+"type="+encodeURIComponent("_badmap")),K}}function Gi(f){this.l=f.Ub||null,this.j=f.eb||!1}O(Gi,el),Gi.prototype.g=function(){return new ti(this.l,this.j)},Gi.prototype.i=function(f){return function(){return f}}({});function ti(f,y){qe.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ti,qe),n=ti.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,wr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,wr(this)),this.g&&(this.readyState=3,wr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function cl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Tr(this):wr(this),this.readyState==3&&cl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Tr(this))},n.Qa=function(f){this.g&&(this.response=f,Tr(this))},n.ga=function(){this.g&&Tr(this)};function Tr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,wr(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,f.push(_[0]+": "+_[1]),_=y.next();return f.join(`\r
`)};function wr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function fl(f){let y="";return de(f,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Xt(f,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=fl(_),typeof f=="string"?_!=null&&encodeURIComponent(String(_)):nt(f,y,_))}function ot(f){qe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(ot,qe);var Ba=/^https?$/i,Hs=["POST","PUT"];n=ot.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ls.g(),this.v=this.o?Yu(this.o):Yu(Ls),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(W){ic(this,W);return}if(f=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var K in S)_.set(K,S[K]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const W of S.keys())_.set(W,S.get(W));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),K=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Hs,y,void 0))||S||K||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ce]of _)this.g.setRequestHeader(W,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qs(this),this.u=!0,this.g.send(f),this.u=!1}catch(W){ic(this,W)}};function ic(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Fa(f),Sr(f)}function Fa(f){f.A||(f.A=!0,Ge(f,"complete"),Ge(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ge(this,"complete"),Ge(this,"abort"),Sr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sr(this,!0)),ot.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ha(this):this.bb())},n.bb=function(){Ha(this)};function Ha(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Bn(f)!=4||f.Z()!=2)){if(f.u&&Bn(f)==4)ka(f.Ea,0,f);else if(Ge(f,"readystatechange"),Bn(f)==4){f.h=!1;try{const ce=f.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=ce===0){var K=String(f.D).match(al)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),S=!Ba.test(K?K.toLowerCase():"")}_=S}if(_)Ge(f,"complete"),Ge(f,"success");else{f.m=6;try{var W=2<Bn(f)?f.g.statusText:""}catch{W=""}f.l=W+" ["+f.Z()+"]",Fa(f)}}finally{Sr(f)}}}}function Sr(f,y){if(f.g){qs(f);const _=f.g,S=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Ge(f,"ready");try{_.onreadystatechange=S}catch{}}}function qs(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Bn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),gr(y)}};function sc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Hh(f){const y={};f=(f.g&&2<=Bn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<f.length;S++){if(B(f[S]))continue;var _=P(f[S]);const K=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=y[K]||[];y[K]=W,W.push(_)}D(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(f,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[f]||y}function qa(f){this.Aa=0,this.i=[],this.j=new Mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$s("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$s("baseRetryDelayMs",5e3,f),this.cb=$s("retryDelaySeedMs",1e4,f),this.Wa=$s("forwardChannelMaxRetries",2,f),this.wa=$s("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new il(f&&f.concurrentRequestLimit),this.Da=new Fs,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=qa.prototype,n.la=8,n.G=1,n.connect=function(f,y,_,S){Rt(0),this.W=f,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=hc(this,null,this.W),Ga(this)};function hl(f){if(ac(f),f.G==3){var y=f.U++,_=Tt(f.I);if(nt(_,"SID",f.K),nt(_,"RID",y),nt(_,"TYPE","terminate"),Gs(f,_),y=new _r(f,f.j,y),y.L=2,y.v=zs(Tt(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=dc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),yt(y)}fc(f)}function $a(f){f.g&&(Ks(f),f.g.cancel(),f.g=null)}function ac(f){$a(f),f.u&&(d.clearTimeout(f.u),f.u=null),Ka(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Ga(f){if(!sl(f.h)&&!f.s){f.s=!0;var y=f.Ga;ge||L(),ye||(ge(),ye=!0),Ie.add(y,f),f.B=0}}function qh(f,y){return ec(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Li(T(f.Ga,f,y),ml(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new _r(this,this.j,f);let W=this.o;if(this.S&&(W?(W=x(W),C(W,this.S)):W=this.S),this.m!==null||this.O||(K.H=W,W=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=oc(this,K,y),_=Tt(this.I),nt(_,"RID",f),nt(_,"CVER",22),this.D&&nt(_,"X-HTTP-Session-Id",this.D),Gs(this,_),W&&(this.O?y="headers="+encodeURIComponent(String(fl(W)))+"&"+y:this.m&&Xt(_,this.m,W)),Hi(this.h,K),this.Ua&&nt(_,"TYPE","init"),this.P?(nt(_,"$req",y),nt(_,"SID","null"),K.T=!0,sr(K,_,null)):sr(K,_,y),this.G=2}}else this.G==3&&(f?dl(this,f):this.i.length==0||sl(this.h)||dl(this))};function dl(f,y){var _;y?_=y.l:_=f.U++;const S=Tt(f.I);nt(S,"SID",f.K),nt(S,"RID",_),nt(S,"AID",f.T),Gs(f,S),f.m&&f.o&&Xt(S,f.m,f.o),_=new _r(f,f.j,_,f.B+1),f.m===null&&(_.H=f.o),y&&(f.i=y.D.concat(f.i)),y=oc(f,_,1e3),_.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Hi(f.h,_),sr(_,S,y)}function Gs(f,y){f.H&&de(f.H,function(_,S){nt(y,S,_)}),f.l&&Us({},function(_,S){nt(y,S,_)})}function oc(f,y,_){_=Math.min(f.i.length,_);var S=f.l?T(f.l.Na,f.l,f):null;e:{var K=f.i;let W=-1;for(;;){const ce=["count="+_];W==-1?0<_?(W=K[0].g,ce.push("ofs="+W)):W=0:ce.push("ofs="+W);let Ze=!0;for(let Mt=0;Mt<_;Mt++){let Je=K[Mt].g;const Wt=K[Mt].map;if(Je-=W,0>Je)W=Math.max(0,K[Mt].g-100),Ze=!1;else try{Er(Wt,ce,"req"+Je+"_")}catch{S&&S(Wt)}}if(Ze){S=ce.join("&");break e}}}return f=f.i.splice(0,_),y.D=f,S}function lc(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;ge||L(),ye||(ge(),ye=!0),Ie.add(y,f),f.v=0}}function pl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Li(T(f.Fa,f),ml(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,uc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Li(T(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),$a(this),uc(this))};function Ks(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function uc(f){f.g=new _r(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Tt(f.qa);nt(y,"RID","rpc"),nt(y,"SID",f.K),nt(y,"AID",f.T),nt(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&nt(y,"TO",f.ja),nt(y,"TYPE","xmlhttp"),Gs(f,y),f.m&&f.o&&Xt(y,f.m,f.o),f.L&&(f.g.I=f.L);var _=f.g;f=f.ia,_.L=1,_.v=zs(Tt(y)),_.m=null,_.P=!0,Xr(_,f)}n.Za=function(){this.C!=null&&(this.C=null,$a(this),pl(this),Rt(19))};function Ka(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function cc(f,y){var _=null;if(f.g==y){Ka(f),Ks(f),f.g=null;var S=2}else if(Fi(f.h,y))_=y.D,Mn(f.h,y),S=1;else return;if(f.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var K=f.B;S=Pa(),Ge(S,new Wu(S,_)),Ga(f)}else lc(f);else if(K=y.s,K==3||K==0&&0<y.X||!(S==1&&qh(f,y)||S==2&&pl(f)))switch(_&&0<_.length&&(y=f.h,y.i=y.i.concat(_)),K){case 1:ni(f,5);break;case 4:ni(f,10);break;case 3:ni(f,6);break;default:ni(f,2)}}}function ml(f,y){let _=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(_*=2),_*y}function ni(f,y){if(f.j.info("Error code "+y),y==2){var _=T(f.fb,f),S=f.Xa;const K=!S;S=new Wr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qi(S,"https"),zs(S),K?rc(S.toString(),_):Bs(S.toString(),_)}else Rt(2);f.G=0,f.l&&f.l.sa(y),fc(f),ac(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function fc(f){if(f.G=0,f.ka=[],f.l){const y=_n(f.h);(y.length!=0||f.i.length!=0)&&(k(f.ka,y),k(f.ka,f.i),f.h.i.length=0,U(f.i),f.i.length=0),f.l.ra()}}function hc(f,y,_){var S=_ instanceof Wr?Tt(_):new Wr(_);if(S.g!="")y&&(S.g=y+"."+S.g),js(S,S.s);else{var K=d.location;S=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var W=new Wr(null);S&&qi(W,S),y&&(W.g=y),K&&js(W,K),_&&(W.l=_),S=W}return _=f.D,y=f.ya,_&&y&&nt(S,_,y),nt(S,"VER",f.la),Gs(f,S),S}function dc(f,y,_){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new ot(new Gi({eb:_})):new ot(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pc(){}n=pc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Qa(){}Qa.prototype.g=function(f,y){return new bn(f,y)};function bn(f,y){qe.call(this),this.g=new qa(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!B(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!B(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Ar(this)}O(bn,qe),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){hl(this.g)},bn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var _={};_.__data__=f,f=_}else this.u&&(_={},_.__data__=Ni(f),f=_);y.i.push(new Uh(y.Ya++,f)),y.G==3&&Ga(y)},bn.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,bn.aa.N.call(this)};function mc(f){ki.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const _ in y){f=_;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}O(mc,ki);function gc(){ir.call(this),this.status=1}O(gc,ir);function Ar(f){this.g=f}O(Ar,pc),Ar.prototype.ua=function(){Ge(this.g,"a")},Ar.prototype.ta=function(f){Ge(this.g,new mc(f))},Ar.prototype.sa=function(f){Ge(this.g,new gc)},Ar.prototype.ra=function(){Ge(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,f1=function(){return new Qa},c1=function(){return Pa()},u1=Ln,Tm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lt.NO_ERROR=0,Lt.TIMEOUT=8,Lt.HTTP_ERROR=6,Nf=Lt,Yr.COMPLETE="complete",l1=Yr,Xu.EventType=yr,yr.OPEN="a",yr.CLOSE="b",yr.ERROR="c",yr.MESSAGE="d",qe.prototype.listen=qe.prototype.K,lu=Xu,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,o1=ot}).apply(typeof yf<"u"?yf:typeof self<"u"?self:typeof window<"u"?window:{});const sb="@firebase/firestore",ab="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new ng("@firebase/firestore");function Ro(){return Ta.logLevel}function ve(n,...e){if(Ta.logLevel<=Ye.DEBUG){const t=e.map(hg);Ta.debug(`Firestore (${Xo}): ${n}`,...t)}}function Ii(n,...e){if(Ta.logLevel<=Ye.ERROR){const t=e.map(hg);Ta.error(`Firestore (${Xo}): ${n}`,...t)}}function Mo(n,...e){if(Ta.logLevel<=Ye.WARN){const t=e.map(hg);Ta.warn(`Firestore (${Xo}): ${n}`,...t)}}function hg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n="Unexpected state"){const e=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: `+n;throw Ii(e),new Error(e)}function lt(n,e){n||Ne()}function Ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Di{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class VD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class LD{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){lt(this.o===void 0);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new xs,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new xs)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(lt(typeof i.accessToken=="string"),new h1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string"),new dn(e)}}class MD{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class UD{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new MD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ob{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jD{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,fr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){lt(this.o===void 0);const i=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ob(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lt(typeof t.token=="string"),this.R=t.token,new ob(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=zD(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function He(n,e){return n<e?-1:n>e?1:0}function wm(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return He(i,a);{const l=d1(),c=BD(l.encode(lb(n,t)),l.encode(lb(e,t)));return c!==0?c:He(i,a)}}t+=i>65535?2:1}return He(n.length,e.length)}function lb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function BD(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return He(n[t],e[t]);return He(n.length,e.length)}function Uo(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=-62135596800,cb=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*cb);return new qt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ub)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cb}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ub;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new qt(0,0))}static max(){return new Le(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="__name__";class kr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ne(),i===void 0?i=e.length-t:i>e.length-t&&Ne(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return kr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof kr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=kr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return He(e.length,t.length)}static compareSegments(e,t){const i=kr.isNumericId(e),a=kr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?kr.extractNumericId(e).compare(kr.extractNumericId(t)):wm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return As.fromString(e.substring(4,e.length-2))}}class xt extends kr{construct(e,t,i){return new xt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new xt(t)}static emptyPath(){return new xt([])}}const FD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends kr{construct(e,t,i){return new ln(e,t,i)}static isValidIdentifier(e){return FD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fb}static keyField(){return new ln([fb])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new xe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new xe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new xe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new xe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(xt.fromString(e))}static fromName(e){return new Re(xt.fromString(e).popFirst(5))}static empty(){return new Re(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new xt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=-1;function HD(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Le.fromTimestamp(i===1e9?new qt(t+1,0):new qt(t,i));return new Cs(a,Re.empty(),e)}function qD(n){return new Cs(n.readTime,n.key,Tu)}class Cs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Cs(Le.min(),Re.empty(),Tu)}static max(){return new Cs(Le.max(),Re.empty(),Tu)}}function $D(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:He(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==GD)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,i)=>{t(e)})}static reject(e){return new ne((t,i)=>{i(e)})}static waitFor(e){return new ne((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},p=>i(p))}),c=!0,l===a&&t()})}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next(a=>a?ne.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new ne((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(v=>{c[g]=v,++d,d===l&&i(c)},v=>a(v))}})}static doWhile(e,t){return new ne((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function QD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}wh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=-1;function Sh(n){return n==null}function Xf(n){return n===0&&1/n==-1/0}function YD(n){return typeof n=="number"&&Number.isInteger(n)&&!Xf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="";function XD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hb(e)),e=WD(n.get(t),e);return hb(e)}function WD(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case m1:t+="";break;default:t+=l}}return t}function hb(n){return n+m1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ca(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function g1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vf(this.root,e,this.comparator,!1)}getReverseIterator(){return new vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vf(this.root,e,this.comparator,!0)}}class vf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??on.RED,this.left=a??on.EMPTY,this.right=l??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new on(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return on.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,t,i,a,l){return this}insert(e,t,i){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pb(this.data.getIterator())}getIteratorFrom(e){return new pb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class pb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new hr([])}unionWith(e){let t=new $t(ln.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new hr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new y1("Invalid base64 string: "+l):l}}(e);return new un(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const ZD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(n){if(lt(!!n),typeof n=="string"){let e=0;const t=ZD.exec(n);if(lt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Os(n){return typeof n=="string"?un.fromBase64String(n):un.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="server_timestamp",_1="__type__",b1="__previous_value__",E1="__local_write_time__";function pg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[_1])===null||t===void 0?void 0:t.stringValue)===v1}function Ah(n){const e=n.mapValue.fields[b1];return pg(e)?Ah(e):e}function wu(n){const e=Is(n.mapValue.fields[E1].timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,t,i,a,l,c,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const Wf="(default)";class Su{constructor(e,t){this.projectId=e,this.database=t||Wf}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database===Wf}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="__type__",eN="__max__",_f={mapValue:{}},w1="__vector__",Zf="value";function Ds(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pg(n)?4:nN(n)?9007199254740991:tN(n)?10:11:Ne()}function Fr(n,e){if(n===e)return!0;const t=Ds(n);if(t!==Ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wu(n).isEqual(wu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Is(a.timestampValue),d=Is(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Os(a.bytesValue).isEqual(Os(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return It(a.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return It(a.integerValue)===It(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=It(a.doubleValue),d=It(l.doubleValue);return c===d?Xf(c)===Xf(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Uo(n.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(db(c)!==db(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Fr(c[p],d[p])))return!1;return!0}(n,e);default:return Ne()}}function Au(n,e){return(n.values||[]).find(t=>Fr(t,e))!==void 0}function jo(n,e){if(n===e)return 0;const t=Ds(n),i=Ds(e);if(t!==i)return He(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return He(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=It(l.integerValue||l.doubleValue),p=It(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return mb(n.timestampValue,e.timestampValue);case 4:return mb(wu(n),wu(e));case 5:return wm(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Os(l),p=Os(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=He(d[g],p[g]);if(v!==0)return v}return He(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=He(It(l.latitude),It(c.latitude));return d!==0?d:He(It(l.longitude),It(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return gb(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,g,v;const E=l.fields||{},T=c.fields||{},R=(d=E[Zf])===null||d===void 0?void 0:d.arrayValue,O=(p=T[Zf])===null||p===void 0?void 0:p.arrayValue,U=He(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((v=O==null?void 0:O.values)===null||v===void 0?void 0:v.length)||0);return U!==0?U:gb(R,O)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===_f.mapValue&&c===_f.mapValue)return 0;if(l===_f.mapValue)return 1;if(c===_f.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const T=wm(p[E],v[E]);if(T!==0)return T;const R=jo(d[p[E]],g[v[E]]);if(R!==0)return R}return He(p.length,v.length)}(n.mapValue,e.mapValue);default:throw Ne()}}function mb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return He(n,e);const t=Is(n),i=Is(e),a=He(t.seconds,i.seconds);return a!==0?a:He(t.nanos,i.nanos)}function gb(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=jo(t[a],i[a]);if(l)return l}return He(t.length,i.length)}function zo(n){return Sm(n)}function Sm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Is(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Os(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Sm(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Sm(t.fields[c])}`;return a+"}"}(n.mapValue):Ne()}function kf(n){switch(Ds(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ah(n);return e?16+kf(e):16;case 5:return 2*n.stringValue.length;case 6:return Os(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+kf(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Ca(i.fields,(l,c)=>{a+=l.length+kf(c)}),a}(n.mapValue);default:throw Ne()}}function Am(n){return!!n&&"integerValue"in n}function mg(n){return!!n&&"arrayValue"in n}function yb(n){return!!n&&"nullValue"in n}function vb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pf(n){return!!n&&"mapValue"in n}function tN(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[T1])===null||t===void 0?void 0:t.stringValue)===w1}function du(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ca(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=du(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=du(n.arrayValue.values[t]);return e}return Object.assign({},n)}function nN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===eN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Pf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(t)}setAll(e){let t=ln.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=du(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Pf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Ca(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Jn(du(this.value))}}function S1(n){const e=[];return Ca(n.fields,(t,i)=>{const a=new ln([t]);if(Pf(i)){const l=S1(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new pn(e,0,Le.min(),Le.min(),Le.min(),Jn.empty(),0)}static newFoundDocument(e,t,i,a){return new pn(e,1,t,Le.min(),i,a,0)}static newNoDocument(e,t){return new pn(e,2,t,Le.min(),Le.min(),Jn.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,Le.min(),Le.min(),Jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t){this.position=e,this.inclusive=t}}function _b(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Re.comparator(Re.fromName(c.referenceValue),t.key):i=jo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function bb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t="asc"){this.field=e,this.dir=t}}function rN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{}class Ht extends A1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new sN(e,t,i):t==="array-contains"?new lN(e,i):t==="in"?new uN(e,i):t==="not-in"?new cN(e,i):t==="array-contains-any"?new fN(e,i):new Ht(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new aN(e,i):new oN(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(jo(t,this.value)):t!==null&&Ds(this.value)===Ds(t)&&this.matchesComparison(jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends A1{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Hr(e,t)}matches(e){return x1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function x1(n){return n.op==="and"}function R1(n){return iN(n)&&x1(n)}function iN(n){for(const e of n.filters)if(e instanceof Hr)return!1;return!0}function xm(n){if(n instanceof Ht)return n.field.canonicalString()+n.op.toString()+zo(n.value);if(R1(n))return n.filters.map(e=>xm(e)).join(",");{const e=n.filters.map(t=>xm(t)).join(",");return`${n.op}(${e})`}}function C1(n,e){return n instanceof Ht?function(i,a){return a instanceof Ht&&i.op===a.op&&i.field.isEqual(a.field)&&Fr(i.value,a.value)}(n,e):n instanceof Hr?function(i,a){return a instanceof Hr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&C1(c,a.filters[d]),!0):!1}(n,e):void Ne()}function I1(n){return n instanceof Ht?function(t){return`${t.field.canonicalString()} ${t.op} ${zo(t.value)}`}(n):n instanceof Hr?function(t){return t.op.toString()+" {"+t.getFilters().map(I1).join(" ,")+"}"}(n):"Filter"}class sN extends Ht{constructor(e,t,i){super(e,t,i),this.key=Re.fromName(i.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class aN extends Ht{constructor(e,t){super(e,"in",t),this.keys=O1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oN extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=O1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function O1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Re.fromName(i.referenceValue))}class lN extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mg(t)&&Au(t.arrayValue,this.value)}}class uN extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Au(this.value.arrayValue,t)}}class cN extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Au(this.value.arrayValue,t)}}class fN extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Au(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function Eb(n,e=null,t=[],i=[],a=null,l=null,c=null){return new hN(n,e,t,i,a,l,c)}function gg(n){const e=Ue(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>xm(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>zo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>zo(i)).join(",")),e.le=t}return e.le}function yg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!C1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bb(n.startAt,e.startAt)&&bb(n.endAt,e.endAt)}function Rm(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function dN(n,e,t,i,a,l,c,d){return new xh(n,e,t,i,a,l,c,d)}function vg(n){return new xh(n)}function Tb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function pN(n){return n.collectionGroup!==null}function pu(n){const e=Ue(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new $t(ln.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new eh(l,i))}),t.has(ln.keyField().canonicalString())||e.he.push(new eh(ln.keyField(),i))}return e.he}function jr(n){const e=Ue(n);return e.Pe||(e.Pe=mN(e,pu(n))),e.Pe}function mN(n,e){if(n.limitType==="F")return Eb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new eh(a.field,l)});const t=n.endAt?new Jf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Jf(n.startAt.position,n.startAt.inclusive):null;return Eb(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Cm(n,e,t){return new xh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rh(n,e){return yg(jr(n),jr(e))&&n.limitType===e.limitType}function D1(n){return`${gg(jr(n))}|lt:${n.limitType}`}function Co(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>I1(a)).join(", ")}]`),Sh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>zo(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>zo(a)).join(",")),`Target(${i})`}(jr(n))}; limitType=${n.limitType})`}function Ch(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Re.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of pu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,p){const g=_b(c,d,p);return c.inclusive?g<=0:g<0}(i.startAt,pu(i),a)||i.endAt&&!function(c,d,p){const g=_b(c,d,p);return c.inclusive?g>=0:g>0}(i.endAt,pu(i),a))}(n,e)}function gN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function N1(n){return(e,t)=>{let i=!1;for(const a of pu(n)){const l=yN(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function yN(n,e,t){const i=n.field.isKeyField()?Re.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?jo(p,g):Ne()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return g1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=new Et(Re.comparator);function Oi(){return vN}const k1=new Et(Re.comparator);function uu(...n){let e=k1;for(const t of n)e=e.insert(t.key,t);return e}function P1(n){let e=k1;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function pa(){return mu()}function V1(){return mu()}function mu(){return new Ia(n=>n.toString(),(n,e)=>n.isEqual(e))}const _N=new Et(Re.comparator),bN=new $t(Re.comparator);function Xe(...n){let e=bN;for(const t of n)e=e.add(t);return e}const EN=new $t(He);function TN(){return EN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(e)?"-0":e}}function L1(n){return{integerValue:""+n}}function wN(n,e){return YD(e)?L1(e):_g(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this._=void 0}}function SN(n,e,t){return n instanceof xu?function(a,l){const c={fields:{[_1]:{stringValue:v1},[E1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&pg(l)&&(l=Ah(l)),l&&(c.fields[b1]=l),{mapValue:c}}(t,e):n instanceof Ru?U1(n,e):n instanceof Cu?j1(n,e):function(a,l){const c=M1(a,l),d=wb(c)+wb(a.Ie);return Am(c)&&Am(a.Ie)?L1(d):_g(a.serializer,d)}(n,e)}function AN(n,e,t){return n instanceof Ru?U1(n,e):n instanceof Cu?j1(n,e):t}function M1(n,e){return n instanceof th?function(i){return Am(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class xu extends Ih{}class Ru extends Ih{constructor(e){super(),this.elements=e}}function U1(n,e){const t=z1(e);for(const i of n.elements)t.some(a=>Fr(a,i))||t.push(i);return{arrayValue:{values:t}}}class Cu extends Ih{constructor(e){super(),this.elements=e}}function j1(n,e){let t=z1(e);for(const i of n.elements)t=t.filter(a=>!Fr(a,i));return{arrayValue:{values:t}}}class th extends Ih{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function wb(n){return It(n.integerValue||n.doubleValue)}function z1(n){return mg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,t){this.field=e,this.transform=t}}function RN(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Ru&&a instanceof Ru||i instanceof Cu&&a instanceof Cu?Uo(i.elements,a.elements,Fr):i instanceof th&&a instanceof th?Fr(i.Ie,a.Ie):i instanceof xu&&a instanceof xu}(n.transform,e.transform)}class CN{constructor(e,t){this.version=e,this.transformResults=t}}class Si{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Si}static exists(e){return new Si(void 0,e)}static updateTime(e){return new Si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Oh{}function B1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new H1(n.key,Si.none()):new $u(n.key,n.data,Si.none());{const t=n.data,i=Jn.empty();let a=new $t(ln.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Oa(n.key,i,new hr(a.toArray()),Si.none())}}function IN(n,e,t){n instanceof $u?function(a,l,c){const d=a.value.clone(),p=Ab(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Oa?function(a,l,c){if(!Vf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Ab(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(F1(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function gu(n,e,t,i){return n instanceof $u?function(l,c,d,p){if(!Vf(l.precondition,c))return d;const g=l.value.clone(),v=xb(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof Oa?function(l,c,d,p){if(!Vf(l.precondition,c))return d;const g=xb(l.fieldTransforms,p,c),v=c.data;return v.setAll(F1(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(l,c,d){return Vf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function ON(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=M1(i.transform,a||null);l!=null&&(t===null&&(t=Jn.empty()),t.set(i.field,l))}return t||null}function Sb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Uo(i,a,(l,c)=>RN(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class $u extends Oh{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Oa extends Oh{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function F1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Ab(n,e,t){const i=new Map;lt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,AN(c,d,t[a]))}return i}function xb(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,SN(l,c,e))}return i}class H1 extends Oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DN extends Oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&IN(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=gu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=gu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=V1();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=B1(c,d);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Le.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xe())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,(t,i)=>Sb(t,i))&&Uo(this.baseMutations,e.baseMutations,(t,i)=>Sb(t,i))}}class bg{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){lt(e.mutations.length===i.length);let a=function(){return _N}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new bg(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,tt;function VN(n){switch(n){case le.OK:return Ne();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ne()}}function q1(n){if(n===void 0)return Ii("GRPC error has no .code"),le.UNKNOWN;switch(n){case Pt.OK:return le.OK;case Pt.CANCELLED:return le.CANCELLED;case Pt.UNKNOWN:return le.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return le.INTERNAL;case Pt.UNAVAILABLE:return le.UNAVAILABLE;case Pt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Pt.NOT_FOUND:return le.NOT_FOUND;case Pt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Pt.ABORTED:return le.ABORTED;case Pt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Pt.DATA_LOSS:return le.DATA_LOSS;default:return Ne()}}(tt=Pt||(Pt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new As([4294967295,4294967295],0);function Rb(n){const e=d1().encode(n),t=new a1;return t.update(e),new Uint8Array(t.digest())}function Cb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new As([t,i],0),new As([a,l],0)]}class Eg{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new cu(`Invalid padding: ${t}`);if(i<0)throw new cu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new cu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=As.fromNumber(this.Ee)}Ae(e,t,i){let a=e.add(t.multiply(As.fromNumber(i)));return a.compare(LN)===1&&(a=new As([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Rb(e),[i,a]=Cb(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Eg(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=Rb(e),[i,a]=Cb(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Dh(Le.min(),a,new Et(He),Oi(),Xe())}}class Gu{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Gu(i,t,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t,i,a){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=a}}class $1{constructor(e,t){this.targetId=e,this.ge=t}}class G1{constructor(e,t,i=un.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Ib{constructor(){this.pe=0,this.ye=Ob(),this.we=un.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Xe(),t=Xe(),i=Xe();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ne()}}),new Gu(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=Ob()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,lt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class MN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Oi(),this.$e=bf(),this.Ue=bf(),this.Ke=new Et(He)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,i=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(Rm(l))if(i===0){const c=new Re(l.path);this.ze(t,c,pn.newNoDocument(c,Le.min()))}else lt(i===1);else{const c=this.et(t);if(c!==i){const d=this.tt(e),p=d?this.nt(d,e,c):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Os(i).toUint8Array()}catch(p){if(p instanceof y1)return Mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Eg(c,a,l)}catch(p){return Mo(p instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Rm(d.target)){const p=new Re(d.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,pn.newNoDocument(p,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=Xe();this.Ue.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new Dh(e,t,this.Ke,this.Qe,i);return this.Qe=Oi(),this.$e=bf(),this.Ue=bf(),this.Ke=new Et(He),a}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Ib,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new $t(He),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new $t(He),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ib),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function bf(){return new Et(Re.comparator)}function Ob(){return new Et(Re.comparator)}const UN={asc:"ASCENDING",desc:"DESCENDING"},jN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zN={and:"AND",or:"OR"};class BN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Im(n,e){return n.useProto3Json||Sh(e)?e:{value:e}}function nh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function FN(n,e){return nh(n,e.toTimestamp())}function zr(n){return lt(!!n),Le.fromTimestamp(function(t){const i=Is(t);return new qt(i.seconds,i.nanos)}(n))}function Tg(n,e){return Om(n,e).canonicalString()}function Om(n,e){const t=function(a){return new xt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Q1(n){const e=xt.fromString(n);return lt(J1(e)),e}function Dm(n,e){return Tg(n.databaseId,e.path)}function Zp(n,e){const t=Q1(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Re(X1(t))}function Y1(n,e){return Tg(n.databaseId,e)}function HN(n){const e=Q1(n);return e.length===4?xt.emptyPath():X1(e)}function Nm(n){return new xt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function X1(n){return lt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Db(n,e,t){return{name:Dm(n,e),fields:t.value.mapValue.fields}}function qN(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(lt(v===void 0||typeof v=="string"),un.fromBase64String(v||"")):(lt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),un.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const v=g.code===void 0?le.UNKNOWN:q1(g.code);return new xe(v,g.message||"")}(c);t=new G1(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Zp(n,i.document.name),l=zr(i.document.updateTime),c=i.document.createTime?zr(i.document.createTime):Le.min(),d=new Jn({mapValue:{fields:i.document.fields}}),p=pn.newFoundDocument(a,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new Lf(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Zp(n,i.document),l=i.readTime?zr(i.readTime):Le.min(),c=pn.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Lf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Zp(n,i.document),l=i.removedTargetIds||[];t=new Lf([],l,a,null)}else{if(!("filter"in e))return Ne();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new PN(a,l),d=i.targetId;t=new $1(d,c)}}return t}function $N(n,e){let t;if(e instanceof $u)t={update:Db(n,e.key,e.value)};else if(e instanceof H1)t={delete:Dm(n,e.key)};else if(e instanceof Oa)t={update:Db(n,e.key,e.data),updateMask:ek(e.fieldMask)};else{if(!(e instanceof DN))return Ne();t={verify:Dm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof xu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ru)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Cu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof th)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw Ne()}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:FN(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne()}(n,e.precondition)),t}function GN(n,e){return n&&n.length>0?(lt(e!==void 0),n.map(t=>function(a,l){let c=a.updateTime?zr(a.updateTime):zr(l);return c.isEqual(Le.min())&&(c=zr(l)),new CN(c,a.transformResults||[])}(t,e))):[]}function KN(n,e){return{documents:[Y1(n,e.path)]}}function QN(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Y1(n,a);const l=function(g){if(g.length!==0)return Z1(Hr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:Io(T.field),direction:WN(T.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Im(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:a}}function YN(n){let e=HN(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){lt(i===1);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(E){const T=W1(E);return T instanceof Hr&&R1(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(T=>function(O){return new eh(Oo(O.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(E){let T;return T=typeof E=="object"?E.value:E,Sh(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(E){const T=!!E.before,R=E.values||[];return new Jf(R,T)}(t.startAt));let g=null;return t.endAt&&(g=function(E){const T=!E.before,R=E.values||[];return new Jf(R,T)}(t.endAt)),dN(e,a,c,l,d,"F",p,g)}function XN(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function W1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Oo(t.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Oo(t.unaryFilter.field);return Ht.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Oo(t.unaryFilter.field);return Ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Oo(t.unaryFilter.field);return Ht.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(n):n.fieldFilter!==void 0?function(t){return Ht.create(Oo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Hr.create(t.compositeFilter.filters.map(i=>W1(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne()}}(t.compositeFilter.op))}(n):Ne()}function WN(n){return UN[n]}function ZN(n){return jN[n]}function JN(n){return zN[n]}function Io(n){return{fieldPath:n.canonicalString()}}function Oo(n){return ln.fromServerFormat(n.fieldPath)}function Z1(n){return n instanceof Ht?function(t){if(t.op==="=="){if(vb(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NAN"}};if(yb(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vb(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NAN"}};if(yb(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(t.field),op:ZN(t.op),value:t.value}}}(n):n instanceof Hr?function(t){const i=t.getFilters().map(a=>Z1(a));return i.length===1?i[0]:{compositeFilter:{op:JN(t.op),filters:i}}}(n):Ne()}function ek(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function J1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,i,a,l=Le.min(),c=Le.min(),d=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.Tt=e}}function nk(n){const e=YN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Cm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.Tn=new ik}addToCollectionParentIndex(e,t){return this.Tn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Cs.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class ik{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new $t(xt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new $t(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ew=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(ew,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Bo(0)}static Kn(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="LruGarbageCollector",sk=1048576;function Pb([n,e],[t,i]){const a=He(n,t);return a===0?He(e,i):a}class ak{constructor(e){this.Hn=e,this.buffer=new $t(Pb),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Pb(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ok{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ve(kb,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zo(t)?ve(kb,"Ignoring IndexedDB error during garbage collection: ",t):await Wo(t)}await this.er(3e5)})}}class lk{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(wh.ae);const i=new ak(t);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Nb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nb):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,a,l,c,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a))).next(E=>(i=E,d=Date.now(),this.removeTargets(e,i,t))).next(E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(g=Date.now(),Ro()<=Ye.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E})))}}function uk(n,e){return new lk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this.changes=new Ia(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&gu(i.mutation,a,hr.empty(),qt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Xe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Xe()){const a=pa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=uu();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=pa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Xe()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=Oi();const c=mu(),d=function(){return mu()}();return t.forEach((p,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Oa)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),gu(v.mutation,g,v.mutation.getFieldMask(),qt.now())):c.set(g.key,hr.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>{var E;return d.set(g,new fk(v,(E=c.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(e,t){const i=mu();let a=new Et((c,d)=>c-d),l=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=i.get(p)||hr.empty();v=d.applyToLocalView(g,v),i.set(p,v);const E=(a.get(d.batchId)||Xe()).add(p);a=a.insert(d.batchId,E)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=V1();v.forEach(T=>{if(!l.has(T)){const R=B1(t.get(T),i.get(T));R!==null&&E.set(T,R),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return ne.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return Re.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ne.resolve(pa());let d=Tu,p=l;return c.next(g=>ne.forEach(g,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Xe())).next(v=>({batchId:d,changes:P1(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(i=>{let a=uu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=uu();return this.indexManager.getCollectionParents(e,l).next(d=>ne.forEach(d,p=>{const g=function(E,T){return new xh(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next(v=>{v.forEach((E,T)=>{c=c.insert(E,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,pn.newInvalidDocument(v)))});let d=uu();return c.forEach((p,g)=>{const v=l.get(p);v!==void 0&&gu(v.mutation,g,hr.empty(),qt.now()),Ch(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ne.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:zr(a.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:nk(a.bundledQuery),readTime:zr(a.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.overlays=new Et(Re.comparator),this.Rr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=pa();return ne.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.Et(e,t,l)}),ne.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const a=pa(),l=t.length+1,c=new Re(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ne.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Et((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=pa(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=pa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=a)););return ne.resolve(d)}Et(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new kN(t,i));let l=this.Rr.get(t);l===void 0&&(l=Xe(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.Vr=new $t(tn.mr),this.gr=new $t(tn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new tn(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new tn(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Re(new xt([])),i=new tn(t,e),a=new tn(t,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Re(new xt([])),i=new tn(t,e),a=new tn(t,e+1);let l=Xe();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new tn(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class tn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Re.comparator(e.key,t.key)||He(e.Cr,t.Cr)}static pr(e,t){return He(e.Cr,t.Cr)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new $t(tn.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new NN(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new tn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Nr(i),l=a<0?0:a;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?dg:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new tn(t,0),a=new tn(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const d=this.Or(c.Cr);l.push(d)}),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $t(He);return t.forEach(a=>{const l=new tn(a,0),c=new tn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{i=i.add(d.Cr)})}),ne.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Re.isDocumentKey(l)||(l=l.child(""));const c=new tn(new Re(l),0);let d=new $t(He);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Cr)),!0)},c),ne.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){lt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ne.forEach(t.mutations,a=>{const l=new tn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new tn(t,0),a=this.Mr.firstAfterOrEqual(i);return ne.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.kr=e,this.docs=function(){return new Et(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let i=Oi();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():pn.newInvalidDocument(a))}),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Oi();const c=t.path,d=new Re(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||$D(qD(v),i)<=0||(a.has(v.key)||Ch(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Ne()}qr(e,t){return ne.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new vk(this)}getSize(e){return ne.resolve(this.size)}}class vk extends ck{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),ne.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.persistence=e,this.Qr=new Ia(t=>gg(t),yg),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.$r=0,this.Ur=new wg,this.targetCount=0,this.Kr=Bo.Un()}forEachTarget(e,t){return this.Qr.forEach((i,a)=>t(a)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ne.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Bo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.zn(t),ne.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ne.waitFor(l).next(()=>a)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this.Ur.yr(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this.Ur.Sr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ur.vr(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new wh(0),this.zr=!1,this.zr=!0,this.jr=new mk,this.referenceDelegate=e(this),this.Hr=new _k(this),this.indexManager=new rk,this.remoteDocumentCache=function(a){return new yk(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new tk(t),this.Yr=new dk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new gk(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){ve("MemoryPersistence","Starting transaction:",e);const a=new bk(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return ne.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class bk extends KD{constructor(e){super(),this.currentSequenceNumber=e}}class Sg{constructor(e){this.persistence=e,this.ti=new wg,this.ni=null}static ri(e){return new Sg(e)}get ii(){if(this.ni)return this.ni;throw Ne()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ne.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,i=>{const a=Re.fromPath(i);return this.si(e,a).next(l=>{l||t.removeEntry(a,Le.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ne.or([()=>ne.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class rh{constructor(e,t){this.persistence=e,this.oi=new Ia(i=>XD(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=uk(this,t)}static ri(e,t){return new rh(e,t)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ne.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?ne.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Le.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kf(e.data.value)),t}ar(e,t,i){return ne.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return ne.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=a}static Yi(e,t){let i=Xe(),a=Xe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ag(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return lC()?8:QD(mn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new Ek;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,i,a){return i.documentReadCount<this.es?(Ro()<=Ye.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(Ro()<=Ye.DEBUG&&ve("QueryEngine","Query:",Co(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(Ro()<=Ye.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(t))):ne.resolve())}rs(e,t){if(Tb(t))return ne.resolve(null);let i=jr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Cm(t,null,"F"),i=jr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Xe(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.cs(t,d);return this.ls(t,g,c,p.readTime)?this.rs(e,Cm(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,i,a){return Tb(t)||a.isEqual(Le.min())?ne.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,a)?ne.resolve(null):(Ro()<=Ye.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Co(t)),this.hs(e,c,t,HD(a,Tu)).next(d=>d))})}cs(e,t){let i=new $t(N1(e));return t.forEach((a,l)=>{Ch(e,l)&&(i=i.add(l))}),i}ls(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,i){return Ro()<=Ye.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Co(t)),this.ns.getDocumentsMatchingQuery(e,t,Cs.min(),i)}hs(e,t,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="LocalStore",wk=3e8;class Sk{constructor(e,t,i,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new Et(He),this.Is=new Ia(l=>gg(l),yg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hk(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Ak(n,e,t,i){return new Sk(n,e,t,i)}async function nw(n,e){const t=Ue(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=Xe();for(const g of a){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:d}))})})}function xk(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const E=g.batch,T=E.keys();let R=ne.resolve();return T.forEach(O=>{R=R.next(()=>v.getEntry(p,O)).next(U=>{const k=g.docVersions.get(O);lt(k!==null),U.version.compareTo(k)<0&&(E.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),v.addEntry(U)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Xe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function rw(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Rk(n,e){const t=Ue(n),i=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const d=[];e.targetChanges.forEach((v,E)=>{const T=a.get(E);if(!T)return;d.push(t.Hr.removeMatchingKeys(l,v.removedDocuments,E).next(()=>t.Hr.addMatchingKeys(l,v.addedDocuments,E)));let R=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(un.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),a=a.insert(E,R),function(U,k,$){return U.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=wk?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(T,R,v)&&d.push(t.Hr.updateTargetData(l,R))});let p=Oi(),g=Xe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(Ck(l,c,e.documentUpdates).next(v=>{p=v.Vs,g=v.fs})),!i.isEqual(Le.min())){const v=t.Hr.getLastRemoteSnapshotVersion(l).next(E=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return ne.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Ts=a,l))}function Ck(n,e,t){let i=Xe(),a=Xe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Oi();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Le.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ve(xg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function Ik(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=dg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Ok(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Hr.getTargetData(i,e).next(l=>l?(a=l,ne.resolve(a)):t.Hr.allocateTargetId(i).next(c=>(a=new bs(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function km(n,e,t){const i=Ue(n),a=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Zo(c))throw c;ve(xg,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function Vb(n,e,t){const i=Ue(n);let a=Le.min(),l=Xe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,v){const E=Ue(p),T=E.Is.get(v);return T!==void 0?ne.resolve(E.Ts.get(T)):E.Hr.getTargetData(g,v)}(i,c,jr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?a:Le.min(),t?l:Xe())).next(d=>(Dk(i,gN(e),d),{documents:d,gs:l})))}function Dk(n,e,t){let i=n.Es.get(e)||Le.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class Lb{constructor(){this.activeTargetIds=TN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nk{constructor(){this.ho=new Lb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Lb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="ConnectivityMonitor";class Ub{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ve(Mb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ve(Mb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef=null;function Pm(){return Ef===null?Ef=function(){return 268435456+Math.round(2147483648*Math.random())}():Ef++,"0x"+Ef.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="RestConnection",Pk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vk{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===Wf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}So(e,t,i,a,l){const c=Pm(),d=this.bo(e,t.toUriEncodedString());ve(Jp,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(e,d,p,i).then(g=>(ve(Jp,`Received RPC '${e}' ${c}: `,g),g),g=>{throw Mo(Jp,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",i),g})}Co(e,t,i,a,l,c){return this.So(e,t,i,a,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}bo(e,t){const i=Pk[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class Mk extends Vk{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,a){const l=Pm();return new Promise((c,d)=>{const p=new o1;p.setWithCredentials(!0),p.listenOnce(l1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Nf.NO_ERROR:const v=p.getResponseJson();ve(hn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Nf.TIMEOUT:ve(hn,`RPC '${e}' ${l} timed out`),d(new xe(le.DEADLINE_EXCEEDED,"Request time out"));break;case Nf.HTTP_ERROR:const E=p.getStatus();if(ve(hn,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const R=T==null?void 0:T.error;if(R&&R.status&&R.message){const O=function(k){const $=k.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf($)>=0?$:le.UNKNOWN}(R.status);d(new xe(O,R.message))}else d(new xe(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new xe(le.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{ve(hn,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(a);ve(hn,`RPC '${e}' ${l} sending request:`,a),p.send(t,"POST",g,i,15)})}Wo(e,t,i){const a=Pm(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=f1(),d=c1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");ve(hn,`Creating RPC '${e}' stream ${a}: ${v}`,p);const E=c.createWebChannel(v,p);let T=!1,R=!1;const O=new Lk({Fo:k=>{R?ve(hn,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(T||(ve(hn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),T=!0),ve(hn,`RPC '${e}' stream ${a} sending:`,k),E.send(k))},Mo:()=>E.close()}),U=(k,$,B)=>{k.listen($,G=>{try{B(G)}catch(re){setTimeout(()=>{throw re},0)}})};return U(E,lu.EventType.OPEN,()=>{R||(ve(hn,`RPC '${e}' stream ${a} transport opened.`),O.Qo())}),U(E,lu.EventType.CLOSE,()=>{R||(R=!0,ve(hn,`RPC '${e}' stream ${a} transport closed`),O.Uo())}),U(E,lu.EventType.ERROR,k=>{R||(R=!0,Mo(hn,`RPC '${e}' stream ${a} transport errored:`,k),O.Uo(new xe(le.UNAVAILABLE,"The operation could not be completed")))}),U(E,lu.EventType.MESSAGE,k=>{var $;if(!R){const B=k.data[0];lt(!!B);const G=B,re=(G==null?void 0:G.error)||(($=G[0])===null||$===void 0?void 0:$.error);if(re){ve(hn,`RPC '${e}' stream ${a} received error:`,re);const ie=re.status;let de=function(A){const C=Pt[A];if(C!==void 0)return q1(C)}(ie),D=re.message;de===void 0&&(de=le.INTERNAL,D="Unknown error status: "+ie+" with message "+re.message),R=!0,O.Uo(new xe(de,D)),E.close()}else ve(hn,`RPC '${e}' stream ${a} received:`,B),O.Ko(B)}}),U(d,u1.STAT_EVENT,k=>{k.stat===Tm.PROXY?ve(hn,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===Tm.NOPROXY&&ve(hn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(n){return new BN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-i);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="PersistentStream";class sw{constructor(e,t,i,a,l,c,d,p){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new iw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(Ii(t.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===t&&this.V_(i,a)},i=>{e(()=>{const a=new xe(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ve(jb,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ve(jb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uk extends sw{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=qN(this.serializer,e),i=function(l){if(!("targetChange"in l))return Le.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Le.min():c.readTime?zr(c.readTime):Le.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Nm(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=Rm(p)?{documents:KN(l,p)}:{query:QN(l,p).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=K1(l,c.resumeToken);const g=Im(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Le.min())>0){d.readTime=nh(l,c.snapshotVersion.toTimestamp());const g=Im(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=XN(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Nm(this.serializer),t.removeTarget=e,this.I_(t)}}class jk extends sw{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return lt(!!e.streamToken),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=GN(e.writeResults,e.commitTime),i=zr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Nm(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>$N(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{}class Bk extends zk{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,Om(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(le.UNKNOWN,l.toString())})}Co(e,t,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,Om(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(le.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Fk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ii(t),this.N_=!1):ve("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class Hk{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{Da(this)&&(ve(wa,"Restarting streams for network reachability change."),await async function(p){const g=Ue(p);g.W_.add(4),await Ku(g),g.j_.set("Unknown"),g.W_.delete(4),await kh(g)}(this))})}),this.j_=new Fk(i,a)}}async function kh(n){if(Da(n))for(const e of n.G_)await e(!0)}async function Ku(n){for(const e of n.G_)await e(!1)}function aw(n,e){const t=Ue(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Og(t)?Ig(t):Jo(t).c_()&&Cg(t,e))}function Rg(n,e){const t=Ue(n),i=Jo(t);t.K_.delete(e),i.c_()&&ow(t,e),t.K_.size===0&&(i.c_()?i.P_():Da(t)&&t.j_.set("Unknown"))}function Cg(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jo(n).y_(e)}function ow(n,e){n.H_.Ne(e),Jo(n).w_(e)}function Ig(n){n.H_=new MN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Jo(n).start(),n.j_.B_()}function Og(n){return Da(n)&&!Jo(n).u_()&&n.K_.size>0}function Da(n){return Ue(n).W_.size===0}function lw(n){n.H_=void 0}async function qk(n){n.j_.set("Online")}async function $k(n){n.K_.forEach((e,t)=>{Cg(n,e)})}async function Gk(n,e){lw(n),Og(n)?(n.j_.q_(e),Ig(n)):n.j_.set("Unknown")}async function Kk(n,e,t){if(n.j_.set("Online"),e instanceof G1&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.K_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.K_.delete(d),a.H_.removeTarget(d))}(n,e)}catch(i){ve(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ih(n,i)}else if(e instanceof Lf?n.H_.We(e):e instanceof $1?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Le.min()))try{const i=await rw(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.K_.get(g);v&&l.K_.set(g,v.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,g)=>{const v=l.K_.get(p);if(!v)return;l.K_.set(p,v.withResumeToken(un.EMPTY_BYTE_STRING,v.snapshotVersion)),ow(l,p);const E=new bs(v.target,p,g,v.sequenceNumber);Cg(l,E)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ve(wa,"Failed to raise snapshot:",i),await ih(n,i)}}async function ih(n,e,t){if(!Zo(e))throw e;n.W_.add(1),await Ku(n),n.j_.set("Offline"),t||(t=()=>rw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ve(wa,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await kh(n)})}function uw(n,e){return e().catch(t=>ih(n,t,e))}async function Ph(n){const e=Ue(n),t=Ns(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:dg;for(;Qk(e);)try{const a=await Ik(e.localStore,i);if(a===null){e.U_.length===0&&t.P_();break}i=a.batchId,Yk(e,a)}catch(a){await ih(e,a)}cw(e)&&fw(e)}function Qk(n){return Da(n)&&n.U_.length<10}function Yk(n,e){n.U_.push(e);const t=Ns(n);t.c_()&&t.S_&&t.b_(e.mutations)}function cw(n){return Da(n)&&!Ns(n).u_()&&n.U_.length>0}function fw(n){Ns(n).start()}async function Xk(n){Ns(n).C_()}async function Wk(n){const e=Ns(n);for(const t of n.U_)e.b_(t.mutations)}async function Zk(n,e,t){const i=n.U_.shift(),a=bg.from(i,e,t);await uw(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Ph(n)}async function Jk(n,e){e&&Ns(n).S_&&await async function(i,a){if(function(c){return VN(c)&&c!==le.ABORTED}(a.code)){const l=i.U_.shift();Ns(i).h_(),await uw(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Ph(i)}}(n,e),cw(n)&&fw(n)}async function zb(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),ve(wa,"RemoteStore received new credentials");const i=Da(t);t.W_.add(3),await Ku(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await kh(t)}async function e4(n,e){const t=Ue(n);e?(t.W_.delete(2),await kh(t)):e||(t.W_.add(2),await Ku(t),t.j_.set("Unknown"))}function Jo(n){return n.J_||(n.J_=function(t,i,a){const l=Ue(t);return l.M_(),new Uk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:qk.bind(null,n),No:$k.bind(null,n),Lo:Gk.bind(null,n),p_:Kk.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Og(n)?Ig(n):n.j_.set("Unknown")):(await n.J_.stop(),lw(n))})),n.J_}function Ns(n){return n.Y_||(n.Y_=function(t,i,a){const l=Ue(t);return l.M_(),new jk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:Xk.bind(null,n),Lo:Jk.bind(null,n),D_:Wk.bind(null,n),v_:Zk.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Ph(n)):(await n.Y_.stop(),n.U_.length>0&&(ve(wa,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Dg(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ng(n,e){if(Ii("AsyncQueue",`${e}: ${n}`),Zo(n))return new xe(le.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(e){return new Vo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Re.comparator(t.key,i.key):(t,i)=>Re.comparator(t.key,i.key),this.keyedMap=uu(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Vo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.Z_=new Et(Re.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ne():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Fo{constructor(e,t,i,a,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Fo(e,t,Vo.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class n4{constructor(){this.queries=Fb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const a=Ue(t),l=a.queries;a.queries=Fb(),l.forEach((c,d)=>{for(const p of d.ta)p.onError(i)})})(this,new xe(le.ABORTED,"Firestore shutting down"))}}function Fb(){return new Ia(n=>D1(n),Rh)}async function r4(n,e){const t=Ue(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new t4,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Ng(c,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&kg(t)}async function i4(n,e){const t=Ue(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function s4(n,e){const t=Ue(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(i=!0);c.ea=a}}i&&kg(t)}function a4(n,e,t){const i=Ue(n),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(t);i.queries.delete(e)}function kg(n){n.ia.forEach(e=>{e.next()})}var Vm,Hb;(Hb=Vm||(Vm={}))._a="default",Hb.Cache="cache";class o4{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Fo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.key=e}}class dw{constructor(e){this.key=e}}class l4{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Xe(),this.mutatedKeys=Xe(),this.ya=N1(e),this.wa=new Vo(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new Bb,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,E)=>{const T=a.get(v),R=Ch(this.query,E)?E:null,O=!!T&&this.mutatedKeys.has(T.key),U=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let k=!1;T&&R?T.data.isEqual(R.data)?O!==U&&(i.track({type:3,doc:R}),k=!0):this.va(T,R)||(i.track({type:2,doc:R}),k=!0,(p&&this.ya(R,p)>0||g&&this.ya(R,g)<0)&&(d=!0)):!T&&R?(i.track({type:0,doc:R}),k=!0):T&&!R&&(i.track({type:1,doc:T}),k=!0,(p||g)&&(d=!0)),k&&(R?(c=c.add(R),l=U?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{wa:c,Da:i,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((v,E)=>function(R,O){const U=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return U(R)-U(O)}(v.type,E.type)||this.ya(v.doc,E.doc)),this.Ca(i),a=a!=null&&a;const d=t&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,g=p!==this.ga;return this.ga=p,c.length!==0||g?{snapshot:new Fo(this.query,e.wa,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Bb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Xe(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new dw(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new hw(i))}),t}Oa(e){this.fa=e.gs,this.pa=Xe();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Fo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Pg="SyncEngine";class u4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class c4{constructor(e){this.key=e,this.Ba=!1}}class f4{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Ia(d=>D1(d),Rh),this.qa=new Map,this.Qa=new Set,this.$a=new Et(Re.comparator),this.Ua=new Map,this.Ka=new wg,this.Wa={},this.Ga=new Map,this.za=Bo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function h4(n,e,t=!0){const i=_w(n);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await pw(i,e,t,!0),a}async function d4(n,e){const t=_w(n);await pw(t,e,!0,!1)}async function pw(n,e,t,i){const a=await Ok(n.localStore,jr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await p4(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&aw(n.remoteStore,a),d}async function p4(n,e,t,i,a){n.Ha=(E,T,R)=>async function(U,k,$,B){let G=k.view.ba($);G.ls&&(G=await Vb(U.localStore,k.query,!1).then(({documents:D})=>k.view.ba(D,G)));const re=B&&B.targetChanges.get(k.targetId),ie=B&&B.targetMismatches.get(k.targetId)!=null,de=k.view.applyChanges(G,U.isPrimaryClient,re,ie);return $b(U,k.targetId,de.Ma),de.snapshot}(n,E,T,R);const l=await Vb(n.localStore,e,!0),c=new l4(e,l.gs),d=c.ba(l.documents),p=Gu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,p);$b(n,t,g.Ma);const v=new u4(e,t,c);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),g.snapshot}async function m4(n,e,t){const i=Ue(n),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!Rh(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await km(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Rg(i.remoteStore,a.targetId),Lm(i,a.targetId)}).catch(Wo)):(Lm(i,a.targetId),await km(i.localStore,a.targetId,!0))}async function g4(n,e){const t=Ue(n),i=t.ka.get(e),a=t.qa.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Rg(t.remoteStore,i.targetId))}async function y4(n,e,t){const i=S4(n);try{const a=await function(c,d){const p=Ue(c),g=qt.now(),v=d.reduce((R,O)=>R.add(O.key),Xe());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let O=Oi(),U=Xe();return p.ds.getEntries(R,v).next(k=>{O=k,O.forEach(($,B)=>{B.isValidDocument()||(U=U.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,O)).next(k=>{E=k;const $=[];for(const B of d){const G=ON(B,E.get(B.key).overlayedDocument);G!=null&&$.push(new Oa(B.key,G,S1(G.value.mapValue),Si.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,$,d)}).next(k=>{T=k;const $=k.applyToLocalDocumentSet(E,U);return p.documentOverlayCache.saveOverlays(R,k.batchId,$)})}).then(()=>({batchId:T.batchId,changes:P1(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let g=c.Wa[c.currentUser.toKey()];g||(g=new Et(He)),g=g.insert(d,p),c.Wa[c.currentUser.toKey()]=g}(i,a.batchId,t),await Qu(i,a.changes),await Ph(i.remoteStore)}catch(a){const l=Ng(a,"Failed to persist write");t.reject(l)}}async function mw(n,e){const t=Ue(n);try{const i=await Rk(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Ua.get(l);c&&(lt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?lt(c.Ba):a.removedDocuments.size>0&&(lt(c.Ba),c.Ba=!1))}),await Qu(t,i,e)}catch(i){await Wo(i)}}function qb(n,e,t){const i=Ue(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=Ue(c);p.onlineState=d;let g=!1;p.queries.forEach((v,E)=>{for(const T of E.ta)T.sa(d)&&(g=!0)}),g&&kg(p)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function v4(n,e,t){const i=Ue(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Ua.get(e),l=a&&a.key;if(l){let c=new Et(Re.comparator);c=c.insert(l,pn.newNoDocument(l,Le.min()));const d=Xe().add(l),p=new Dh(Le.min(),new Map,new Et(He),c,d);await mw(i,p),i.$a=i.$a.remove(l),i.Ua.delete(e),Vg(i)}else await km(i.localStore,e,!1).then(()=>Lm(i,e,t)).catch(Wo)}async function _4(n,e){const t=Ue(n),i=e.batch.batchId;try{const a=await xk(t.localStore,e);yw(t,i,null),gw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Qu(t,a)}catch(a){await Wo(a)}}async function b4(n,e,t){const i=Ue(n);try{const a=await function(c,d){const p=Ue(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(E=>(lt(E!==null),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(i.localStore,e);yw(i,e,t),gw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Qu(i,a)}catch(a){await Wo(a)}}function gw(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function yw(n,e,t){const i=Ue(n);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function Lm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(i=>{n.Ka.containsKey(i)||vw(n,i)})}function vw(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Rg(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),Vg(n))}function $b(n,e,t){for(const i of t)i instanceof hw?(n.Ka.addReference(i.key,e),E4(n,i)):i instanceof dw?(ve(Pg,"Document no longer in limbo: "+i.key),n.Ka.removeReference(i.key,e),n.Ka.containsKey(i.key)||vw(n,i.key)):Ne()}function E4(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(ve(Pg,"New document in limbo: "+t),n.Qa.add(i),Vg(n))}function Vg(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Re(xt.fromString(e)),i=n.za.next();n.Ua.set(i,new c4(t)),n.$a=n.$a.insert(t,i),aw(n.remoteStore,new bs(jr(vg(t.path)),i,"TargetPurposeLimboResolution",wh.ae))}}async function Qu(n,e,t){const i=Ue(n),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,p)=>{c.push(i.Ha(p,e,t).then(g=>{var v;if((g||t)&&i.isPrimaryClient){const E=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){a.push(g);const E=Ag.Yi(p.targetId,g);l.push(E)}}))}),await Promise.all(c),i.La.p_(a),await async function(p,g){const v=Ue(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ne.forEach(g,T=>ne.forEach(T.Hi,R=>v.persistence.referenceDelegate.addReference(E,T.targetId,R)).next(()=>ne.forEach(T.Ji,R=>v.persistence.referenceDelegate.removeReference(E,T.targetId,R)))))}catch(E){if(!Zo(E))throw E;ve(xg,"Failed to update sequence numbers: "+E)}for(const E of g){const T=E.targetId;if(!E.fromCache){const R=v.Ts.get(T),O=R.snapshotVersion,U=R.withLastLimboFreeSnapshotVersion(O);v.Ts=v.Ts.insert(T,U)}}}(i.localStore,l))}async function T4(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){ve(Pg,"User change. New user:",e.toKey());const i=await nw(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new xe(le.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Qu(t,i.Rs)}}function w4(n,e){const t=Ue(n),i=t.Ua.get(e);if(i&&i.Ba)return Xe().add(i.key);{let a=Xe();const l=t.qa.get(e);if(!l)return a;for(const c of l){const d=t.ka.get(c);a=a.unionWith(d.view.Sa)}return a}}function _w(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=mw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=w4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v4.bind(null,e),e.La.p_=s4.bind(null,e.eventManager),e.La.Ja=a4.bind(null,e.eventManager),e}function S4(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b4.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Ak(this.persistence,new Tk,e.initialUser,this.serializer)}Xa(e){return new tw(Sg.ri,this.serializer)}Za(e){return new Nk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class A4 extends sh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){lt(this.persistence.referenceDelegate instanceof rh);const i=this.persistence.referenceDelegate.garbageCollector;return new ok(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new tw(i=>rh.ri(i,t),this.serializer)}}class Mm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>qb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=T4.bind(null,this.syncEngine),await e4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new n4}()}createDatastore(e){const t=Nh(e.databaseInfo.databaseId),i=function(l){return new Mk(l)}(e.databaseInfo);return function(l,c,d,p){return new Bk(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new Hk(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>qb(this.syncEngine,t,0),function(){return Ub.D()?new Ub:new kk}())}createSyncEngine(e,t){return function(a,l,c,d,p,g,v){const E=new f4(a,l,c,d,p,g);return v&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ue(a);ve(wa,"RemoteStore shutting down."),l.W_.add(5),await Ku(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Mm.provider={build:()=>new Mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="FirestoreClient";class R4{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=dn.UNAUTHENTICATED,this.clientId=p1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ve(ks,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ve(ks,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Ng(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function tm(n,e){n.asyncQueue.verifyOperationInProgress(),ve(ks,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await nw(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Gb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await C4(n);ve(ks,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>zb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>zb(e.remoteStore,a)),n._onlineComponents=e}async function C4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve(ks,"Using user provided OfflineComponentProvider");try{await tm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Mo("Error using user provided cache. Falling back to memory cache: "+t),await tm(n,new sh)}}else ve(ks,"Using default OfflineComponentProvider"),await tm(n,new A4(void 0));return n._offlineComponents}async function bw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve(ks,"Using user provided OnlineComponentProvider"),await Gb(n,n._uninitializedComponentsProvider._online)):(ve(ks,"Using default OnlineComponentProvider"),await Gb(n,new Mm))),n._onlineComponents}function I4(n){return bw(n).then(e=>e.syncEngine)}async function O4(n){const e=await bw(n),t=e.eventManager;return t.onListen=h4.bind(null,e.syncEngine),t.onUnlisten=m4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=d4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=g4.bind(null,e.syncEngine),t}function D4(n,e,t={}){const i=new xs;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const v=new x4({next:T=>{v.su(),c.enqueueAndForget(()=>i4(l,E));const R=T.docs.has(d);!R&&T.fromCache?g.reject(new xe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&p&&p.source==="server"?g.reject(new xe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new o4(vg(d.path),v,{includeMetadataChanges:!0,Ta:!0});return r4(l,E)}(await O4(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(n,e,t){if(!t)throw new xe(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function k4(n,e,t,i){if(e===!0&&i===!0)throw new xe(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Qb(n){if(!Re.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Lg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne()}function Iu(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Lg(n);throw new xe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="firestore.googleapis.com",Yb=!0;class Xb{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Tw,this.ssl=Yb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Yb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ew;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sk)throw new xe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ew((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mg{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new PD;switch(i.type){case"firstParty":return new UD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new xe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Kb.get(t);i&&(ve("ComponentProvider","Removing Datastore"),Kb.delete(t),i.terminate())}(this),Promise.resolve()}}function P4(n,e,t,i={}){var a;const l=(n=Iu(n,Mg))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==Tw&&l.host!==d&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:i});if(!va(p,c)&&(n._setSettings(p),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=dn.MOCK_USER;else{g=tC(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new xe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new dn(E)}n._authCredentials=new VD(new h1(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ug(this.firestore,e,this._query)}}class er{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class Ou extends Ug{constructor(e,t,i){super(e,t,vg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new Re(e))}withConverter(e){return new Ou(this.firestore,e,this._path)}}function Vh(n,e,...t){if(n=dr(n),arguments.length===1&&(e=p1.newId()),N4("doc","path",e),n instanceof Mg){const i=xt.fromString(e,...t);return Qb(i),new er(n,null,new Re(i))}{if(!(n instanceof er||n instanceof Ou))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xt.fromString(e,...t));return Qb(i),new er(n.firestore,n instanceof Ou?n.converter:null,new Re(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="AsyncQueue";class Zb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new iw(this,"async_queue_retry"),this.Su=()=>{const i=em();i&&ve(Wb,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=em();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=em();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new xs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Zo(e))throw e;ve(Wb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Ii("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Dg.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Ne()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class jg extends Mg{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new Zb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zb(e),this._firestoreClient=void 0,await e}}}function V4(n,e){const t=typeof n=="object"?n:TT(),i=typeof n=="string"?n:Wf,a=ig(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=J2("firestore");l&&P4(a,...l)}return a}function ww(n){if(n._terminated)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||L4(n),n._firestoreClient}function L4(n){var e,t,i;const a=n._freezeSettings(),l=function(d,p,g,v){return new JD(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Ew(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new R4(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(un.fromBase64String(e))}catch(t){throw new xe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ho(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=/^__.*__$/;class U4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Oa(e,this.data,this.fieldMask,t,this.fieldTransforms):new $u(e,this.data,t,this.fieldTransforms)}}function Sw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class qg{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new qg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Uu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ah(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Sw(this.Lu)&&M4.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class j4{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Nh(e)}ju(e,t,i,a=!1){return new qg({Lu:e,methodName:t,zu:i,path:ln.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function z4(n){const e=n._freezeSettings(),t=Nh(n._databaseId);return new j4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function B4(n,e,t,i,a,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,a);Cw("Data must be an object, but it was:",c,i);const d=xw(i,c);let p,g;if(l.merge)p=new hr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const T=F4(e,E,t);if(!c.contains(T))throw new xe(le.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);q4(v,T)||v.push(T)}p=new hr(v),g=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=c.fieldTransforms;return new U4(new Jn(d),p,g)}class $g extends Bg{_toFieldTransform(e){return new xN(e.path,new xu)}isEqual(e){return e instanceof $g}}function Aw(n,e){if(Rw(n=dr(n)))return Cw("Unsupported field value:",e,n),xw(n,e);if(n instanceof Bg)return function(i,a){if(!Sw(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let p=Aw(d,a.Ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=dr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return wN(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=qt.fromDate(i);return{timestampValue:nh(a.serializer,l)}}if(i instanceof qt){const l=new qt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:nh(a.serializer,l)}}if(i instanceof Fg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ho)return{bytesValue:K1(a.serializer,i._byteString)};if(i instanceof er){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Tg(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Hg)return function(c,d){return{mapValue:{fields:{[T1]:{stringValue:w1},[Zf]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return _g(d.serializer,g)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${Lg(i)}`)}(n,e)}function xw(n,e){const t={};return g1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(n,(i,a)=>{const l=Aw(a,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function Rw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qt||n instanceof Fg||n instanceof Ho||n instanceof er||n instanceof Bg||n instanceof Hg)}function Cw(n,e,t){if(!Rw(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=Lg(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function F4(n,e,t){if((e=dr(e))instanceof zg)return e._internalPath;if(typeof e=="string")return Iw(n,e);throw ah("Field path arguments must be of type string or ",n,!1,void 0,t)}const H4=new RegExp("[~\\*/\\[\\]]");function Iw(n,e,t){if(e.search(H4)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zg(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ah(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new xe(le.INVALID_ARGUMENT,d+n+p)}function q4(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $4 extends Ow{data(){return super.data()}}function Dw(n,e){return typeof e=="string"?Iw(n,e):e instanceof zg?e._internalPath:e._delegate._internalPath}class G4{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ca(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[Zf].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>It(c.doubleValue));return new Hg(l)}convertGeoPoint(e){return new Fg(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ah(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const t=Is(e);return new qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=xt.fromString(e);lt(J1(i));const a=new Su(i.get(1),i.get(3)),l=new Re(i.popFirst(5));return a.isEqual(t)||Ii(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nw extends Ow{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Y4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Dw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Y4 extends Nw{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(n){n=Iu(n,er);const e=Iu(n.firestore,jg);return D4(ww(e),n._key).then(t=>J4(e,n,t))}class W4 extends G4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}function Gg(n,e,t){n=Iu(n,er);const i=Iu(n.firestore,jg),a=K4(n.converter,e);return Z4(i,[B4(z4(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Si.none())])}function Z4(n,e){return function(i,a){const l=new xs;return i.asyncQueue.enqueueAndForget(async()=>y4(await I4(i),a,l)),l.promise}(ww(n),e)}function J4(n,e,t){const i=t.docs.get(e._key),a=new W4(n);return new Nw(n,a,e._key,i,new Q4(t.hasPendingWrites,t.fromCache),e.converter)}function eP(){return new $g("serverTimestamp")}(function(e,t=!0){(function(a){Xo=a})(Qo),Lo(new _a("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new jg(new LD(i.getProvider("auth-internal")),new jD(c,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new xe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(g.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),ws(sb,ab,e),ws(sb,ab,"esm2017")})();var tP="firebase",nP="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(tP,nP,"app");const rP={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},kw=ET(rP),Pw=ND(kw),Lh=V4(kw),iP=async n=>{const e=[{id:"brew_master",icon:"icon-beans",completed:!1,createdAt:Date.now(),updatedAt:Date.now()},{id:"coffee_ambassador",icon:"icon-world",completed:!1,createdAt:Date.now(),updatedAt:Date.now()},{id:"flavor_alchemist",icon:"icon-cup",completed:!1,createdAt:Date.now(),updatedAt:Date.now()}],t=Vh(Lh,"achievements",n);await Gg(t,{achievements:e})},sP=async n=>{const e=[{title:"Brewing Basics",tasks:[{number:1,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:2,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:3,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:4,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:5,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:6,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:7,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:8,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:9,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:10,createdAt:Date.now(),updatedAt:Date.now(),completed:!1}]},{title:"Global Coffee Tour",tasks:[{number:11,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:12,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:13,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:14,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:15,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:16,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:17,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:18,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:19,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:20,createdAt:Date.now(),updatedAt:Date.now(),completed:!1}]},{title:"Creativity & Skills",tasks:[{number:21,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:22,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:23,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:24,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:25,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:26,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:27,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:28,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:29,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:30,createdAt:Date.now(),updatedAt:Date.now(),completed:!1}]}];await Gg(Vh(Lh,"tasks",n),{tasksList:e})},aP=(n,e)=>({uid:e,email:n.email,firstName:n.firstName,lastName:n.lastName,language:n.language,completedDays:[]}),oP=async n=>{try{const t=(await vO(Pw,n.email,n.password)).user,i=aP(n,t.uid);await Gg(Vh(Lh,"users",t.uid),{...i,createdAt:eP()}),await iP(t.uid),await sP(t.uid),Ko.getState().setUser({...i}),at.success("You registered successfully!")}catch(e){e instanceof Error?(at.error("Registration error: "+e.message),console.error("Error:",e.message)):(at.error("An unknown error occurred."),console.error("Unknown error:",e))}},lP=()=>{var c,d;const{t:n}=pr(),{register:e,setValue:t,handleSubmit:i,formState:{errors:a}}=uT(),l=p=>{const g=["en","pl"].includes(p.language)?p.language:"en";oP({...p,language:g})};return j.jsx("section",{className:" flex-grow h-full  bg-[url('/src/assets/bg-tablet.jpg')]   desktop:bg-[url('/src/assets/bg-desktop.jpg')] bg-cover bg-center",children:j.jsx("div",{className:" flex flex-col items-center justify-center  px-6 py-6 mx-auto max-w-[520px] desktop:max-w-[620px] desktop:pt-12  ",children:j.jsxs("div",{className:"w-full rounded-lg ",children:[j.jsx("h1",{className:"flex justify-center text-[18px] font-bold text-espresso mb-3 desktop:text-[32px]",children:n("signUpForm.title")}),j.jsxs("form",{className:"flex flex-col gap-1 tablet:gap-2",onSubmit:i(l),children:[j.jsxs("div",{className:"w-full flex flex-col ",children:[j.jsx("label",{htmlFor:"name",className:"text-[12px] font-medium text-espresso desktop:text-[16px] mb-1",children:n("inputs.firstname")}),j.jsx("input",{type:"text",id:"firstname","aria-invalid":a.firstName?"true":"false",className:" w-full px-3 py-2 text-[14px] text-espresso   bg-transparent border-2 border-primary rounded-lg focus:outline-none focus:border-gold hover:border-gold desktop:text-[18px]",...e("firstName",{required:n("validation.firstName.required"),minLength:{value:2,message:n("validation.firstName.minLength")}}),onChange:p=>t("firstName",p.target.value)}),j.jsx("p",{className:"h-4 text-red text-[12px]  desktop:text-[14px]",children:(c=a.firstName)==null?void 0:c.message})]}),j.jsxs("div",{className:"w-full flex flex-col",children:[j.jsx("label",{htmlFor:"name",className:"text-[12px] font-medium text-espresso desktop:text-[16px]",children:n("inputs.lastname")}),j.jsx("input",{type:"text",id:"lastname","aria-invalid":a.lastName?"true":"false",className:"w-full px-3 py-2 text-[14px] text-espresso   bg-transparent border-2 border-primary rounded-lg focus:outline-none focus:border-gold hover:border-gold desktop:text-[18px]",...e("lastName",{required:n("validation.lastName.required"),minLength:{value:2,message:n("validation.lastName.minLength")}}),onChange:p=>t("lastName",p.target.value)}),j.jsx("p",{className:"h-4 text-red text-[12px] desktop:text-[14px]",children:(d=a.lastName)==null?void 0:d.message})]}),j.jsx(hT,{register:e,setValue:t,name:"email",validation:{required:n("validation.email")},error:a.email}),j.jsx(cT,{register:e,setValue:t,name:"password",validation:{required:n("validation.password.required"),minLength:{value:6,message:n("validation.password.minLength",{length:8})}},error:a.password}),j.jsxs("div",{className:"relative w-full flex flex-col gap-1 ",children:[j.jsx("label",{htmlFor:"language",className:"text-[12px] font-medium text-espresso desktop:text-[16px]",children:n("inputs.language")}),j.jsxs("select",{id:"language",className:"appearance-none w-full px-3 py-2 text-[14px] text-espresso placeholder-latte bg-transparent border-2 border-primary rounded-lg focus:outline-none focus:border-gold hover:border-gold desktop:text-[18px]",...e("language",{required:!0}),children:[j.jsx("option",{value:"en",className:"bg-secondary text-espresso border-none",children:n("inputs.en")}),j.jsx("option",{value:"pl",className:"bg-secondary text-espresso border-none",children:n("inputs.pl")})]}),j.jsx(F2,{className:"absolute right-3 top-[34px] text-espresso pointer-events-none desktop:top-[38px] desktop:w-[24px] desktop:h-[24px]"})]}),j.jsx("button",{type:"submit",className:" mt-5 mb-2 flex justify-center items-center w-full h-8 bg-latte font-medium text-espresso  rounded-lg hover:bg-gold focus:bg-gold  desktop:h-12 desktop:text-[20px]",children:n("signUpForm.registerButton")})]}),j.jsxs("p",{className:"mt-2 flex justify-center text-[12px]  text-espresso desktop:text-[16px]",children:[n("signUpForm.haveAccount"),j.jsx(Ft,{to:"/login",className:"font-medium text-espresso hover:underline hover:decoration-espresso  text-[12px] desktop:text-[16px] ml-1",children:n("signUpForm.loginLink")})]}),j.jsxs("div",{className:"flex items-center w-full mt-2 mb-3",children:[j.jsx("hr",{className:"flex-grow border-t border-gray-300"}),j.jsx("span",{className:" px-2 text-gray-500 text-sm",children:n("signUpForm.alternativeSignUp")}),j.jsx("hr",{className:"flex-grow border-t border-gray-300"})]}),j.jsxs("button",{type:"button",className:" flex  justify-center items-center w-full h-8 bg-latte font-medium text-espresso rounded-lg hover:bg-gold focus:bg-gold desktop:h-12 desktop:text-[20px]",children:[j.jsx("img",{src:fT,alt:"icon facebook",className:"mr-2 w-[24px] h-[24px]   desktop:w-[32px] desktop:h-[32px]"}),n("signUpForm.registerFacebook")]})]})})})},uP=()=>j.jsx(j.Fragment,{children:j.jsx(lP,{})}),cP=()=>{const{t:n}=pr(),{register:e,setValue:t,handleSubmit:i,formState:{errors:a}}=uT(),l=c=>{console.log("Login form Submitted:",c)};return j.jsx("section",{className:" flex-grow h-full  bg-[url('/src/assets/bg-tablet.jpg')]   desktop:bg-[url('/src/assets/bg-desktop.jpg')] bg-cover bg-center",children:j.jsx("div",{className:" flex flex-col items-center justify-center  p-6 pt-6 mx-auto max-w-[520px] desktop:max-w-[620px] desktop:pt-12  ",children:j.jsxs("div",{className:"w-full rounded-lg ",children:[j.jsx("h1",{className:"flex justify-center text-[18px] font-bold text-espresso mb-3 desktop:text-[32px]",children:n("loginForm.title")}),j.jsxs("form",{className:"flex flex-col gap-1 tablet:gap-2 ",onSubmit:i(l),children:[j.jsx(hT,{register:e,setValue:t,name:"email",validation:{required:n("validation.email")},error:a.email}),j.jsx(cT,{register:e,setValue:t,name:"password",validation:{required:n("validation.password.required"),minLength:{value:6,message:n("validation.password.minLength",{length:6})}},error:a.password}),j.jsx("button",{type:"submit",className:" mt-5 mb-2 flex justify-center items-center w-full h-8 bg-latte font-medium text-espresso  rounded-lg hover:bg-gold focus:bg-gold  desktop:h-12 desktop:text-[20px]",children:n("loginForm.loginButton")})]}),j.jsxs("p",{className:"mt-2 flex justify-center text-[12px]  text-espresso desktop:text-[16px]",children:[n("loginForm.noHaveAccount"),j.jsx(Ft,{to:"/login",className:"font-medium text-espresso hover:underline hover:decoration-espresso  text-[12px] desktop:text-[16px] ml-1",children:n("loginForm.registerLink")})]}),j.jsxs("div",{className:"flex items-center w-full mt-2 mb-3",children:[j.jsx("hr",{className:"flex-grow border-t border-gray-300"}),j.jsx("span",{className:" px-2 text-gray-500 text-sm",children:n("loginForm.alternativeLogin")}),j.jsx("hr",{className:"flex-grow border-t border-gray-300"})]}),j.jsxs("button",{type:"button",className:" flex  justify-center items-center w-full h-8 bg-latte font-medium text-espresso rounded-lg hover:bg-gold focus:bg-gold desktop:h-12 desktop:text-[20px]",children:[j.jsx("img",{src:fT,alt:"icon facebook",className:"mr-2 w-[24px] h-[24px]   desktop:w-[32px] desktop:h-[32px]"}),n("loginForm.loginFacebook")]})]})})})},fP=()=>j.jsx(j.Fragment,{children:j.jsx(cP,{})}),hP="/30-day-coffee-challenge/assets/symbol-defs-DtXRp1Yg.svg",Um=({name:n,size:e,className:t})=>j.jsx("svg",{width:e,height:e,className:t,children:j.jsx("use",{xlinkHref:`${hP}#${n}`})}),dP=[{id:"brew_master",icon:"icon-beans",completed:!0},{id:"coffee_ambassador",icon:"icon-world",completed:!1},{id:"flavor_alchemist",icon:"icon-cup",completed:!0}],pP=()=>{const{t:n}=pr();return j.jsx("ul",{className:"grid grid-cols-3 gap-4 mt-4",children:dP.map(({id:e,icon:t,completed:i},a)=>j.jsxs("li",{className:"flex flex-col justify-center items-center gap-2",children:[j.jsx(Um,{name:t,size:100,className:i?"fill-gold":"fill-latte"}),j.jsx("p",{className:`text-center font-bold whitespace-pre-line ${i?"text-gold":"text-latte"}`,children:n(`achievements.${e}`)})]},a))})};function mP(n,e=[]){let t=[];function i(l,c){const d=H.createContext(c),p=t.length;t=[...t,c];const g=E=>{var $;const{scope:T,children:R,...O}=E,U=(($=T==null?void 0:T[n])==null?void 0:$[p])||d,k=H.useMemo(()=>O,Object.values(O));return j.jsx(U.Provider,{value:k,children:R})};g.displayName=l+"Provider";function v(E,T){var U;const R=((U=T==null?void 0:T[n])==null?void 0:U[p])||d,O=H.useContext(R);if(O)return O;if(c!==void 0)return c;throw new Error(`\`${E}\` must be used within \`${l}\``)}return[g,v]}const a=()=>{const l=t.map(c=>H.createContext(c));return function(d){const p=(d==null?void 0:d[n])||l;return H.useMemo(()=>({[`__scope${n}`]:{...d,[n]:p}}),[d,p])}};return a.scopeName=n,[i,gP(a,...e)]}function gP(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=i.reduce((d,{useScope:p,scopeName:g})=>{const E=p(l)[`__scope${g}`];return{...d,...E}},{});return H.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function Jb(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function yP(...n){return e=>{let t=!1;const i=n.map(a=>{const l=Jb(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Jb(n[a],null)}}}}function vP(n){const e=_P(n),t=H.forwardRef((i,a)=>{const{children:l,...c}=i,d=H.Children.toArray(l),p=d.find(EP);if(p){const g=p.props.children,v=d.map(E=>E===p?H.Children.count(g)>1?H.Children.only(null):H.isValidElement(g)?g.props.children:null:E);return j.jsx(e,{...c,ref:a,children:H.isValidElement(g)?H.cloneElement(g,void 0,v):null})}return j.jsx(e,{...c,ref:a,children:l})});return t.displayName=`${n}.Slot`,t}function _P(n){const e=H.forwardRef((t,i)=>{const{children:a,...l}=t;if(H.isValidElement(a)){const c=wP(a),d=TP(l,a.props);return a.type!==H.Fragment&&(d.ref=i?yP(i,c):c),H.cloneElement(a,d)}return H.Children.count(a)>1?H.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var bP=Symbol("radix.slottable");function EP(n){return H.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===bP}function TP(n,e){const t={...e};for(const i in e){const a=n[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?t[i]=(...d)=>{l(...d),a(...d)}:a&&(t[i]=a):i==="style"?t[i]={...a,...l}:i==="className"&&(t[i]=[a,l].filter(Boolean).join(" "))}return{...n,...t}}function wP(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var SP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vw=SP.reduce((n,e)=>{const t=vP(`Primitive.${e}`),i=H.forwardRef((a,l)=>{const{asChild:c,...d}=a,p=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),j.jsx(p,{...d,ref:l})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{}),Kg="Progress",Qg=100,[AP,KV]=mP(Kg),[xP,RP]=AP(Kg),Lw=H.forwardRef((n,e)=>{const{__scopeProgress:t,value:i=null,max:a,getValueLabel:l=CP,...c}=n;(a||a===0)&&!eE(a)&&console.error(IP(`${a}`,"Progress"));const d=eE(a)?a:Qg;i!==null&&!tE(i,d)&&console.error(OP(`${i}`,"Progress"));const p=tE(i,d)?i:null,g=oh(p)?l(p,d):void 0;return j.jsx(xP,{scope:t,value:p,max:d,children:j.jsx(Vw.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":oh(p)?p:void 0,"aria-valuetext":g,role:"progressbar","data-state":jw(p,d),"data-value":p??void 0,"data-max":d,...c,ref:e})})});Lw.displayName=Kg;var Mw="ProgressIndicator",Uw=H.forwardRef((n,e)=>{const{__scopeProgress:t,...i}=n,a=RP(Mw,t);return j.jsx(Vw.div,{"data-state":jw(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...i,ref:e})});Uw.displayName=Mw;function CP(n,e){return`${Math.round(n/e*100)}%`}function jw(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function oh(n){return typeof n=="number"}function eE(n){return oh(n)&&!isNaN(n)&&n>0}function tE(n,e){return oh(n)&&!isNaN(n)&&n<=e&&n>=0}function IP(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Qg}\`.`}function OP(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Qg} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var DP=Lw,NP=Uw;const kP=()=>{const{t:n}=pr(),e=50;return j.jsxs("div",{className:"flex flex-col justify-center items-center gap-1",children:[j.jsx(DP,{value:e,className:"relative h-[16px] w-[260px] overflow-hidden bg-latte rounded-full",style:{transform:"translateZ(0)"},children:j.jsx(NP,{className:"ease-[cubic-bezier(0.65, 0, 0.35, 1)] size-full bg-espresso transition-transform duration-[660ms]",style:{transform:`translateX(-${100-e}%)`}})}),j.jsxs("p",{className:"text-espresso text-[14px]",children:[e,"% ",n("progress.completed")]})]})},PP=[{title:"Brewing Basics",tasks:[{number:1,completed:!1},{number:2,completed:!0},{number:3,completed:!1},{number:4,completed:!1},{number:5,completed:!1},{number:6,completed:!1},{number:7,completed:!1},{number:8,completed:!1},{number:9,completed:!1},{number:10,completed:!1}]},{title:"Global Coffee Tour",tasks:[{number:11,completed:!1},{number:12,completed:!1},{number:13,completed:!1},{number:14,completed:!1},{number:15,completed:!1},{number:16,completed:!1},{number:17,completed:!1},{number:18,completed:!1},{number:19,completed:!1},{number:20,completed:!1}]},{title:"Creativity & Skills",tasks:[{number:21,completed:!1},{number:22,completed:!1},{number:23,completed:!1},{number:24,completed:!1},{number:25,completed:!1},{number:26,completed:!1},{number:27,completed:!1},{number:28,completed:!1},{number:29,completed:!1},{number:30,completed:!1}]}];/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var jm=function(n,e){return jm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},jm(n,e)};function VP(n,e){jm(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var zm=function(){return zm=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},zm.apply(this,arguments)};function LP(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&(t[i[a]]=n[i[a]]);return t}var MP=100,UP=100,nE=50,Bm=50,Fm=50;function rE(n){var e=n.className,t=n.counterClockwise,i=n.dashRatio,a=n.pathRadius,l=n.strokeWidth,c=n.style;return H.createElement("path",{className:e,style:Object.assign({},c,zP({pathRadius:a,dashRatio:i,counterClockwise:t})),d:jP({pathRadius:a,counterClockwise:t}),strokeWidth:l,fillOpacity:0})}function jP(n){var e=n.pathRadius,t=n.counterClockwise,i=e,a=t?1:0;return`
      M `+Bm+","+Fm+`
      m 0,-`+i+`
      a `+i+","+i+" "+a+" 1 1 0,"+2*i+`
      a `+i+","+i+" "+a+" 1 1 0,-"+2*i+`
    `}function zP(n){var e=n.counterClockwise,t=n.dashRatio,i=n.pathRadius,a=Math.PI*2*i,l=(1-t)*a;return{strokeDasharray:a+"px "+a+"px",strokeDashoffset:(e?-l:l)+"px"}}var BP=function(n){VP(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},e.prototype.getPathRadius=function(){return nE-this.props.strokeWidth/2-this.getBackgroundPadding()},e.prototype.getPathRatio=function(){var t=this.props,i=t.value,a=t.minValue,l=t.maxValue,c=Math.min(Math.max(i,a),l);return(c-a)/(l-a)},e.prototype.render=function(){var t=this.props,i=t.circleRatio,a=t.className,l=t.classes,c=t.counterClockwise,d=t.styles,p=t.strokeWidth,g=t.text,v=this.getPathRadius(),E=this.getPathRatio();return H.createElement("svg",{className:l.root+" "+a,style:d.root,viewBox:"0 0 "+MP+" "+UP,"data-test-id":"CircularProgressbar"},this.props.background?H.createElement("circle",{className:l.background,style:d.background,cx:Bm,cy:Fm,r:nE}):null,H.createElement(rE,{className:l.trail,counterClockwise:c,dashRatio:i,pathRadius:v,strokeWidth:p,style:d.trail}),H.createElement(rE,{className:l.path,counterClockwise:c,dashRatio:E*i,pathRadius:v,strokeWidth:p,style:d.path}),g?H.createElement("text",{className:l.text,style:d.text,x:Bm,y:Fm},g):null)},e.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},e}(H.Component);function FP(n){n.children;var e=LP(n,["children"]);return H.createElement("div",{"data-test-id":"CircularProgressbarWithChildren"},H.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},H.createElement(BP,zm({},e)),n.children?H.createElement("div",{"data-test-id":"CircularProgressbarWithChildren__children",style:{position:"absolute",width:"100%",height:"100%",marginTop:"-100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},n.children):null))}function HP(n){var e=n.rotation,t=n.strokeLinecap,i=n.textColor,a=n.textSize,l=n.pathColor,c=n.pathTransition,d=n.pathTransitionDuration,p=n.trailColor,g=n.backgroundColor,v=e==null?void 0:"rotate("+e+"turn)",E=e==null?void 0:"center center";return{root:{},path:Tf({stroke:l,strokeLinecap:t,transform:v,transformOrigin:E,transition:c,transitionDuration:d==null?void 0:d+"s"}),trail:Tf({stroke:p,strokeLinecap:t,transform:v,transformOrigin:E}),text:Tf({fill:i,fontSize:a}),background:Tf({fill:g})}}function Tf(n){return Object.keys(n).forEach(function(e){n[e]==null&&delete n[e]}),n}const qP=({count:n,style:e})=>{const t=1/n;return j.jsx(j.Fragment,{children:Array.from({length:n}).map((i,a)=>j.jsx("div",{style:{position:"absolute",height:"100%",transform:`rotate(${a*t}turn)`},children:j.jsx("div",{style:{...e,marginLeft:"auto",marginRight:"auto"}})},a))})},$P=({completed:n,total:e})=>{const t=n/e*100;return j.jsx("div",{style:{width:60,height:60},children:j.jsx(FP,{value:t,text:`${Math.round(t)}%`,strokeWidth:10,styles:HP({pathColor:"#3e2723",trailColor:"#c4a484",textColor:"#3e2723",strokeLinecap:"butt"}),children:j.jsx(qP,{count:10,style:{background:"#fff",width:"2px",height:"10%"}})})})},GP=()=>{const{t:n}=pr();return j.jsx("div",{className:"flex flex-col gap-6",children:PP.map((e,t)=>{const i=e.tasks.length,a=e.tasks.filter(l=>l.completed).length;return j.jsxs("section",{children:[j.jsxs("div",{className:"flex justify-between items-center mb-6",children:[j.jsx("h2",{className:"text-2xl font-bold",children:n(`sectionsTasks.${e.title}`)}),j.jsx($P,{completed:a,total:i})]}),j.jsx("ul",{className:"flex flex-col gap-6",children:e.tasks.map(l=>j.jsxs("li",{className:"flex items-center justify-between gap-4 p-4 rounded-xl shadow-[0_2px_8px_theme('colors.espresso')] text-espresso",children:[j.jsx("div",{className:"w-8 h-8 flex-shrink-0",children:l.completed?j.jsx(Um,{name:"icon-completed",size:32,className:"fill-active"}):j.jsx(Um,{name:"icon-empty",size:32,className:"fill-latte"})}),j.jsxs("div",{className:"flex-1",children:[j.jsx("h3",{className:"text-lg font-semibold",children:n(`tasks.${l.number}.title`)}),j.jsx("p",{className:"text-base",children:n(`tasks.${l.number}.description`)})]}),j.jsx("p",{className:"italic font-bold text-right w-8",children:String(l.number).padStart(2,"0")})]},l.number))})]},t)})})},KP=()=>{const{t:n}=pr();return j.jsxs("div",{className:"p-4 flex flex-col gap-6",children:[j.jsxs("section",{className:"flex flex-col gap-2",children:[j.jsx("h3",{className:"text-espresso text-[22px] font-bold flex justify-center items-center",children:n("progress.title")}),j.jsx(kP,{}),j.jsx(pP,{})]}),j.jsx("section",{children:j.jsx(GP,{})}),j.jsx("div",{children:"Community"})]})},QP=async n=>{try{const e=Vh(Lh,"users",n),t=await X4(e);return t.exists()?t.data():(console.warn("No user document found for UID:",n),null)}catch(e){return console.error("Error fetching user data:",e),null}},YP=()=>{EO(Pw,async n=>{if(n)try{const e=await QP(n.uid);e&&(console.log("User data:",e),Ko.getState().setUser(e))}catch(e){console.error("Error fetching user data:",e),at.error("Failed to fetch user data.")}})};function XP(){return H.useEffect(()=>{YP()},[]),j.jsxs("div",{children:[j.jsx(gx,{children:j.jsxs(ps,{path:"/",element:j.jsx(y2,{}),children:[j.jsx(ps,{index:!0,element:j.jsx("div",{children:"Home"})}),j.jsx(ps,{path:"/register",element:j.jsx(uP,{})}),j.jsx(ps,{path:"/login",element:j.jsx(fP,{})}),j.jsx(ps,{path:"/settings",element:j.jsx(E2,{})}),j.jsx(ps,{path:"/dashboard",element:j.jsx(KP,{})}),j.jsx(ps,{path:"*",element:j.jsx("div",{children:"Not found"})})]})}),j.jsx(LR,{position:"top-center",autoClose:1e4})]})}const Ve=n=>typeof n=="string",ou=()=>{let n,e;const t=new Promise((i,a)=>{n=i,e=a});return t.resolve=n,t.reject=e,t},iE=n=>n==null?"":""+n,WP=(n,e,t)=>{n.forEach(i=>{e[i]&&(t[i]=e[i])})},ZP=/###/g,sE=n=>n&&n.indexOf("###")>-1?n.replace(ZP,"."):n,aE=n=>!n||Ve(n),yu=(n,e,t)=>{const i=Ve(e)?e.split("."):e;let a=0;for(;a<i.length-1;){if(aE(n))return{};const l=sE(i[a]);!n[l]&&t&&(n[l]=new t),Object.prototype.hasOwnProperty.call(n,l)?n=n[l]:n={},++a}return aE(n)?{}:{obj:n,k:sE(i[a])}},oE=(n,e,t)=>{const{obj:i,k:a}=yu(n,e,Object);if(i!==void 0||e.length===1){i[a]=t;return}let l=e[e.length-1],c=e.slice(0,e.length-1),d=yu(n,c,Object);for(;d.obj===void 0&&c.length;)l=`${c[c.length-1]}.${l}`,c=c.slice(0,c.length-1),d=yu(n,c,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=t},JP=(n,e,t,i)=>{const{obj:a,k:l}=yu(n,e,Object);a[l]=a[l]||[],a[l].push(t)},lh=(n,e)=>{const{obj:t,k:i}=yu(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i]},eV=(n,e,t)=>{const i=lh(n,t);return i!==void 0?i:lh(e,t)},zw=(n,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?Ve(n[i])||n[i]instanceof String||Ve(e[i])||e[i]instanceof String?t&&(n[i]=e[i]):zw(n[i],e[i],t):n[i]=e[i]);return n},wo=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var tV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const nV=n=>Ve(n)?n.replace(/[&<>"'\/]/g,e=>tV[e]):n;class rV{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const iV=[" ",",","?","!",";"],sV=new rV(20),aV=(n,e,t)=>{e=e||"",t=t||"";const i=iV.filter(c=>e.indexOf(c)<0&&t.indexOf(c)<0);if(i.length===0)return!0;const a=sV.getRegExp(`(${i.map(c=>c==="?"?"\\?":c).join("|")})`);let l=!a.test(n);if(!l){const c=n.indexOf(t);c>0&&!a.test(n.substring(0,c))&&(l=!0)}return l},Hm=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const i=e.split(t);let a=n;for(let l=0;l<i.length;){if(!a||typeof a!="object")return;let c,d="";for(let p=l;p<i.length;++p)if(p!==l&&(d+=t),d+=i[p],c=a[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&p<i.length-1)continue;l+=p-l+1;break}a=c}return a},uh=n=>n==null?void 0:n.replace("_","-"),oV={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,i;(i=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||i.call(t,console,e)}};class ch{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||oV,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,a){return a&&!this.debug?null:(Ve(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new ch(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ch(this.logger,e)}}var Lr=new ch;class Mh{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const a=this.observers[i].get(t)||0;this.observers[i].set(t,a+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(c=>{let[d,p]=c;for(let g=0;g<p;g++)d(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(c=>{let[d,p]=c;for(let g=0;g<p;g++)d.apply(d,[e,...i])})}}class lE extends Mh{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){var g,v;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],i&&(Array.isArray(i)?d.push(...i):Ve(i)&&l?d.push(...i.split(l)):d.push(i)));const p=lh(this.data,d);return!p&&!t&&!i&&e.indexOf(".")>-1&&(e=d[0],t=d[1],i=d.slice(2).join(".")),p||!c||!Ve(i)?p:Hm((v=(g=this.data)==null?void 0:g[e])==null?void 0:v[t],i,l)}addResource(e,t,i,a){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[e,t];i&&(d=d.concat(c?i.split(c):i)),e.indexOf(".")>-1&&(d=e.split("."),a=t,t=d[1]),this.addNamespaces(t),oE(this.data,d,a),l.silent||this.emit("added",e,t,i,a)}addResources(e,t,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const l in i)(Ve(i[l])||Array.isArray(i[l]))&&this.addResource(e,t,l,i[l],{silent:!0});a.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,a,l){let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),a=i,i=t,t=d[1]),this.addNamespaces(t);let p=lh(this.data,d)||{};c.skipCopy||(i=JSON.parse(JSON.stringify(i))),a?zw(p,i,l):p={...p,...i},oE(this.data,d,p),c.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(a=>t[a]&&Object.keys(t[a]).length>0)}toJSON(){return this.data}}var Bw={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,a){return n.forEach(l=>{var c;e=((c=this.processors[l])==null?void 0:c.process(e,t,i,a))??e}),e}};const uE={},cE=n=>!Ve(n)&&typeof n!="boolean"&&typeof n!="number";class fh extends Mh{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),WP(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Lr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,t);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let l=t.ns||this.options.defaultNS||[];const c=i&&e.indexOf(i)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!aV(e,i,a);if(c&&!d){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:Ve(l)?[l]:l};const g=e.split(i);(i!==a||i===a&&this.options.ns.indexOf(g[0])>-1)&&(l=g.shift()),e=g.join(a)}return{key:e,namespaces:Ve(l)?[l]:l}}translate(e,t,i){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,l=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(e[e.length-1],t),p=d[d.length-1],g=t.lng||this.language,v=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((g==null?void 0:g.toLowerCase())==="cimode"){if(v){const P=t.nsSeparator||this.options.nsSeparator;return a?{res:`${p}${P}${c}`,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:p,usedParams:this.getUsedParamsDetails(t)}:`${p}${P}${c}`}return a?{res:c,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:p,usedParams:this.getUsedParamsDetails(t)}:c}const E=this.resolve(e,t);let T=E==null?void 0:E.res;const R=(E==null?void 0:E.usedKey)||c,O=(E==null?void 0:E.exactUsedKey)||c,U=["[object Number]","[object Function]","[object RegExp]"],k=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,$=!this.i18nFormat||this.i18nFormat.handleAsObject,B=t.count!==void 0&&!Ve(t.count),G=fh.hasDefaultValue(t),re=B?this.pluralResolver.getSuffix(g,t.count,t):"",ie=t.ordinal&&B?this.pluralResolver.getSuffix(g,t.count,{ordinal:!1}):"",de=B&&!t.ordinal&&t.count===0,D=de&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${re}`]||t[`defaultValue${ie}`]||t.defaultValue;let x=T;$&&!T&&G&&(x=D);const A=cE(x),C=Object.prototype.toString.apply(x);if($&&x&&A&&U.indexOf(C)<0&&!(Ve(k)&&Array.isArray(x))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const P=this.options.returnedObjectHandler?this.options.returnedObjectHandler(R,x,{...t,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(E.res=P,E.usedParams=this.getUsedParamsDetails(t),E):P}if(l){const P=Array.isArray(x),V=P?[]:{},I=P?O:R;for(const Ae in x)if(Object.prototype.hasOwnProperty.call(x,Ae)){const Ce=`${I}${l}${Ae}`;G&&!T?V[Ae]=this.translate(Ce,{...t,defaultValue:cE(D)?D[Ae]:void 0,joinArrays:!1,ns:d}):V[Ae]=this.translate(Ce,{...t,joinArrays:!1,ns:d}),V[Ae]===Ce&&(V[Ae]=x[Ae])}T=V}}else if($&&Ve(k)&&Array.isArray(T))T=T.join(k),T&&(T=this.extendTranslation(T,e,t,i));else{let P=!1,V=!1;!this.isValidLookup(T)&&G&&(P=!0,T=D),this.isValidLookup(T)||(V=!0,T=c);const Ae=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&V?void 0:T,Ce=G&&D!==T&&this.options.updateMissing;if(V||P||Ce){if(this.logger.log(Ce?"updateKey":"missingKey",g,p,c,Ce?D:T),l){const Ie=this.resolve(c,{...t,keySeparator:!1});Ie&&Ie.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let oe=[];const ge=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ge&&ge[0])for(let Ie=0;Ie<ge.length;Ie++)oe.push(ge[Ie]);else this.options.saveMissingTo==="all"?oe=this.languageUtils.toResolveHierarchy(t.lng||this.language):oe.push(t.lng||this.language);const ye=(Ie,L,se)=>{var pe;const be=G&&se!==T?se:Ae;this.options.missingKeyHandler?this.options.missingKeyHandler(Ie,p,L,be,Ce,t):(pe=this.backendConnector)!=null&&pe.saveMissing&&this.backendConnector.saveMissing(Ie,p,L,be,Ce,t),this.emit("missingKey",Ie,p,L,T)};this.options.saveMissing&&(this.options.saveMissingPlurals&&B?oe.forEach(Ie=>{const L=this.pluralResolver.getSuffixes(Ie,t);de&&t[`defaultValue${this.options.pluralSeparator}zero`]&&L.indexOf(`${this.options.pluralSeparator}zero`)<0&&L.push(`${this.options.pluralSeparator}zero`),L.forEach(se=>{ye([Ie],c+se,t[`defaultValue${se}`]||D)})}):ye(oe,c,D))}T=this.extendTranslation(T,e,t,E,i),V&&T===c&&this.options.appendNamespaceToMissingKey&&(T=`${p}:${c}`),(V||P)&&this.options.parseMissingKeyHandler&&(T=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}:${c}`:c,P?T:void 0))}return a?(E.res=T,E.usedParams=this.getUsedParamsDetails(t),E):T}extendTranslation(e,t,i,a,l){var g,v;var c=this;if((g=this.i18nFormat)!=null&&g.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const E=Ve(e)&&(((v=i==null?void 0:i.interpolation)==null?void 0:v.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let T;if(E){const O=e.match(this.interpolator.nestingRegexp);T=O&&O.length}let R=i.replace&&!Ve(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(R={...this.options.interpolation.defaultVariables,...R}),e=this.interpolator.interpolate(e,R,i.lng||this.language||a.usedLng,i),E){const O=e.match(this.interpolator.nestingRegexp),U=O&&O.length;T<U&&(i.nest=!1)}!i.lng&&a&&a.res&&(i.lng=this.language||a.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var O=arguments.length,U=new Array(O),k=0;k<O;k++)U[k]=arguments[k];return(l==null?void 0:l[0])===U[0]&&!i.context?(c.logger.warn(`It seems you are nesting recursively key: ${U[0]} in key: ${t[0]}`),null):c.translate(...U,t)},i)),i.interpolation&&this.interpolator.reset()}const d=i.postProcess||this.options.postProcess,p=Ve(d)?[d]:d;return e!=null&&(p!=null&&p.length)&&i.applyPostProcessor!==!1&&(e=Bw.handle(p,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,a,l,c,d;return Ve(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(i))return;const g=this.extractFromKey(p,t),v=g.key;a=v;let E=g.namespaces;this.options.fallbackNS&&(E=E.concat(this.options.fallbackNS));const T=t.count!==void 0&&!Ve(t.count),R=T&&!t.ordinal&&t.count===0,O=t.context!==void 0&&(Ve(t.context)||typeof t.context=="number")&&t.context!=="",U=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);E.forEach(k=>{var $,B;this.isValidLookup(i)||(d=k,!uE[`${U[0]}-${k}`]&&(($=this.utils)!=null&&$.hasLoadedNamespace)&&!((B=this.utils)!=null&&B.hasLoadedNamespace(d))&&(uE[`${U[0]}-${k}`]=!0,this.logger.warn(`key "${a}" for languages "${U.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),U.forEach(G=>{var de;if(this.isValidLookup(i))return;c=G;const re=[v];if((de=this.i18nFormat)!=null&&de.addLookupKeys)this.i18nFormat.addLookupKeys(re,v,G,k,t);else{let D;T&&(D=this.pluralResolver.getSuffix(G,t.count,t));const x=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(T&&(re.push(v+D),t.ordinal&&D.indexOf(A)===0&&re.push(v+D.replace(A,this.options.pluralSeparator)),R&&re.push(v+x)),O){const C=`${v}${this.options.contextSeparator}${t.context}`;re.push(C),T&&(re.push(C+D),t.ordinal&&D.indexOf(A)===0&&re.push(C+D.replace(A,this.options.pluralSeparator)),R&&re.push(C+x))}}let ie;for(;ie=re.pop();)this.isValidLookup(i)||(l=ie,i=this.getResource(G,k,ie,t))}))})}),{res:i,usedKey:a,exactUsedKey:l,usedLng:c,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i){var l;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(l=this.i18nFormat)!=null&&l.getResource?this.i18nFormat.getResource(e,t,i,a):this.resourceStore.getResource(e,t,i,a)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!Ve(e.replace);let a=i?e.replace:e;if(i&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!i){a={...a};for(const l of t)delete a[l]}return a}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}class fE{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Lr.create("languageUtils")}getScriptPartFromCode(e){if(e=uh(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=uh(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Ve(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const a=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(a))&&(t=a)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const a=this.getLanguagePartFromCode(i);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Ve(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],l=c=>{c&&(this.isSupportedCode(c)?a.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return Ve(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):Ve(e)&&l(this.formatLanguageCode(e)),i.forEach(c=>{a.indexOf(c)<0&&l(this.formatLanguageCode(c))}),a}}const hE={zero:0,one:1,two:2,few:3,many:4,other:5},dE={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class lV{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Lr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=uh(e==="dev"?"en":e),a=t.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:i,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let c;try{c=new Intl.PluralRules(i,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),dE;if(!e.match(/-|_/))return dE;const p=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(p,t)}return this.pluralRulesCache[l]=c,c}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),(i==null?void 0:i.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(a=>`${t}${a}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?i.resolvedOptions().pluralCategories.sort((a,l)=>hE[a]-hE[l]).map(a=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(e,i);return a?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}}const pE=function(n,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=eV(n,e,t);return!l&&a&&Ve(t)&&(l=Hm(n,t,i),l===void 0&&(l=Hm(e,t,i))),l},nm=n=>n.replace(/\$/g,"$$$$");class uV{constructor(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Lr.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(i=>i),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:a,prefix:l,prefixEscaped:c,suffix:d,suffixEscaped:p,formatSeparator:g,unescapeSuffix:v,unescapePrefix:E,nestingPrefix:T,nestingPrefixEscaped:R,nestingSuffix:O,nestingSuffixEscaped:U,nestingOptionsSeparator:k,maxReplaces:$,alwaysFormat:B}=e.interpolation;this.escape=t!==void 0?t:nV,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?wo(l):c||"{{",this.suffix=d?wo(d):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=v?"":E||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=T?wo(T):R||wo("$t("),this.nestingSuffix=O?wo(O):U||wo(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=$||1e3,this.alwaysFormat=B!==void 0?B:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>(t==null?void 0:t.source)===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,i,a){var R;let l,c,d;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=O=>{if(O.indexOf(this.formatSeparator)<0){const B=pE(t,p,O,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(B,void 0,i,{...a,...t,interpolationkey:O}):B}const U=O.split(this.formatSeparator),k=U.shift().trim(),$=U.join(this.formatSeparator).trim();return this.format(pE(t,p,k,this.options.keySeparator,this.options.ignoreJSONStructure),$,i,{...a,...t,interpolationkey:k})};this.resetRegExp();const v=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,E=((R=a==null?void 0:a.interpolation)==null?void 0:R.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:O=>nm(O)},{regex:this.regexp,safeValue:O=>this.escapeValue?nm(this.escape(O)):nm(O)}].forEach(O=>{for(d=0;l=O.regex.exec(e);){const U=l[1].trim();if(c=g(U),c===void 0)if(typeof v=="function"){const $=v(e,l,a);c=Ve($)?$:""}else if(a&&Object.prototype.hasOwnProperty.call(a,U))c="";else if(E){c=l[0];continue}else this.logger.warn(`missed to pass in variable ${U} for interpolating ${e}`),c="";else!Ve(c)&&!this.useRawValueToEscape&&(c=iE(c));const k=O.safeValue(c);if(e=e.replace(l[0],k),E?(O.regex.lastIndex+=c.length,O.regex.lastIndex-=l[0].length):O.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,l,c;const d=(p,g)=>{const v=this.nestingOptionsSeparator;if(p.indexOf(v)<0)return p;const E=p.split(new RegExp(`${v}[ ]*{`));let T=`{${E[1]}`;p=E[0],T=this.interpolate(T,c);const R=T.match(/'/g),O=T.match(/"/g);(((R==null?void 0:R.length)??0)%2===0&&!O||O.length%2!==0)&&(T=T.replace(/'/g,'"'));try{c=JSON.parse(T),g&&(c={...g,...c})}catch(U){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,U),`${p}${v}${T}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,p};for(;a=this.nestingRegexp.exec(e);){let p=[];c={...i},c=c.replace&&!Ve(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;let g=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const v=a[1].split(this.formatSeparator).map(E=>E.trim());a[1]=v.shift(),p=v,g=!0}if(l=t(d.call(this,a[1].trim(),c),c),l&&a[0]===e&&!Ve(l))return l;Ve(l)||(l=iE(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),l=""),g&&(l=p.reduce((v,E)=>this.format(v,E,i.lng,{...i,interpolationkey:a[1].trim()}),l.trim())),e=e.replace(a[0],l),this.regexp.lastIndex=0}return e}}const cV=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const a=i[1].substring(0,i[1].length-1);e==="currency"&&a.indexOf(":")<0?t.currency||(t.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?t.range||(t.range=a.trim()):a.split(";").forEach(c=>{if(c){const[d,...p]=c.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),v=d.trim();t[v]||(t[v]=g),g==="false"&&(t[v]=!1),g==="true"&&(t[v]=!0),isNaN(g)||(t[v]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},So=n=>{const e={};return(t,i,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const c=i+JSON.stringify(l);let d=e[c];return d||(d=n(uh(i),a),e[c]=d),d(t)}};class fV{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Lr.create("formatter"),this.options=e,this.formats={number:So((t,i)=>{const a=new Intl.NumberFormat(t,{...i});return l=>a.format(l)}),currency:So((t,i)=>{const a=new Intl.NumberFormat(t,{...i,style:"currency"});return l=>a.format(l)}),datetime:So((t,i)=>{const a=new Intl.DateTimeFormat(t,{...i});return l=>a.format(l)}),relativetime:So((t,i)=>{const a=new Intl.RelativeTimeFormat(t,{...i});return l=>a.format(l,i.range||"day")}),list:So((t,i)=>{const a=new Intl.ListFormat(t,{...i});return l=>a.format(l)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=So(t)}format(e,t,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=t.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(p=>p.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,p)=>{var E;const{formatName:g,formatOptions:v}=cV(p);if(this.formats[g]){let T=d;try{const R=((E=a==null?void 0:a.formatParams)==null?void 0:E[a.interpolationkey])||{},O=R.locale||R.lng||a.locale||a.lng||i;T=this.formats[g](d,O,{...v,...a,...R})}catch(R){this.logger.warn(R)}return T}else this.logger.warn(`there was no format function for ${g}`);return d},e)}}const hV=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class dV extends Mh{constructor(e,t,i){var l,c;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=a,this.logger=Lr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(c=(l=this.backend)==null?void 0:l.init)==null||c.call(l,i,a.backend,a)}queueLoad(e,t,i,a){const l={},c={},d={},p={};return e.forEach(g=>{let v=!0;t.forEach(E=>{const T=`${g}|${E}`;!i.reload&&this.store.hasResourceBundle(g,E)?this.state[T]=2:this.state[T]<0||(this.state[T]===1?c[T]===void 0&&(c[T]=!0):(this.state[T]=1,v=!1,c[T]===void 0&&(c[T]=!0),l[T]===void 0&&(l[T]=!0),p[E]===void 0&&(p[E]=!0)))}),v||(d[g]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(p)}}loaded(e,t,i){const a=e.split("|"),l=a[0],c=a[1];t&&this.emit("failedLoading",l,c,t),!t&&i&&this.store.addResourceBundle(l,c,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const d={};this.queue.forEach(p=>{JP(p.loaded,[l],c),hV(p,e),t&&p.errors.push(t),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{d[g]||(d[g]={});const v=p.loaded[g];v.length&&v.forEach(E=>{d[g][E]===void 0&&(d[g][E]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(p=>!p.done)}read(e,t,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,c=arguments.length>5?arguments[5]:void 0;if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:a,wait:l,callback:c});return}this.readingCalls++;const d=(g,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const E=this.waitingReads.shift();this.read(E.lng,E.ns,E.fcName,E.tried,E.wait,E.callback)}if(g&&v&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,a+1,l*2,c)},l);return}c(g,v)},p=this.backend[i].bind(this.backend);if(p.length===2){try{const g=p(e,t);g&&typeof g.then=="function"?g.then(v=>d(null,v)).catch(d):d(null,g)}catch(g){d(g)}return}return p(e,t,d)}prepareLoading(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Ve(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ve(t)&&(t=[t]);const l=this.queueLoad(e,t,i,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(c=>{this.loadOne(c)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),a=i[0],l=i[1];this.read(a,l,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${t}loading namespace ${l} for language ${a} failed`,c),!c&&d&&this.logger.log(`${t}loaded namespace ${l} for language ${a}`,d),this.loaded(e,c,d)})}saveMissing(e,t,i,a,l){var p,g,v,E,T;let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace&&!((E=(v=this.services)==null?void 0:v.utils)!=null&&E.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if((T=this.backend)!=null&&T.create){const R={...c,isUpdate:l},O=this.backend.create.bind(this.backend);if(O.length<6)try{let U;O.length===5?U=O(e,t,i,a,R):U=O(e,t,i,a),U&&typeof U.then=="function"?U.then(k=>d(null,k)).catch(d):d(null,U)}catch(U){d(U)}else O(e,t,i,a,d,R)}!e||!e[0]||this.store.addResource(e[0],t,i,a)}}}const mE=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Ve(n[1])&&(e.defaultValue=n[1]),Ve(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),gE=n=>{var e,t;return Ve(n.ns)&&(n.ns=[n.ns]),Ve(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Ve(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},wf=()=>{},pV=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Du extends Mh{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=gE(e),this.services={},this.logger=Lr,this.modules={external:[]},pV(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(i=t,t={}),t.defaultNS==null&&t.ns&&(Ve(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const a=mE();this.options={...a,...this.options,...gE(t)},this.options.interpolation={...a.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const l=v=>v?typeof v=="function"?new v:v:null;if(!this.options.isClone){this.modules.logger?Lr.init(l(this.modules.logger),this.options):Lr.init(null,this.options);let v;this.modules.formatter?v=this.modules.formatter:v=fV;const E=new fE(this.options);this.store=new lE(this.options.resources,this.options);const T=this.services;T.logger=Lr,T.resourceStore=this.store,T.languageUtils=E,T.pluralResolver=new lV(E,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),v&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(T.formatter=l(v),T.formatter.init(T,this.options),this.options.interpolation.format=T.formatter.format.bind(T.formatter)),T.interpolator=new uV(this.options),T.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},T.backendConnector=new dV(l(this.modules.backend),T.resourceStore,T,this.options),T.backendConnector.on("*",function(R){for(var O=arguments.length,U=new Array(O>1?O-1:0),k=1;k<O;k++)U[k-1]=arguments[k];e.emit(R,...U)}),this.modules.languageDetector&&(T.languageDetector=l(this.modules.languageDetector),T.languageDetector.init&&T.languageDetector.init(T,this.options.detection,this.options)),this.modules.i18nFormat&&(T.i18nFormat=l(this.modules.i18nFormat),T.i18nFormat.init&&T.i18nFormat.init(this)),this.translator=new fh(this.services,this.options),this.translator.on("*",function(R){for(var O=arguments.length,U=new Array(O>1?O-1:0),k=1;k<O;k++)U[k-1]=arguments[k];e.emit(R,...U)}),this.modules.external.forEach(R=>{R.init&&R.init(this)})}if(this.format=this.options.interpolation.format,i||(i=wf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const v=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);v.length>0&&v[0]!=="dev"&&(this.options.lng=v[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(v=>{this[v]=function(){return e.store[v](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(v=>{this[v]=function(){return e.store[v](...arguments),e}});const p=ou(),g=()=>{const v=(E,T)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),p.resolve(T),i(E,T)};if(this.languages&&!this.isInitialized)return v(null,this.t.bind(this));this.changeLanguage(this.options.lng,v)};return this.options.resources||!this.options.initAsync?g():setTimeout(g,0),p}loadResources(e){var l,c;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wf;const a=Ve(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const d=[],p=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(E=>{E!=="cimode"&&d.indexOf(E)<0&&d.push(E)})};a?p(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(v=>p(v)),(c=(l=this.options.preload)==null?void 0:l.forEach)==null||c.call(l,g=>p(g)),this.services.backendConnector.load(d,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(g)})}else i(null)}reloadResources(e,t,i){const a=ou();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=wf),this.services.backendConnector.reload(e,t,l=>{a.resolve(),i(l)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Bw.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;const a=ou();this.emit("languageChanging",e);const l=p=>{this.language=p,this.languages=this.services.languageUtils.toResolveHierarchy(p),this.resolvedLanguage=void 0,this.setResolvedLanguage(p)},c=(p,g)=>{g?(l(g),this.translator.changeLanguage(g),this.isLanguageChangingTo=void 0,this.emit("languageChanged",g),this.logger.log("languageChanged",g)):this.isLanguageChangingTo=void 0,a.resolve(function(){return i.t(...arguments)}),t&&t(p,function(){return i.t(...arguments)})},d=p=>{var v,E;!e&&!p&&this.services.languageDetector&&(p=[]);const g=Ve(p)?p:this.services.languageUtils.getBestMatchFromCodes(p);g&&(this.language||l(g),this.translator.language||this.translator.changeLanguage(g),(E=(v=this.services.languageDetector)==null?void 0:v.cacheUserLanguage)==null||E.call(v,g)),this.loadResources(g,T=>{c(T,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(e),a}getFixedT(e,t,i){var a=this;const l=function(c,d){let p;if(typeof d!="object"){for(var g=arguments.length,v=new Array(g>2?g-2:0),E=2;E<g;E++)v[E-2]=arguments[E];p=a.options.overloadTranslationOptionHandler([c,d].concat(v))}else p={...d};p.lng=p.lng||l.lng,p.lngs=p.lngs||l.lngs,p.ns=p.ns||l.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||i||l.keyPrefix);const T=a.options.keySeparator||".";let R;return p.keyPrefix&&Array.isArray(c)?R=c.map(O=>`${p.keyPrefix}${T}${O}`):R=p.keyPrefix?`${p.keyPrefix}${T}${c}`:c,a.t(R,p)};return Ve(e)?l.lng=e:l.lngs=e,l.ns=t,l.keyPrefix=i,l}t(){var a;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(a=this.translator)==null?void 0:a.translate(...t)}exists(){var a;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(a=this.translator)==null?void 0:a.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const c=(d,p)=>{const g=this.services.backendConnector.state[`${d}|${p}`];return g===-1||g===0||g===2};if(t.precheck){const d=t.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(i,e)&&(!a||c(l,e)))}loadNamespaces(e,t){const i=ou();return this.options.ns?(Ve(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{i.resolve(),t&&t(a)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=ou();Ve(e)&&(e=[e]);const a=this.options.preload||[],l=e.filter(c=>a.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return l.length?(this.options.preload=a.concat(l),this.loadResources(c=>{i.resolve(),t&&t(c)}),i):(t&&t(),Promise.resolve())}dir(e){var a,l;if(e||(e=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=((l=this.services)==null?void 0:l.languageUtils)||new fE(mE());return t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Du(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wf;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},l=new Du(a);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},i){const d=Object.keys(this.store.data).reduce((p,g)=>(p[g]={...this.store.data[g]},Object.keys(p[g]).reduce((v,E)=>(v[E]={...p[g][E]},v),{})),{});l.store=new lE(d,a),l.services.resourceStore=l.store}return l.translator=new fh(l.services,a),l.translator.on("*",function(d){for(var p=arguments.length,g=new Array(p>1?p-1:0),v=1;v<p;v++)g[v-1]=arguments[v];l.emit(d,...g)}),l.init(a,t),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const gn=Du.createInstance();gn.createInstance=Du.createInstance;gn.createInstance;gn.dir;gn.init;gn.loadResources;gn.reloadResources;gn.use;gn.changeLanguage;gn.getFixedT;gn.t;gn.exists;gn.setDefaultNamespace;gn.hasLoadedNamespace;gn.loadNamespaces;gn.loadLanguages;const{slice:mV,forEach:gV}=[];function yV(n){return gV.call(mV.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}const yE=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,vV=function(n,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let l=`${n}=${a}`;if(i.maxAge>0){const c=i.maxAge-0;if(Number.isNaN(c))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(c)}`}if(i.domain){if(!yE.test(i.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${i.domain}`}if(i.path){if(!yE.test(i.path))throw new TypeError("option path is invalid");l+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l},vE={create(n,e,t,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+t*60*1e3)),i&&(a.domain=i),document.cookie=vV(n,encodeURIComponent(e),a)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let i=0;i<t.length;i++){let a=t[i];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(n){this.create(n,"",-1)}};var _V={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return vE.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:i,cookieDomain:a,cookieOptions:l}=e;t&&typeof document<"u"&&vE.create(t,n,i,a,l)}},bV={name:"querystring",lookup(n){var i;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((i=window.location.hash)==null?void 0:i.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const c=a.substring(1).split("&");for(let d=0;d<c.length;d++){const p=c[d].indexOf("=");p>0&&c[d].substring(0,p)===e&&(t=c[d].substring(p+1))}}return t}};let Ao=null;const _E=()=>{if(Ao!==null)return Ao;try{if(Ao=typeof window<"u"&&window.localStorage!==null,!Ao)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Ao=!1}return Ao};var EV={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&_E())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&_E()&&window.localStorage.setItem(t,n)}};let xo=null;const bE=()=>{if(xo!==null)return xo;try{if(xo=typeof window<"u"&&window.sessionStorage!==null,!xo)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{xo=!1}return xo};var TV={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&bE())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&bE()&&window.sessionStorage.setItem(t,n)}},wV={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:i,language:a}=navigator;if(t)for(let l=0;l<t.length;l++)e.push(t[l]);i&&e.push(i),a&&e.push(a)}return e.length>0?e:void 0}},SV={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(t=i.getAttribute("lang")),t}},AV={name:"path",lookup(n){var a;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(a=t[typeof e=="number"?e:0])==null?void 0:a.replace("/",""):void 0}},xV={name:"subdomain",lookup(n){var a,l;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,i=typeof window<"u"&&((l=(a=window.location)==null?void 0:a.hostname)==null?void 0:l.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(i)return i[t]}};let Fw=!1;try{document.cookie,Fw=!0}catch{}const Hw=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Fw||Hw.splice(1,1);const RV=()=>({order:Hw,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class qw{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=yV(t,this.options||{},RV()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(_V),this.addDetector(bV),this.addDetector(EV),this.addDetector(TV),this.addDetector(wV),this.addDetector(SV),this.addDetector(AV),this.addDetector(xV)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(i=>{if(this.detectors[i]){let a=this.detectors[i].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(t=t.concat(a))}}),t=t.map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}qw.type="languageDetector";function qm(n){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(n)}function $w(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":qm(XMLHttpRequest))==="object"}function CV(n){return!!n&&typeof n.then=="function"}function IV(n){return CV(n)?n:Promise.resolve(n)}const OV="modulepreload",DV=function(n){return"/30-day-coffee-challenge/"+n},EE={},NV=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=Promise.allSettled(t.map(p=>{if(p=DV(p),p in EE)return;EE[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const E=document.createElement("link");if(E.rel=g?"stylesheet":OV,g||(E.as="script"),E.crossOrigin="",E.href=p,d&&E.setAttribute("nonce",d),document.head.appendChild(E),g)return new Promise((T,R)=>{E.addEventListener("load",T),E.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};function TE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function wE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(t),!0).forEach(function(i){kV(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function kV(n,e,t){return(e=PV(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PV(n){var e=VV(n,"string");return Sa(e)=="symbol"?e:e+""}function VV(n,e){if(Sa(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Sa(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Sa(n){"@babel/helpers - typeof";return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(n)}var Ps=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?Ps=global.fetch:typeof window<"u"&&window.fetch&&(Ps=window.fetch);var Nu;$w()&&(typeof global<"u"&&global.XMLHttpRequest?Nu=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Nu=window.XMLHttpRequest));var hh;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?hh=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(hh=window.ActiveXObject));typeof Ps!="function"&&(Ps=void 0);if(!Ps&&!Nu&&!hh)try{NV(()=>import("./browser-ponyfill-aeWM7Pe2.js").then(n=>n.b),[]).then(function(n){Ps=n.default}).catch(function(){})}catch{}var $m=function(e,t){if(t&&Sa(t)==="object"){var i="";for(var a in t)i+="&"+encodeURIComponent(a)+"="+encodeURIComponent(t[a]);if(!i)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+i.slice(1)}return e},SE=function(e,t,i,a){var l=function(p){if(!p.ok)return i(p.statusText||"Error",{status:p.status});p.text().then(function(g){i(null,{status:p.status,data:g})}).catch(i)};if(a){var c=a(e,t);if(c instanceof Promise){c.then(l).catch(i);return}}typeof fetch=="function"?fetch(e,t).then(l).catch(i):Ps(e,t).then(l).catch(i)},AE=!1,LV=function(e,t,i,a){e.queryStringParams&&(t=$m(t,e.queryStringParams));var l=wE({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(l["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),i&&(l["Content-Type"]="application/json");var c=typeof e.requestOptions=="function"?e.requestOptions(i):e.requestOptions,d=wE({method:i?"POST":"GET",body:i?e.stringify(i):void 0,headers:l},AE?{}:c),p=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{SE(t,d,a,p)}catch(g){if(!c||Object.keys(c).length===0||!g.message||g.message.indexOf("not implemented")<0)return a(g);try{Object.keys(c).forEach(function(v){delete d[v]}),SE(t,d,a,p),AE=!0}catch(v){a(v)}}},MV=function(e,t,i,a){i&&Sa(i)==="object"&&(i=$m("",i).slice(1)),e.queryStringParams&&(t=$m(t,e.queryStringParams));try{var l=Nu?new Nu:new hh("MSXML2.XMLHTTP.3.0");l.open(i?"POST":"GET",t,1),e.crossDomain||l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.withCredentials=!!e.withCredentials,i&&l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.overrideMimeType&&l.overrideMimeType("application/json");var c=e.customHeaders;if(c=typeof c=="function"?c():c,c)for(var d in c)l.setRequestHeader(d,c[d]);l.onreadystatechange=function(){l.readyState>3&&a(l.status>=400?l.statusText:null,{status:l.status,data:l.responseText})},l.send(i)}catch(p){console&&console.log(p)}},UV=function(e,t,i,a){if(typeof i=="function"&&(a=i,i=void 0),a=a||function(){},Ps&&t.indexOf("file:")!==0)return LV(e,t,i,a);if($w()||typeof ActiveXObject=="function")return MV(e,t,i,a);a(new Error("No fetch and no xhr implementation found!"))};function qo(n){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qo(n)}function xE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function rm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xE(Object(t),!0).forEach(function(i){Gw(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function jV(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zV(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Kw(i.key),i)}}function BV(n,e,t){return e&&zV(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Gw(n,e,t){return(e=Kw(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Kw(n){var e=FV(n,"string");return qo(e)=="symbol"?e:e+""}function FV(n,e){if(qo(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(qo(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var HV=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,i,a){return Gw({},i,a||"")},parseLoadPayload:function(t,i){},request:UV,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Qw=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};jV(this,n),this.services=e,this.options=t,this.allOptions=i,this.type="backend",this.init(e,t,i)}return BV(n,[{key:"init",value:function(t){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=t,this.options=rm(rm(rm({},HV()),this.options||{}),a),this.allOptions=l,this.services&&this.options.reloadInterval){var c=setInterval(function(){return i.reload()},this.options.reloadInterval);qo(c)==="object"&&typeof c.unref=="function"&&c.unref()}}},{key:"readMulti",value:function(t,i,a){this._readAny(t,t,i,i,a)}},{key:"read",value:function(t,i,a){this._readAny([t],t,[i],i,a)}},{key:"_readAny",value:function(t,i,a,l,c){var d=this,p=this.options.loadPath;typeof this.options.loadPath=="function"&&(p=this.options.loadPath(t,a)),p=IV(p),p.then(function(g){if(!g)return c(null,{});var v=d.services.interpolator.interpolate(g,{lng:t.join("+"),ns:a.join("+")});d.loadUrl(v,c,i,l)})}},{key:"loadUrl",value:function(t,i,a,l){var c=this,d=typeof a=="string"?[a]:a,p=typeof l=="string"?[l]:l,g=this.options.parseLoadPayload(d,p);this.options.request(this.options,t,g,function(v,E){if(E&&(E.status>=500&&E.status<600||!E.status))return i("failed loading "+t+"; status code: "+E.status,!0);if(E&&E.status>=400&&E.status<500)return i("failed loading "+t+"; status code: "+E.status,!1);if(!E&&v&&v.message){var T=v.message.toLowerCase(),R=["failed","fetch","network","load"].find(function(k){return T.indexOf(k)>-1});if(R)return i("failed loading "+t+": "+v.message,!0)}if(v)return i(v,!1);var O,U;try{typeof E.data=="string"?O=c.options.parse(E.data,a,l):O=E.data}catch{U="failed parsing "+t+" to json"}if(U)return i(U,!1);i(null,O)})}},{key:"create",value:function(t,i,a,l,c){var d=this;if(this.options.addPath){typeof t=="string"&&(t=[t]);var p=this.options.parsePayload(i,a,l),g=0,v=[],E=[];t.forEach(function(T){var R=d.options.addPath;typeof d.options.addPath=="function"&&(R=d.options.addPath(T,i));var O=d.services.interpolator.interpolate(R,{lng:T,ns:i});d.options.request(d.options,O,p,function(U,k){g+=1,v.push(U),E.push(k),g===t.length&&typeof c=="function"&&c(v,E)})})}}},{key:"reload",value:function(){var t=this,i=this.services,a=i.backendConnector,l=i.languageUtils,c=i.logger,d=a.language;if(!(d&&d.toLowerCase()==="cimode")){var p=[],g=function(E){var T=l.toResolveHierarchy(E);T.forEach(function(R){p.indexOf(R)<0&&p.push(R)})};g(d),this.allOptions.preload&&this.allOptions.preload.forEach(function(v){return g(v)}),p.forEach(function(v){t.allOptions.ns.forEach(function(E){a.read(v,E,"read",null,null,function(T,R){T&&c.warn("loading namespace ".concat(E," for language ").concat(v," failed"),T),!T&&R&&c.log("loaded namespace ".concat(E," for language ").concat(v),R),a.loaded("".concat(v,"|").concat(E),T,R)})})})}}}])}();Qw.type="backend";gn.use(Qw).use(qw).use(YR).init({supportedLngs:["en","pl"],fallbackLng:"pl",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","cookie"],caches:["localStorage"],lookupLocalStorage:"i18nextLng",excludeCacheFor:["cimode"]},backend:{loadPath:"/30-day-coffee-challenge/locales/{{lng}}/translation.json"}});tR.createRoot(document.getElementById("root")).render(j.jsx(H.StrictMode,{children:j.jsx(zx,{basename:"/30-day-coffee-challenge",children:j.jsx(XP,{})})}));export{qV as c,_A as g};
