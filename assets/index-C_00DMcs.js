(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var tL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function OA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qp={exports:{}},su={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function DA(){if(i0)return su;i0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return su.Fragment=e,su.jsx=t,su.jsxs=t,su}var s0;function NA(){return s0||(s0=1,qp.exports=DA()),qp.exports}var j=NA(),$p={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function kA(){if(a0)return Be;a0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function T(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,M={};function k(L,se,be){this.props=L,this.context=se,this.refs=M,this.updater=be||R}k.prototype.isReactComponent={},k.prototype.setState=function(L,se){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,se,"setState")},k.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function $(){}$.prototype=k.prototype;function B(L,se,be){this.props=L,this.context=se,this.refs=M,this.updater=be||R}var G=B.prototype=new $;G.constructor=B,O(G,k.prototype),G.isPureReactComponent=!0;var re=Array.isArray,ie={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function D(L,se,be,pe,me,ze){return be=ze.ref,{$$typeof:n,type:L,key:se,ref:be!==void 0?be:null,props:ze}}function x(L,se){return D(L.type,se,void 0,void 0,void 0,L.props)}function A(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function C(L){var se={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(be){return se[be]})}var P=/\/+/g;function V(L,se){return typeof L=="object"&&L!==null&&L.key!=null?C(""+L.key):se.toString(36)}function I(){}function xe(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(I,I):(L.status="pending",L.then(function(se){L.status==="pending"&&(L.status="fulfilled",L.value=se)},function(se){L.status==="pending"&&(L.status="rejected",L.reason=se)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Ce(L,se,be,pe,me){var ze=typeof L;(ze==="undefined"||ze==="boolean")&&(L=null);var Pe=!1;if(L===null)Pe=!0;else switch(ze){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(L.$$typeof){case n:case e:Pe=!0;break;case v:return Pe=L._init,Ce(Pe(L._payload),se,be,pe,me)}}if(Pe)return me=me(L),Pe=pe===""?"."+V(L,0):pe,re(me)?(be="",Pe!=null&&(be=Pe.replace(P,"$&/")+"/"),Ce(me,se,be,"",function(pt){return pt})):me!=null&&(A(me)&&(me=x(me,be+(me.key==null||L&&L.key===me.key?"":(""+me.key).replace(P,"$&/")+"/")+Pe)),se.push(me)),1;Pe=0;var yt=pe===""?".":pe+":";if(re(L))for(var Qe=0;Qe<L.length;Qe++)pe=L[Qe],ze=yt+V(pe,Qe),Pe+=Ce(pe,se,be,ze,me);else if(Qe=T(L),typeof Qe=="function")for(L=Qe.call(L),Qe=0;!(pe=L.next()).done;)pe=pe.value,ze=yt+V(pe,Qe++),Pe+=Ce(pe,se,be,ze,me);else if(ze==="object"){if(typeof L.then=="function")return Ce(xe(L),se,be,pe,me);throw se=String(L),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function le(L,se,be){if(L==null)return L;var pe=[],me=0;return Ce(L,pe,"","",function(ze){return se.call(be,ze,me++)}),pe}function ge(L){if(L._status===-1){var se=L._result;se=se(),se.then(function(be){(L._status===0||L._status===-1)&&(L._status=1,L._result=be)},function(be){(L._status===0||L._status===-1)&&(L._status=2,L._result=be)}),L._status===-1&&(L._status=0,L._result=se)}if(L._status===1)return L._result.default;throw L._result}var ye=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Ie(){}return Be.Children={map:le,forEach:function(L,se,be){le(L,function(){se.apply(this,arguments)},be)},count:function(L){var se=0;return le(L,function(){se++}),se},toArray:function(L){return le(L,function(se){return se})||[]},only:function(L){if(!A(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Be.Component=k,Be.Fragment=t,Be.Profiler=a,Be.PureComponent=B,Be.StrictMode=i,Be.Suspense=p,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Be.act=function(){throw Error("act(...) is not supported in production builds of React.")},Be.cache=function(L){return function(){return L.apply(null,arguments)}},Be.cloneElement=function(L,se,be){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var pe=O({},L.props),me=L.key,ze=void 0;if(se!=null)for(Pe in se.ref!==void 0&&(ze=void 0),se.key!==void 0&&(me=""+se.key),se)!de.call(se,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&se.ref===void 0||(pe[Pe]=se[Pe]);var Pe=arguments.length-2;if(Pe===1)pe.children=be;else if(1<Pe){for(var yt=Array(Pe),Qe=0;Qe<Pe;Qe++)yt[Qe]=arguments[Qe+2];pe.children=yt}return D(L.type,me,void 0,void 0,ze,pe)},Be.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Be.createElement=function(L,se,be){var pe,me={},ze=null;if(se!=null)for(pe in se.key!==void 0&&(ze=""+se.key),se)de.call(se,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(me[pe]=se[pe]);var Pe=arguments.length-2;if(Pe===1)me.children=be;else if(1<Pe){for(var yt=Array(Pe),Qe=0;Qe<Pe;Qe++)yt[Qe]=arguments[Qe+2];me.children=yt}if(L&&L.defaultProps)for(pe in Pe=L.defaultProps,Pe)me[pe]===void 0&&(me[pe]=Pe[pe]);return D(L,ze,void 0,void 0,null,me)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(L){return{$$typeof:d,render:L}},Be.isValidElement=A,Be.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:ge}},Be.memo=function(L,se){return{$$typeof:g,type:L,compare:se===void 0?null:se}},Be.startTransition=function(L){var se=ie.T,be={};ie.T=be;try{var pe=L(),me=ie.S;me!==null&&me(be,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(Ie,ye)}catch(ze){ye(ze)}finally{ie.T=se}},Be.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Be.use=function(L){return ie.H.use(L)},Be.useActionState=function(L,se,be){return ie.H.useActionState(L,se,be)},Be.useCallback=function(L,se){return ie.H.useCallback(L,se)},Be.useContext=function(L){return ie.H.useContext(L)},Be.useDebugValue=function(){},Be.useDeferredValue=function(L,se){return ie.H.useDeferredValue(L,se)},Be.useEffect=function(L,se){return ie.H.useEffect(L,se)},Be.useId=function(){return ie.H.useId()},Be.useImperativeHandle=function(L,se,be){return ie.H.useImperativeHandle(L,se,be)},Be.useInsertionEffect=function(L,se){return ie.H.useInsertionEffect(L,se)},Be.useLayoutEffect=function(L,se){return ie.H.useLayoutEffect(L,se)},Be.useMemo=function(L,se){return ie.H.useMemo(L,se)},Be.useOptimistic=function(L,se){return ie.H.useOptimistic(L,se)},Be.useReducer=function(L,se,be){return ie.H.useReducer(L,se,be)},Be.useRef=function(L){return ie.H.useRef(L)},Be.useState=function(L){return ie.H.useState(L)},Be.useSyncExternalStore=function(L,se,be){return ie.H.useSyncExternalStore(L,se,be)},Be.useTransition=function(){return ie.H.useTransition()},Be.version="19.0.0",Be}var o0;function rg(){return o0||(o0=1,$p.exports=kA()),$p.exports}var H=rg();const ke=OA(H);var au={},l0;function PA(){if(l0)return au;l0=1,Object.defineProperty(au,"__esModule",{value:!0}),au.parse=c,au.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,R){const O=new l,M=T.length;if(M<2)return O;const k=(R==null?void 0:R.decode)||v;let $=0;do{const B=T.indexOf("=",$);if(B===-1)break;const G=T.indexOf(";",$),re=G===-1?M:G;if(B>re){$=T.lastIndexOf(";",B-1)+1;continue}const ie=d(T,$,B),de=p(T,B,ie),D=T.slice(ie,de);if(O[D]===void 0){let x=d(T,B+1,re),A=p(T,re,x);const C=k(T.slice(x,A));O[D]=C}$=re+1}while($<M);return O}function d(T,R,O){do{const M=T.charCodeAt(R);if(M!==32&&M!==9)return R}while(++R<O);return O}function p(T,R,O){for(;R>O;){const M=T.charCodeAt(--R);if(M!==32&&M!==9)return R+1}return O}function g(T,R,O){const M=(O==null?void 0:O.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const k=M(R);if(!e.test(k))throw new TypeError(`argument val is invalid: ${R}`);let $=T+"="+k;if(!O)return $;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);$+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);$+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);$+="; Path="+O.path}if(O.expires){if(!E(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);$+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&($+="; HttpOnly"),O.secure&&($+="; Secure"),O.partitioned&&($+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return $}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function E(T){return a.call(T)==="[object Date]"}return au}PA();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var u0="popstate";function VA(n={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return pm("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Tu(a)}return MA(e,t,null,n)}function Et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Fr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LA(){return Math.random().toString(36).substring(2,10)}function c0(n,e){return{usr:n.state,key:n.key,idx:e}}function pm(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xo(e):e,state:t,key:e&&e.key||i||LA()}}function Tu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function MA(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function E(){d="POP";let k=v(),$=k==null?null:k-g;g=k,p&&p({action:d,location:M.location,delta:$})}function T(k,$){d="PUSH";let B=pm(M.location,k,$);g=v()+1;let G=c0(B,g),re=M.createHref(B);try{c.pushState(G,"",re)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;a.location.assign(re)}l&&p&&p({action:d,location:M.location,delta:1})}function R(k,$){d="REPLACE";let B=pm(M.location,k,$);g=v();let G=c0(B,g),re=M.createHref(B);c.replaceState(G,"",re),l&&p&&p({action:d,location:M.location,delta:0})}function O(k){let $=a.location.origin!=="null"?a.location.origin:a.location.href,B=typeof k=="string"?k:Tu(k);return B=B.replace(/ $/,"%20"),Et($,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,$)}let M={get action(){return d},get location(){return n(a,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(u0,E),p=k,()=>{a.removeEventListener(u0,E),p=null}},createHref(k){return e(a,k)},createURL:O,encodeLocation(k){let $=O(k);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:T,replace:R,go(k){return c.go(k)}};return M}function LE(n,e,t="/"){return UA(n,e,t,!1)}function UA(n,e,t,i){let a=typeof e=="string"?Xo(e):e,l=Is(a.pathname||"/",t);if(l==null)return null;let c=ME(n);jA(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=XA(l);d=QA(c[p],g,i)}return d}function ME(n,e=[],t=[],i=""){let a=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(Et(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let g=Si([i,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(Et(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),ME(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:GA(g,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let p of UE(l.path))a(l,c,p)}),e}function UE(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=UE(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function jA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:KA(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var zA=/^:[\w-]+$/,BA=3,FA=2,HA=1,qA=10,$A=-2,f0=n=>n==="*";function GA(n,e){let t=n.split("/"),i=t.length;return t.some(f0)&&(i+=$A),e&&(i+=FA),t.filter(a=>!f0(a)).reduce((a,l)=>a+(zA.test(l)?BA:l===""?HA:qA),i)}function KA(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function QA(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=Bf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),T=p.route;if(!E&&g&&t&&!i[i.length-1].route.index&&(E=Bf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:Si([l,E.pathname]),pathnameBase:ex(Si([l,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(l=Si([l,E.pathnameBase]))}return c}function Bf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=YA(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:E},T)=>{if(v==="*"){let O=d[T]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const R=d[T];return E&&!R?g[v]=void 0:g[v]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function YA(n,e=!1,t=!0){Fr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function XA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Is(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function WA(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Xo(n):n;return{pathname:t?t.startsWith("/")?t:ZA(t,e):e,search:tx(i),hash:nx(a)}}function ZA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Gp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function jE(n){let e=JA(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function zE(n,e,t,i=!1){let a;typeof n=="string"?a=Xo(n):(a={...n},Et(!a.pathname||!a.pathname.includes("?"),Gp("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),Gp("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),Gp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;a.pathname=T.join("/")}d=E>=0?e[E]:"/"}let p=WA(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Si=n=>n.join("/").replace(/\/\/+/g,"/"),ex=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),tx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function rx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var BE=["POST","PUT","PATCH","DELETE"];new Set(BE);var ix=["GET",...BE];new Set(ix);var Wo=H.createContext(null);Wo.displayName="DataRouter";var yh=H.createContext(null);yh.displayName="DataRouterState";var FE=H.createContext({isTransitioning:!1});FE.displayName="ViewTransition";var sx=H.createContext(new Map);sx.displayName="Fetchers";var ax=H.createContext(null);ax.displayName="Await";var $r=H.createContext(null);$r.displayName="Navigation";var Vu=H.createContext(null);Vu.displayName="Location";var Gr=H.createContext({outlet:null,matches:[],isDataRoute:!1});Gr.displayName="Route";var ig=H.createContext(null);ig.displayName="RouteError";function ox(n,{relative:e}={}){Et(Lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=H.useContext($r),{hash:a,pathname:l,search:c}=Mu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Si([t,l])),i.createHref({pathname:d,search:c,hash:a})}function Lu(){return H.useContext(Vu)!=null}function Na(){return Et(Lu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Vu).location}var HE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qE(n){H.useContext($r).static||H.useLayoutEffect(n)}function lx(){let{isDataRoute:n}=H.useContext(Gr);return n?wx():ux()}function ux(){Et(Lu(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(Wo),{basename:e,navigator:t}=H.useContext($r),{matches:i}=H.useContext(Gr),{pathname:a}=Na(),l=JSON.stringify(jE(i)),c=H.useRef(!1);return qE(()=>{c.current=!0}),H.useCallback((p,g={})=>{if(Fr(c.current,HE),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=zE(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Si([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,n])}var cx=H.createContext(null);function fx(n){let e=H.useContext(Gr).outlet;return e&&H.createElement(cx.Provider,{value:n},e)}function Mu(n,{relative:e}={}){let{matches:t}=H.useContext(Gr),{pathname:i}=Na(),a=JSON.stringify(jE(t));return H.useMemo(()=>zE(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function hx(n,e){return $E(n,e)}function $E(n,e,t,i){var B;Et(Lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=H.useContext($r),{matches:c}=H.useContext(Gr),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",E=d&&d.route;{let G=E&&E.path||"";GE(g,!E||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let T=Na(),R;if(e){let G=typeof e=="string"?Xo(e):e;Et(v==="/"||((B=G.pathname)==null?void 0:B.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${G.pathname}" was given in the \`location\` prop.`),R=G}else R=T;let O=R.pathname||"/",M=O;if(v!=="/"){let G=v.replace(/^\//,"").split("/");M="/"+O.replace(/^\//,"").split("/").slice(G.length).join("/")}let k=!l&&t&&t.matches&&t.matches.length>0?t.matches:LE(n,{pathname:M});Fr(E||k!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Fr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=yx(k&&k.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:Si([v,a.encodeLocation?a.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?v:Si([v,a.encodeLocation?a.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),c,t,i);return e&&$?H.createElement(Vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},$):$}function dx(){let n=Tx(),e=rx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:l},"ErrorBoundary")," or"," ",H.createElement("code",{style:l},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:a},t):null,c)}var px=H.createElement(dx,null),mx=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?H.createElement(Gr.Provider,{value:this.props.routeContext},H.createElement(ig.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gx({routeContext:n,match:e,children:t}){let i=H.useContext(Wo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Gr.Provider,{value:n},t)}function yx(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Et(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:E}=t,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||T){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,g,v)=>{let E,T=!1,R=null,O=null;t&&(E=l&&g.route.id?l[g.route.id]:void 0,R=g.route.errorElement||px,c&&(d<0&&v===0?(GE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,O=null):d===v&&(T=!0,O=g.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,v+1)),k=()=>{let $;return E?$=R:T?$=O:g.route.Component?$=H.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,H.createElement(gx,{match:g,routeContext:{outlet:p,matches:M,isDataRoute:t!=null},children:$})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?H.createElement(mx,{location:t.location,revalidation:t.revalidation,component:R,error:E,children:k(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):k()},null)}function sg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vx(n){let e=H.useContext(Wo);return Et(e,sg(n)),e}function _x(n){let e=H.useContext(yh);return Et(e,sg(n)),e}function bx(n){let e=H.useContext(Gr);return Et(e,sg(n)),e}function ag(n){let e=bx(n),t=e.matches[e.matches.length-1];return Et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Ex(){return ag("useRouteId")}function Tx(){var i;let n=H.useContext(ig),e=_x("useRouteError"),t=ag("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function wx(){let{router:n}=vx("useNavigate"),e=ag("useNavigate"),t=H.useRef(!1);return qE(()=>{t.current=!0}),H.useCallback(async(a,l={})=>{Fr(t.current,HE),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var h0={};function GE(n,e,t){!e&&!h0[n]&&(h0[n]=!0,Fr(!1,t))}H.memo(Sx);function Sx({routes:n,future:e,state:t}){return $E(n,void 0,t,e)}function Ax(n){return fx(n.context)}function ms(n){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xx({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){Et(!Lu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=H.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Xo(t));let{pathname:p="/",search:g="",hash:v="",state:E=null,key:T="default"}=t,R=H.useMemo(()=>{let O=Is(p,c);return O==null?null:{location:{pathname:O,search:g,hash:v,state:E,key:T},navigationType:i}},[c,p,g,v,E,T,i]);return Fr(R!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:H.createElement($r.Provider,{value:d},H.createElement(Vu.Provider,{children:e,value:R}))}function Rx({children:n,location:e}){return hx(mm(n),e)}function mm(n,e=[]){let t=[];return H.Children.forEach(n,(i,a)=>{if(!H.isValidElement(i))return;let l=[...e,a];if(i.type===H.Fragment){t.push.apply(t,mm(i.props.children,l));return}Et(i.type===ms,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=mm(i.props.children,l)),t.push(c)}),t}var Cf="get",If="application/x-www-form-urlencoded";function vh(n){return n!=null&&typeof n.tagName=="string"}function Cx(n){return vh(n)&&n.tagName.toLowerCase()==="button"}function Ix(n){return vh(n)&&n.tagName.toLowerCase()==="form"}function Ox(n){return vh(n)&&n.tagName.toLowerCase()==="input"}function Dx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Nx(n,e){return n.button===0&&(!e||e==="_self")&&!Dx(n)}var yf=null;function kx(){if(yf===null)try{new FormData(document.createElement("form"),0),yf=!1}catch{yf=!0}return yf}var Px=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kp(n){return n!=null&&!Px.has(n)?(Fr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${If}"`),null):n}function Vx(n,e){let t,i,a,l,c;if(Ix(n)){let d=n.getAttribute("action");i=d?Is(d,e):null,t=n.getAttribute("method")||Cf,a=Kp(n.getAttribute("enctype"))||If,l=new FormData(n)}else if(Cx(n)||Ox(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Is(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Cf,a=Kp(n.getAttribute("formenctype"))||Kp(d.getAttribute("enctype"))||If,l=new FormData(d,n),!kx()){let{name:g,type:v,value:E}=n;if(v==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,E)}}else{if(vh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Cf,i=null,a=If,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function og(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Lx(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Mx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Ux(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await Lx(l,t);return c.links?c.links():[]}return[]}));return Fx(i.flat(1).filter(Mx).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function d0(n,e,t,i,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var E;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function jx(n,e,{includeHydrateFallback:t}={}){return zx(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function zx(n){return[...new Set(n)]}function Bx(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Fx(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(Bx(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function Hx(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function qx(){let n=H.useContext(Wo);return og(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function $x(){let n=H.useContext(yh);return og(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var lg=H.createContext(void 0);lg.displayName="FrameworkContext";function KE(){let n=H.useContext(lg);return og(n,"You must render this element inside a <HydratedRouter> element"),n}function Gx(n,e){let t=H.useContext(lg),[i,a]=H.useState(!1),[l,c]=H.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=e,T=H.useRef(null);H.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let M=$=>{$.forEach(B=>{c(B.isIntersecting)})},k=new IntersectionObserver(M,{threshold:.5});return T.current&&k.observe(T.current),()=>{k.disconnect()}}},[n]),H.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let R=()=>{a(!0)},O=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:ou(d,R),onBlur:ou(p,O),onMouseEnter:ou(g,R),onMouseLeave:ou(v,O),onTouchStart:ou(E,R)}]:[!1,T,{}]}function ou(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Kx({page:n,...e}){let{router:t}=qx(),i=H.useMemo(()=>LE(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?H.createElement(Yx,{page:n,matches:i,...e}):null}function Qx(n){let{manifest:e,routeModules:t}=KE(),[i,a]=H.useState([]);return H.useEffect(()=>{let l=!1;return Ux(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function Yx({page:n,matches:e,...t}){let i=Na(),{manifest:a,routeModules:l}=KE(),{loaderData:c,matches:d}=$x(),p=H.useMemo(()=>d0(n,e,d,a,i,"data"),[n,e,d,a,i]),g=H.useMemo(()=>d0(n,e,d,a,i,"assets"),[n,e,d,a,i]),v=H.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,O=!1;if(e.forEach(k=>{var B;let $=a.routes[k.route.id];!$||!$.hasLoader||(!p.some(G=>G.route.id===k.route.id)&&k.route.id in c&&((B=l[k.route.id])!=null&&B.shouldRevalidate)||$.hasClientLoader?O=!0:R.add(k.route.id))}),R.size===0)return[];let M=Hx(n);return O&&R.size>0&&M.searchParams.set("_routes",e.filter(k=>R.has(k.route.id)).map(k=>k.route.id).join(",")),[M.pathname+M.search]},[c,i,a,p,e,n,l]),E=H.useMemo(()=>jx(g,a),[g,a]),T=Qx(g);return H.createElement(H.Fragment,null,v.map(R=>H.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),E.map(R=>H.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),T.map(({key:R,link:O})=>H.createElement("link",{key:R,...O})))}function Xx(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var QE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QE&&(window.__reactRouterVersion="7.2.0")}catch{}function Wx({basename:n,children:e,window:t}){let i=H.useRef();i.current==null&&(i.current=VA({window:t,v5Compat:!0}));let a=i.current,[l,c]=H.useState({action:a.action,location:a.location}),d=H.useCallback(p=>{H.startTransition(()=>c(p))},[c]);return H.useLayoutEffect(()=>a.listen(d),[a,d]),H.createElement(xx,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var YE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ft=H.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:E,...T},R){let{basename:O}=H.useContext($r),M=typeof g=="string"&&YE.test(g),k,$=!1;if(typeof g=="string"&&M&&(k=g,QE))try{let A=new URL(window.location.href),C=g.startsWith("//")?new URL(A.protocol+g):new URL(g),P=Is(C.pathname,O);C.origin===A.origin&&P!=null?g=P+C.search+C.hash:$=!0}catch{Fr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=ox(g,{relative:a}),[G,re,ie]=Gx(i,T),de=tR(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:a,viewTransition:E});function D(A){e&&e(A),A.defaultPrevented||de(A)}let x=H.createElement("a",{...T,...ie,href:k||B,onClick:$||l?e:D,ref:Xx(R,re),target:p,"data-discover":!M&&t==="render"?"true":void 0});return G&&!M?H.createElement(H.Fragment,null,x,H.createElement(Kx,{page:B})):x});Ft.displayName="Link";var Zx=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let E=Mu(c,{relative:g.relative}),T=Na(),R=H.useContext(yh),{navigator:O,basename:M}=H.useContext($r),k=R!=null&&aR(E)&&d===!0,$=O.encodeLocation?O.encodeLocation(E).pathname:E.pathname,B=T.pathname,G=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(B=B.toLowerCase(),G=G?G.toLowerCase():null,$=$.toLowerCase()),G&&M&&(G=Is(G,M)||G);const re=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ie=B===$||!a&&B.startsWith($)&&B.charAt(re)==="/",de=G!=null&&(G===$||!a&&G.startsWith($)&&G.charAt($.length)==="/"),D={isActive:ie,isPending:de,isTransitioning:k},x=ie?e:void 0,A;typeof i=="function"?A=i(D):A=[i,ie?"active":null,de?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(D):l;return H.createElement(Ft,{...g,"aria-current":x,className:A,ref:v,style:C,to:c,viewTransition:d},typeof p=="function"?p(D):p)});Zx.displayName="NavLink";var Jx=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Cf,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:E,...T},R)=>{let O=iR(),M=sR(d,{relative:g}),k=c.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&YE.test(d),B=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let re=G.nativeEvent.submitter,ie=(re==null?void 0:re.getAttribute("formmethod"))||c;O(re||G.currentTarget,{fetcherKey:e,method:ie,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:E})};return H.createElement("form",{ref:R,method:k,action:M,onSubmit:i?p:B,...T,"data-discover":!$&&n==="render"?"true":void 0})});Jx.displayName="Form";function eR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XE(n){let e=H.useContext(Wo);return Et(e,eR(n)),e}function tR(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=lx(),p=Na(),g=Mu(n,{relative:l});return H.useCallback(v=>{if(Nx(v,e)){v.preventDefault();let E=t!==void 0?t:Tu(p)===Tu(g);d(n,{replace:E,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,g,t,i,e,n,a,l,c])}var nR=0,rR=()=>`__${String(++nR)}__`;function iR(){let{router:n}=XE("useSubmit"),{basename:e}=H.useContext($r),t=Ex();return H.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=Vx(i,e);if(a.navigate===!1){let v=a.fetcherKey||rR();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function sR(n,{relative:e}={}){let{basename:t}=H.useContext($r),i=H.useContext(Gr);Et(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Mu(n||".",{relative:e})},c=Na();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Si([t,l.pathname])),Tu(l)}function aR(n,e={}){let t=H.useContext(FE);Et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=XE("useViewTransitionState"),a=Mu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Is(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Is(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Bf(a.pathname,c)!=null||Bf(a.pathname,l)!=null}new TextEncoder;var Qp={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function oR(){if(p0)return fn;p0=1;var n=rg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,fn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},fn.flushSync=function(p){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=g,i.p=v,i.d.f()}},fn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},fn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},fn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:R}):v==="script"&&i.d.X(p,{crossOrigin:E,integrity:T,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},fn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},fn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},fn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},fn.requestFormReset=function(p){i.d.r(p)},fn.unstable_batchedUpdates=function(p,g){return p(g)},fn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},fn.version="19.0.0",fn}var m0;function WE(){if(m0)return Qp.exports;m0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qp.exports=oR(),Qp.exports}WE();var Yp={exports:{}},lu={},Xp={exports:{}},Wp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function lR(){return g0||(g0=1,function(n){function e(le,ge){var ye=le.length;le.push(ge);e:for(;0<ye;){var Ie=ye-1>>>1,L=le[Ie];if(0<a(L,ge))le[Ie]=ge,le[ye]=L,ye=Ie;else break e}}function t(le){return le.length===0?null:le[0]}function i(le){if(le.length===0)return null;var ge=le[0],ye=le.pop();if(ye!==ge){le[0]=ye;e:for(var Ie=0,L=le.length,se=L>>>1;Ie<se;){var be=2*(Ie+1)-1,pe=le[be],me=be+1,ze=le[me];if(0>a(pe,ye))me<L&&0>a(ze,pe)?(le[Ie]=ze,le[me]=ye,Ie=me):(le[Ie]=pe,le[be]=ye,Ie=be);else if(me<L&&0>a(ze,ye))le[Ie]=ze,le[me]=ye,Ie=me;else break e}}return ge}function a(le,ge){var ye=le.sortIndex-ge.sortIndex;return ye!==0?ye:le.id-ge.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,E=null,T=3,R=!1,O=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function G(le){for(var ge=t(g);ge!==null;){if(ge.callback===null)i(g);else if(ge.startTime<=le)i(g),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=t(g)}}function re(le){if(M=!1,G(le),!O)if(t(p)!==null)O=!0,xe();else{var ge=t(g);ge!==null&&Ce(re,ge.startTime-le)}}var ie=!1,de=-1,D=5,x=-1;function A(){return!(n.unstable_now()-x<D)}function C(){if(ie){var le=n.unstable_now();x=le;var ge=!0;try{e:{O=!1,M&&(M=!1,$(de),de=-1),R=!0;var ye=T;try{t:{for(G(le),E=t(p);E!==null&&!(E.expirationTime>le&&A());){var Ie=E.callback;if(typeof Ie=="function"){E.callback=null,T=E.priorityLevel;var L=Ie(E.expirationTime<=le);if(le=n.unstable_now(),typeof L=="function"){E.callback=L,G(le),ge=!0;break t}E===t(p)&&i(p),G(le)}else i(p);E=t(p)}if(E!==null)ge=!0;else{var se=t(g);se!==null&&Ce(re,se.startTime-le),ge=!1}}break e}finally{E=null,T=ye,R=!1}ge=void 0}}finally{ge?P():ie=!1}}}var P;if(typeof B=="function")P=function(){B(C)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,I=V.port2;V.port1.onmessage=C,P=function(){I.postMessage(null)}}else P=function(){k(C,0)};function xe(){ie||(ie=!0,P())}function Ce(le,ge){de=k(function(){le(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){O||R||(O=!0,xe())},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(le){switch(T){case 1:case 2:case 3:var ge=3;break;default:ge=T}var ye=T;T=ge;try{return le()}finally{T=ye}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,ge){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ye=T;T=le;try{return ge()}finally{T=ye}},n.unstable_scheduleCallback=function(le,ge,ye){var Ie=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ie+ye:Ie):ye=Ie,le){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ye+L,le={id:v++,callback:ge,priorityLevel:le,startTime:ye,expirationTime:L,sortIndex:-1},ye>Ie?(le.sortIndex=ye,e(g,le),t(p)===null&&le===t(g)&&(M?($(de),de=-1):M=!0,Ce(re,ye-Ie))):(le.sortIndex=L,e(p,le),O||R||(O=!0,xe())),le},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(le){var ge=T;return function(){var ye=T;T=ge;try{return le.apply(this,arguments)}finally{T=ye}}}}(Wp)),Wp}var y0;function uR(){return y0||(y0=1,Xp.exports=lR()),Xp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function cR(){if(v0)return lu;v0=1;var n=uR(),e=rg(),t=WE();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),re=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function de(r){return r===null||typeof r!="object"?null:(r=ie&&r[ie]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function x(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case p:return"Fragment";case d:return"Portal";case v:return"Profiler";case g:return"StrictMode";case M:return"Suspense";case k:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case R:return(r.displayName||"Context")+".Provider";case T:return(r._context.displayName||"Context")+".Consumer";case O:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case $:return s=r.displayName||null,s!==null?s:x(r.type)||"Memo";case B:s=r._payload,r=r._init;try{return x(r(s))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,P,V;function I(r){if(P===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);P=s&&s[1]||"",V=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+r+V}var xe=!1;function Ce(r,s){if(!r||xe)return"";xe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var X=J}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(J){X=J}r.call(ae.prototype)}}else{try{throw Error()}catch(J){X=J}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var N=b.split(`
`),F=w.split(`
`);for(h=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(u===N.length||h===F.length)for(u=N.length-1,h=F.length-1;1<=u&&0<=h&&N[u]!==F[h];)h--;for(;1<=u&&0<=h;u--,h--)if(N[u]!==F[h]){if(u!==1||h!==1)do if(u--,h--,0>h||N[u]!==F[h]){var ee=`
`+N[u].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),ee}while(1<=u&&0<=h);break}}}finally{xe=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?I(o):""}function le(r){switch(r.tag){case 26:case 27:case 5:return I(r.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return r=Ce(r.type,!1),r;case 11:return r=Ce(r.type.render,!1),r;case 1:return r=Ce(r.type,!0),r;default:return""}}function ge(r){try{var s="";do s+=le(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ye(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function Ie(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function L(r){if(ye(r)!==r)throw Error(i(188))}function se(r){var s=r.alternate;if(!s){if(s=ye(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return L(h),r;if(m===u)return L(h),s;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=m;else{for(var b=!1,w=h.child;w;){if(w===o){b=!0,o=h,u=m;break}if(w===u){b=!0,u=h,o=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===o){b=!0,o=m,u=h;break}if(w===u){b=!0,u=m,o=h;break}w=w.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function be(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=be(r),s!==null)return s;r=r.sibling}return null}var pe=Array.isArray,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ze={pending:!1,data:null,method:null,action:null},Pe=[],yt=-1;function Qe(r){return{current:r}}function pt(r){0>yt||(r.current=Pe[yt],Pe[yt]=null,yt--)}function st(r,s){yt++,Pe[yt]=r.current,r.current=s}var Gt=Qe(null),rr=Qe(null),yn=Qe(null),ir=Qe(null);function Kr(r,s){switch(st(yn,s),st(rr,r),st(Gt,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?k_(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=k_(r),s=P_(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}pt(Gt),st(Gt,s)}function mr(){pt(Gt),pt(rr),pt(yn)}function Ma(r){r.memoizedState!==null&&st(ir,r);var s=Gt.current,o=P_(s,r.type);s!==o&&(st(rr,r),st(Gt,o))}function U(r){rr.current===r&&(pt(Gt),pt(rr)),ir.current===r&&(pt(ir),eu._currentValue=ze)}var Y=Object.prototype.hasOwnProperty,Z=n.unstable_scheduleCallback,he=n.unstable_cancelCallback,fe=n.unstable_shouldYield,ue=n.unstable_requestPaint,_e=n.unstable_now,je=n.unstable_getCurrentPriorityLevel,qe=n.unstable_ImmediatePriority,Ge=n.unstable_UserBlockingPriority,Kt=n.unstable_NormalPriority,Ua=n.unstable_LowPriority,Qr=n.unstable_IdlePriority,Bs=n.log,Yr=n.unstable_setDisableYieldValue,sr=null,Qt=null;function ki(r){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(sr,r,void 0,(r.current.flags&128)===128)}catch{}}function gr(r){if(typeof Bs=="function"&&Yr(r),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(sr,r)}catch{}}var vn=Math.clz32?Math.clz32:Zu,il=Math.log,Wu=Math.LN2;function Zu(r){return r>>>=0,r===0?32:31-(il(r)/Wu|0)|0}var yr=128,Pi=4194304;function ar(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function zn(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,h=r.suspendedLanes,m=r.pingedLanes,b=r.warmLanes;r=r.finishedLanes!==0;var w=o&134217727;return w!==0?(o=w&~h,o!==0?u=ar(o):(m&=w,m!==0?u=ar(m):r||(b=w&~b,b!==0&&(u=ar(b))))):(w=o&~h,w!==0?u=ar(w):m!==0?u=ar(m):r||(b=o&~b,b!==0&&(u=ar(b)))),u===0?0:s!==0&&s!==u&&(s&h)===0&&(h=u&-u,b=s&-s,h>=b||h===32&&(b&4194176)!==0)?s:u}function Vi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function ja(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sl(){var r=yr;return yr<<=1,(yr&4194176)===0&&(yr=128),r}function Li(){var r=Pi;return Pi<<=1,(Pi&62914560)===0&&(Pi=4194304),r}function za(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Rt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ju(r,s,o,u,h,m){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var w=r.entanglements,N=r.expirationTimes,F=r.hiddenUpdates;for(o=b&~o;0<o;){var ee=31-vn(o),ae=1<<ee;w[ee]=0,N[ee]=-1;var X=F[ee];if(X!==null)for(F[ee]=null,ee=0;ee<X.length;ee++){var J=X[ee];J!==null&&(J.lane&=-536870913)}o&=~ae}u!==0&&Mi(r,u,0),m!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=m&~(b&~s))}function Mi(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-vn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function Ui(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-vn(o),h=1<<u;h&s|r[u]&s&&(r[u]|=s),o&=~h}}function ec(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function tc(){var r=me.p;return r!==0?r:(r=window.event,r===void 0?32:Z_(r.type))}function ji(r,s){var o=me.p;try{return me.p=r,s()}finally{me.p=o}}var vr=Math.random().toString(36).slice(2),Yt="__reactFiber$"+vr,Lt="__reactProps$"+vr,Xr="__reactContainer$"+vr,Fs="__reactEvents$"+vr,Ba="__reactListeners$"+vr,_r="__reactHandles$"+vr,al="__reactResources$"+vr,zi="__reactMarker$"+vr;function Hs(r){delete r[Yt],delete r[Lt],delete r[Fs],delete r[Ba],delete r[_r]}function or(r){var s=r[Yt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Xr]||o[Yt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=M_(r);r!==null;){if(o=r[Yt])return o;r=M_(r)}return s}r=o,o=r.parentNode}return null}function Wr(r){if(r=r[Yt]||r[Xr]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Bi(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Fi(r){var s=r[al];return s||(s=r[al]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function vt(r){r[zi]=!0}var ol=new Set,Fa={};function Nn(r,s){xn(r,s),xn(r+"Capture",s)}function xn(r,s){for(Fa[r]=s,r=0;r<s.length;r++)ol.add(s[r])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ll={},ul={};function nc(r){return Y.call(ul,r)?!0:Y.call(ll,r)?!1:Qh.test(r)?ul[r]=!0:(ll[r]=!0,!1)}function Hi(r,s,o){if(nc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function qi(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Bn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function _n(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function rc(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Yh(r){var s=rc(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(b){u=""+b,m.call(this,b)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function qs(r){r._valueTracker||(r._valueTracker=Yh(r))}function cl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=rc(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Ha(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Zr=/[\n"\\]/g;function wt(r){return r.replace(Zr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function $i(r,s,o,u,h,m,b,w){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+_n(s)):r.value!==""+_n(s)&&(r.value=""+_n(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?qa(r,b,_n(s)):o!=null?qa(r,b,_n(o)):u!=null&&r.removeAttribute("value"),h==null&&m!=null&&(r.defaultChecked=!!m),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.name=""+_n(w):r.removeAttribute("name")}function $s(r,s,o,u,h,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;o=o!=null?""+_n(o):"",s=s!=null?""+_n(s):o,w||s===r.value||(r.value=s),r.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=w?r.checked:!!u,r.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function qa(r,s,o){s==="number"&&Ha(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function nt(r,s,o,u){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+_n(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function Gs(r,s,o){if(s!=null&&(s=""+_n(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+_n(o):""}function Gi(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(pe(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=_n(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Fn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Xh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fl(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Xh.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function ic(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&fl(r,h,u)}else for(var m in s)s.hasOwnProperty(m)&&fl(r,m,s[m])}function hl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function br(r){return Zh.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Hn=null;function $a(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Jr=null,ei=null;function ti(r){var s=Wr(r);if(s&&(r=s.stateNode)){var o=r[Lt]||null;e:switch(r=s.stateNode,s.type){case"input":if($i(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var h=u[Lt]||null;if(!h)throw Error(i(90));$i(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&cl(u)}break e;case"textarea":Gs(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&nt(r,!!o.multiple,s,!1)}}}var dl=!1;function sc(r,s,o){if(dl)return r(s,o);dl=!0;try{var u=r(s);return u}finally{if(dl=!1,(Jr!==null||ei!==null)&&(Xc(),Jr&&(s=Jr,r=ei,ei=Jr=null,ti(s),r)))for(s=0;s<r.length;s++)ti(r[s])}}function Ks(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Lt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var qn=!1;if(kn)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{qn=!1}var Er=null,Ki=null,ni=null;function pl(){if(ni)return ni;var r,s=Ki,o=s.length,u,h="value"in Er?Er.value:Er.textContent,m=h.length;for(r=0;r<o&&s[r]===h[r];r++);var b=o-r;for(u=1;u<=b&&s[o-u]===h[m-u];u++);return ni=h.slice(r,1<u?1-u:void 0)}function Tr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function wr(){return!0}function ml(){return!1}function Xt(r){function s(o,u,h,m,b){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(o=r[w],this[w]=o?o(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?wr:ml,this.isPropagationStopped=ml,this}return C(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),s}var ot={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=Xt(ot),Ys=C({},ot,{view:0,detail:0}),ac=Xt(Ys),Ka,Qa,Sr,Xs=C({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Sr&&(Sr&&r.type==="mousemove"?(Ka=r.screenX-Sr.screenX,Qa=r.screenY-Sr.screenY):Qa=Ka=0,Sr=r),Ka)},movementY:function(r){return"movementY"in r?r.movementY:Qa}}),$n=Xt(Xs),oc=C({},Xs,{dataTransfer:0}),Jh=Xt(oc),Ws=C({},Ys,{relatedTarget:0}),Ya=Xt(Ws),gl=C({},ot,{animationName:0,elapsedTime:0,pseudoElement:0}),Xa=Xt(gl),lc=C({},ot,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Wa=Xt(lc),ed=C({},ot,{data:0}),yl=Xt(ed),Zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=cc[r])?!!s[r]:!1}function Js(){return vl}var fc=C({},Ys,{key:function(r){if(r.key){var s=Zs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Tr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?uc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(r){return r.type==="keypress"?Tr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Tr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Za=Xt(fc),hc=C({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_l=Xt(hc),ri=C({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),dc=Xt(ri),pc=C({},ot,{propertyName:0,elapsedTime:0,pseudoElement:0}),mc=Xt(pc),gc=C({},Xs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ja=Xt(gc),bn=C({},ot,{newState:0,oldState:0}),yc=Xt(bn),vc=[9,13,27,32],Ar=kn&&"CompositionEvent"in window,f=null;kn&&"documentMode"in document&&(f=document.documentMode);var y=kn&&"TextEvent"in window&&!f,_=kn&&(!Ar||f&&8<f&&11>=f),S=" ",K=!1;function W(r,s){switch(r){case"keyup":return vc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ze=!1;function Mt(r,s){switch(r){case"compositionend":return ce(s);case"keypress":return s.which!==32?null:(K=!0,S);case"textInput":return r=s.data,r===S&&K?null:r;default:return null}}function Je(r,s){if(Ze)return r==="compositionend"||!Ar&&W(r,s)?(r=pl(),ni=Ki=Er=null,Ze=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Wt[r.type]:s==="textarea"}function ii(r,s,o,u){Jr?ei?ei.push(u):ei=[u]:Jr=u,s=tf(s,"onChange"),0<s.length&&(o=new Ga("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var nn=null,xr=null;function bl(r){C_(r,0)}function _c(r){var s=Bi(r);if(cl(s))return r}function ry(r,s){if(r==="change")return s}var iy=!1;if(kn){var td;if(kn){var nd="oninput"in document;if(!nd){var sy=document.createElement("div");sy.setAttribute("oninput","return;"),nd=typeof sy.oninput=="function"}td=nd}else td=!1;iy=td&&(!document.documentMode||9<document.documentMode)}function ay(){nn&&(nn.detachEvent("onpropertychange",oy),xr=nn=null)}function oy(r){if(r.propertyName==="value"&&_c(xr)){var s=[];ii(s,xr,r,$a(r)),sc(bl,s)}}function aS(r,s,o){r==="focusin"?(ay(),nn=s,xr=o,nn.attachEvent("onpropertychange",oy)):r==="focusout"&&ay()}function oS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return _c(xr)}function lS(r,s){if(r==="click")return _c(s)}function uS(r,s){if(r==="input"||r==="change")return _c(s)}function cS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Pn=typeof Object.is=="function"?Object.is:cS;function El(r,s){if(Pn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!Y.call(s,h)||!Pn(r[h],s[h]))return!1}return!0}function ly(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function uy(r,s){var o=ly(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ly(o)}}function cy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?cy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function fy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ha(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Ha(r.document)}return s}function rd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function fS(r,s){var o=fy(s);s=r.focusedElem;var u=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&cy(s.ownerDocument.documentElement,s)){if(u!==null&&rd(s)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var h=s.textContent.length,m=Math.min(u.start,h);u=u.end===void 0?m:Math.min(u.end,h),!o.extend&&m>u&&(h=u,u=m,m=h),h=uy(s,m);var b=uy(s,u);h&&b&&(o.rangeCount!==1||o.anchorNode!==h.node||o.anchorOffset!==h.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),o.removeAllRanges(),m>u?(o.addRange(r),o.extend(b.node,b.offset)):(r.setEnd(b.node,b.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var hS=kn&&"documentMode"in document&&11>=document.documentMode,eo=null,id=null,Tl=null,sd=!1;function hy(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;sd||eo==null||eo!==Ha(u)||(u=eo,"selectionStart"in u&&rd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Tl&&El(Tl,u)||(Tl=u,u=tf(id,"onSelect"),0<u.length&&(s=new Ga("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=eo)))}function ea(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var to={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},ad={},dy={};kn&&(dy=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function ta(r){if(ad[r])return ad[r];if(!to[r])return r;var s=to[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in dy)return ad[r]=s[o];return r}var py=ta("animationend"),my=ta("animationiteration"),gy=ta("animationstart"),dS=ta("transitionrun"),pS=ta("transitionstart"),mS=ta("transitioncancel"),yy=ta("transitionend"),vy=new Map,_y="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function lr(r,s){vy.set(r,s),Nn(s,[r])}var Gn=[],no=0,od=0;function bc(){for(var r=no,s=od=no=0;s<r;){var o=Gn[s];Gn[s++]=null;var u=Gn[s];Gn[s++]=null;var h=Gn[s];Gn[s++]=null;var m=Gn[s];if(Gn[s++]=null,u!==null&&h!==null){var b=u.pending;b===null?h.next=h:(h.next=b.next,b.next=h),u.pending=h}m!==0&&by(o,h,m)}}function Ec(r,s,o,u){Gn[no++]=r,Gn[no++]=s,Gn[no++]=o,Gn[no++]=u,od|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function ld(r,s,o,u){return Ec(r,s,o,u),Tc(r)}function Qi(r,s){return Ec(r,null,null,s),Tc(r)}function by(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(h=!0)),r=m,m=m.return;h&&s!==null&&r.tag===3&&(m=r.stateNode,h=31-vn(o),m=m.hiddenUpdates,r=m[h],r===null?m[h]=[s]:r.push(s),s.lane=o|536870912)}function Tc(r){if(50<Kl)throw Kl=0,pp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var ro={},Ey=new WeakMap;function Kn(r,s){if(typeof r=="object"&&r!==null){var o=Ey.get(r);return o!==void 0?o:(s={value:r,source:s,stack:ge(s)},Ey.set(r,s),s)}return{value:r,source:s,stack:ge(s)}}var io=[],so=0,wc=null,Sc=0,Qn=[],Yn=0,na=null,si=1,ai="";function ra(r,s){io[so++]=Sc,io[so++]=wc,wc=r,Sc=s}function Ty(r,s,o){Qn[Yn++]=si,Qn[Yn++]=ai,Qn[Yn++]=na,na=r;var u=si;r=ai;var h=32-vn(u)-1;u&=~(1<<h),o+=1;var m=32-vn(s)+h;if(30<m){var b=h-h%5;m=(u&(1<<b)-1).toString(32),u>>=b,h-=b,si=1<<32-vn(s)+h|o<<h|u,ai=m+r}else si=1<<m|o<<h|u,ai=r}function ud(r){r.return!==null&&(ra(r,1),Ty(r,1,0))}function cd(r){for(;r===wc;)wc=io[--so],io[so]=null,Sc=io[--so],io[so]=null;for(;r===na;)na=Qn[--Yn],Qn[Yn]=null,ai=Qn[--Yn],Qn[Yn]=null,si=Qn[--Yn],Qn[Yn]=null}var En=null,rn=null,rt=!1,ur=null,Rr=!1,fd=Error(i(519));function ia(r){var s=Error(i(418,""));throw Al(Kn(s,r)),fd}function wy(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Yt]=r,s[Lt]=u,o){case"dialog":We("cancel",s),We("close",s);break;case"iframe":case"object":case"embed":We("load",s);break;case"video":case"audio":for(o=0;o<Yl.length;o++)We(Yl[o],s);break;case"source":We("error",s);break;case"img":case"image":case"link":We("error",s),We("load",s);break;case"details":We("toggle",s);break;case"input":We("invalid",s),$s(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),qs(s);break;case"select":We("invalid",s);break;case"textarea":We("invalid",s),Gi(s,u.value,u.defaultValue,u.children),qs(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||N_(s.textContent,o)?(u.popover!=null&&(We("beforetoggle",s),We("toggle",s)),u.onScroll!=null&&We("scroll",s),u.onScrollEnd!=null&&We("scrollend",s),u.onClick!=null&&(s.onclick=nf),s=!0):s=!1,s||ia(r)}function Sy(r){for(En=r.return;En;)switch(En.tag){case 3:case 27:Rr=!0;return;case 5:case 13:Rr=!1;return;default:En=En.return}}function wl(r){if(r!==En)return!1;if(!rt)return Sy(r),rt=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Dp(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&rn&&ia(r),Sy(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){rn=fr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}rn=null}}else rn=En?fr(r.stateNode.nextSibling):null;return!0}function Sl(){rn=En=null,rt=!1}function Al(r){ur===null?ur=[r]:ur.push(r)}var xl=Error(i(460)),Ay=Error(i(474)),hd={then:function(){}};function xy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ac(){}function Ry(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Ac,Ac),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===xl?Error(i(483)):r;default:if(typeof s.status=="string")s.then(Ac,Ac);else{if(r=ht,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===xl?Error(i(483)):r}throw Rl=s,xl}}var Rl=null;function Cy(){if(Rl===null)throw Error(i(459));var r=Rl;return Rl=null,r}var ao=null,Cl=0;function xc(r){var s=Cl;return Cl+=1,ao===null&&(ao=[]),Ry(ao,r,s)}function Il(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Rc(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Iy(r){var s=r._init;return s(r._payload)}function Oy(r){function s(q,z){if(r){var Q=q.deletions;Q===null?(q.deletions=[z],q.flags|=16):Q.push(z)}}function o(q,z){if(!r)return null;for(;z!==null;)s(q,z),z=z.sibling;return null}function u(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function h(q,z){return q=as(q,z),q.index=0,q.sibling=null,q}function m(q,z,Q){return q.index=Q,r?(Q=q.alternate,Q!==null?(Q=Q.index,Q<z?(q.flags|=33554434,z):Q):(q.flags|=33554434,z)):(q.flags|=1048576,z)}function b(q){return r&&q.alternate===null&&(q.flags|=33554434),q}function w(q,z,Q,te){return z===null||z.tag!==6?(z=ap(Q,q.mode,te),z.return=q,z):(z=h(z,Q),z.return=q,z)}function N(q,z,Q,te){var Ee=Q.type;return Ee===p?ee(q,z,Q.props.children,te,Q.key):z!==null&&(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===B&&Iy(Ee)===z.type)?(z=h(z,Q.props),Il(z,Q),z.return=q,z):(z=$c(Q.type,Q.key,Q.props,null,q.mode,te),Il(z,Q),z.return=q,z)}function F(q,z,Q,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=op(Q,q.mode,te),z.return=q,z):(z=h(z,Q.children||[]),z.return=q,z)}function ee(q,z,Q,te,Ee){return z===null||z.tag!==7?(z=pa(Q,q.mode,te,Ee),z.return=q,z):(z=h(z,Q),z.return=q,z)}function ae(q,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=ap(""+z,q.mode,Q),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case c:return Q=$c(z.type,z.key,z.props,null,q.mode,Q),Il(Q,z),Q.return=q,Q;case d:return z=op(z,q.mode,Q),z.return=q,z;case B:var te=z._init;return z=te(z._payload),ae(q,z,Q)}if(pe(z)||de(z))return z=pa(z,q.mode,Q,null),z.return=q,z;if(typeof z.then=="function")return ae(q,xc(z),Q);if(z.$$typeof===R)return ae(q,Fc(q,z),Q);Rc(q,z)}return null}function X(q,z,Q,te){var Ee=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ee!==null?null:w(q,z,""+Q,te);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case c:return Q.key===Ee?N(q,z,Q,te):null;case d:return Q.key===Ee?F(q,z,Q,te):null;case B:return Ee=Q._init,Q=Ee(Q._payload),X(q,z,Q,te)}if(pe(Q)||de(Q))return Ee!==null?null:ee(q,z,Q,te,null);if(typeof Q.then=="function")return X(q,z,xc(Q),te);if(Q.$$typeof===R)return X(q,z,Fc(q,Q),te);Rc(q,Q)}return null}function J(q,z,Q,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return q=q.get(Q)||null,w(z,q,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case c:return q=q.get(te.key===null?Q:te.key)||null,N(z,q,te,Ee);case d:return q=q.get(te.key===null?Q:te.key)||null,F(z,q,te,Ee);case B:var $e=te._init;return te=$e(te._payload),J(q,z,Q,te,Ee)}if(pe(te)||de(te))return q=q.get(Q)||null,ee(z,q,te,Ee,null);if(typeof te.then=="function")return J(q,z,Q,xc(te),Ee);if(te.$$typeof===R)return J(q,z,Q,Fc(z,te),Ee);Rc(z,te)}return null}function we(q,z,Q,te){for(var Ee=null,$e=null,Se=z,Oe=z=0,en=null;Se!==null&&Oe<Q.length;Oe++){Se.index>Oe?(en=Se,Se=null):en=Se.sibling;var it=X(q,Se,Q[Oe],te);if(it===null){Se===null&&(Se=en);break}r&&Se&&it.alternate===null&&s(q,Se),z=m(it,z,Oe),$e===null?Ee=it:$e.sibling=it,$e=it,Se=en}if(Oe===Q.length)return o(q,Se),rt&&ra(q,Oe),Ee;if(Se===null){for(;Oe<Q.length;Oe++)Se=ae(q,Q[Oe],te),Se!==null&&(z=m(Se,z,Oe),$e===null?Ee=Se:$e.sibling=Se,$e=Se);return rt&&ra(q,Oe),Ee}for(Se=u(Se);Oe<Q.length;Oe++)en=J(Se,q,Oe,Q[Oe],te),en!==null&&(r&&en.alternate!==null&&Se.delete(en.key===null?Oe:en.key),z=m(en,z,Oe),$e===null?Ee=en:$e.sibling=en,$e=en);return r&&Se.forEach(function(ds){return s(q,ds)}),rt&&ra(q,Oe),Ee}function Me(q,z,Q,te){if(Q==null)throw Error(i(151));for(var Ee=null,$e=null,Se=z,Oe=z=0,en=null,it=Q.next();Se!==null&&!it.done;Oe++,it=Q.next()){Se.index>Oe?(en=Se,Se=null):en=Se.sibling;var ds=X(q,Se,it.value,te);if(ds===null){Se===null&&(Se=en);break}r&&Se&&ds.alternate===null&&s(q,Se),z=m(ds,z,Oe),$e===null?Ee=ds:$e.sibling=ds,$e=ds,Se=en}if(it.done)return o(q,Se),rt&&ra(q,Oe),Ee;if(Se===null){for(;!it.done;Oe++,it=Q.next())it=ae(q,it.value,te),it!==null&&(z=m(it,z,Oe),$e===null?Ee=it:$e.sibling=it,$e=it);return rt&&ra(q,Oe),Ee}for(Se=u(Se);!it.done;Oe++,it=Q.next())it=J(Se,q,Oe,it.value,te),it!==null&&(r&&it.alternate!==null&&Se.delete(it.key===null?Oe:it.key),z=m(it,z,Oe),$e===null?Ee=it:$e.sibling=it,$e=it);return r&&Se.forEach(function(IA){return s(q,IA)}),rt&&ra(q,Oe),Ee}function xt(q,z,Q,te){if(typeof Q=="object"&&Q!==null&&Q.type===p&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case c:e:{for(var Ee=Q.key;z!==null;){if(z.key===Ee){if(Ee=Q.type,Ee===p){if(z.tag===7){o(q,z.sibling),te=h(z,Q.props.children),te.return=q,q=te;break e}}else if(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===B&&Iy(Ee)===z.type){o(q,z.sibling),te=h(z,Q.props),Il(te,Q),te.return=q,q=te;break e}o(q,z);break}else s(q,z);z=z.sibling}Q.type===p?(te=pa(Q.props.children,q.mode,te,Q.key),te.return=q,q=te):(te=$c(Q.type,Q.key,Q.props,null,q.mode,te),Il(te,Q),te.return=q,q=te)}return b(q);case d:e:{for(Ee=Q.key;z!==null;){if(z.key===Ee)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){o(q,z.sibling),te=h(z,Q.children||[]),te.return=q,q=te;break e}else{o(q,z);break}else s(q,z);z=z.sibling}te=op(Q,q.mode,te),te.return=q,q=te}return b(q);case B:return Ee=Q._init,Q=Ee(Q._payload),xt(q,z,Q,te)}if(pe(Q))return we(q,z,Q,te);if(de(Q)){if(Ee=de(Q),typeof Ee!="function")throw Error(i(150));return Q=Ee.call(Q),Me(q,z,Q,te)}if(typeof Q.then=="function")return xt(q,z,xc(Q),te);if(Q.$$typeof===R)return xt(q,z,Fc(q,Q),te);Rc(q,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,z!==null&&z.tag===6?(o(q,z.sibling),te=h(z,Q),te.return=q,q=te):(o(q,z),te=ap(Q,q.mode,te),te.return=q,q=te),b(q)):o(q,z)}return function(q,z,Q,te){try{Cl=0;var Ee=xt(q,z,Q,te);return ao=null,Ee}catch(Se){if(Se===xl)throw Se;var $e=Jn(29,Se,null,q.mode);return $e.lanes=te,$e.return=q,$e}finally{}}}var sa=Oy(!0),Dy=Oy(!1),oo=Qe(null),Cc=Qe(0);function Ny(r,s){r=yi,st(Cc,r),st(oo,s),yi=r|s.baseLanes}function dd(){st(Cc,yi),st(oo,oo.current)}function pd(){yi=Cc.current,pt(oo),pt(Cc)}var Xn=Qe(null),Cr=null;function Yi(r){var s=r.alternate;st(jt,jt.current&1),st(Xn,r),Cr===null&&(s===null||oo.current!==null||s.memoizedState!==null)&&(Cr=r)}function ky(r){if(r.tag===22){if(st(jt,jt.current),st(Xn,r),Cr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Cr=r)}}else Xi()}function Xi(){st(jt,jt.current),st(Xn,Xn.current)}function oi(r){pt(Xn),Cr===r&&(Cr=null),pt(jt)}var jt=Qe(0);function Ic(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var gS=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},yS=n.unstable_scheduleCallback,vS=n.unstable_NormalPriority,zt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new gS,data:new Map,refCount:0}}function Ol(r){r.refCount--,r.refCount===0&&yS(vS,function(){r.controller.abort()})}var Dl=null,gd=0,lo=0,uo=null;function _S(r,s){if(Dl===null){var o=Dl=[];gd=0,lo=Tp(),uo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return gd++,s.then(Py,Py),s}function Py(){if(--gd===0&&Dl!==null){uo!==null&&(uo.status="fulfilled");var r=Dl;Dl=null,lo=0,uo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function bS(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var Vy=A.S;A.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&_S(r,s),Vy!==null&&Vy(r,s)};var aa=Qe(null);function yd(){var r=aa.current;return r!==null?r:ht.pooledCache}function Oc(r,s){s===null?st(aa,aa.current):st(aa,s.pool)}function Ly(){var r=yd();return r===null?null:{parent:zt._currentValue,pool:r}}var Wi=0,Fe=null,ut=null,Dt=null,Dc=!1,co=!1,oa=!1,Nc=0,Nl=0,fo=null,ES=0;function Ct(){throw Error(i(321))}function vd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Pn(r[o],s[o]))return!1;return!0}function _d(r,s,o,u,h,m){return Wi=m,Fe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,A.H=r===null||r.memoizedState===null?la:Zi,oa=!1,m=o(u,h),oa=!1,co&&(m=Uy(s,o,u,h)),My(r),m}function My(r){A.H=Ir;var s=ut!==null&&ut.next!==null;if(Wi=0,Dt=ut=Fe=null,Dc=!1,Nl=0,fo=null,s)throw Error(i(300));r===null||Zt||(r=r.dependencies,r!==null&&Bc(r)&&(Zt=!0))}function Uy(r,s,o,u){Fe=r;var h=0;do{if(co&&(fo=null),Nl=0,co=!1,25<=h)throw Error(i(301));if(h+=1,Dt=ut=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}A.H=ua,m=s(o,u)}while(co);return m}function TS(){var r=A.H,s=r.useState()[0];return s=typeof s.then=="function"?kl(s):s,r=r.useState()[0],(ut!==null?ut.memoizedState:null)!==r&&(Fe.flags|=1024),s}function bd(){var r=Nc!==0;return Nc=0,r}function Ed(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Td(r){if(Dc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Dc=!1}Wi=0,Dt=ut=Fe=null,co=!1,Nl=Nc=0,fo=null}function Rn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Fe.memoizedState=Dt=r:Dt=Dt.next=r,Dt}function Nt(){if(ut===null){var r=Fe.alternate;r=r!==null?r.memoizedState:null}else r=ut.next;var s=Dt===null?Fe.memoizedState:Dt.next;if(s!==null)Dt=s,ut=r;else{if(r===null)throw Fe.alternate===null?Error(i(467)):Error(i(310));ut=r,r={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Dt===null?Fe.memoizedState=Dt=r:Dt=Dt.next=r}return Dt}var kc;kc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function kl(r){var s=Nl;return Nl+=1,fo===null&&(fo=[]),r=Ry(fo,r,s),s=Fe,(Dt===null?s.memoizedState:Dt.next)===null&&(s=s.alternate,A.H=s===null||s.memoizedState===null?la:Zi),r}function Pc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return kl(r);if(r.$$typeof===R)return cn(r)}throw Error(i(438,String(r)))}function wd(r){var s=null,o=Fe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Fe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=kc(),Fe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=re;return s.index++,o}function li(r,s){return typeof s=="function"?s(r):s}function Vc(r){var s=Nt();return Sd(s,ut,r)}function Sd(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,m=u.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}s.baseQueue=h=m,u.pending=null}if(m=r.baseState,h===null)r.memoizedState=m;else{s=h.next;var w=b=null,N=null,F=s,ee=!1;do{var ae=F.lane&-536870913;if(ae!==F.lane?(et&ae)===ae:(Wi&ae)===ae){var X=F.revertLane;if(X===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ae===lo&&(ee=!0);else if((Wi&X)===X){F=F.next,X===lo&&(ee=!0);continue}else ae={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(w=N=ae,b=m):N=N.next=ae,Fe.lanes|=X,os|=X;ae=F.action,oa&&o(m,ae),m=F.hasEagerState?F.eagerState:o(m,ae)}else X={lane:ae,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(w=N=X,b=m):N=N.next=X,Fe.lanes|=ae,os|=ae;F=F.next}while(F!==null&&F!==s);if(N===null?b=m:N.next=w,!Pn(m,r.memoizedState)&&(Zt=!0,ee&&(o=uo,o!==null)))throw o;r.memoizedState=m,r.baseState=b,r.baseQueue=N,u.lastRenderedState=m}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Ad(r){var s=Nt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,m=s.memoizedState;if(h!==null){o.pending=null;var b=h=h.next;do m=r(m,b.action),b=b.next;while(b!==h);Pn(m,s.memoizedState)||(Zt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function jy(r,s,o){var u=Fe,h=Nt(),m=rt;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!Pn((ut||h).memoizedState,o);if(b&&(h.memoizedState=o,Zt=!0),h=h.queue,Cd(Fy.bind(null,u,h,r),[r]),h.getSnapshot!==s||b||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,ho(9,By.bind(null,u,h,o,s),{destroy:void 0},null),ht===null)throw Error(i(349));m||(Wi&60)!==0||zy(u,s,o)}return o}function zy(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Fe.updateQueue,s===null?(s=kc(),Fe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function By(r,s,o,u){s.value=o,s.getSnapshot=u,Hy(s)&&qy(r)}function Fy(r,s,o){return o(function(){Hy(s)&&qy(r)})}function Hy(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Pn(r,o)}catch{return!0}}function qy(r){var s=Qi(r,2);s!==null&&Tn(s,r,2)}function xd(r){var s=Rn();if(typeof r=="function"){var o=r;if(r=o(),oa){gr(!0);try{o()}finally{gr(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:r},s}function $y(r,s,o,u){return r.baseState=o,Sd(r,ut,typeof u=="function"?u:li)}function wS(r,s,o,u,h){if(Uc(r))throw Error(i(485));if(r=s.action,r!==null){var m={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};A.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,Gy(s,m)):(m.next=o.next,s.pending=o.next=m)}}function Gy(r,s){var o=s.action,u=s.payload,h=r.state;if(s.isTransition){var m=A.T,b={};A.T=b;try{var w=o(h,u),N=A.S;N!==null&&N(b,w),Ky(r,s,w)}catch(F){Rd(r,s,F)}finally{A.T=m}}else try{m=o(h,u),Ky(r,s,m)}catch(F){Rd(r,s,F)}}function Ky(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Qy(r,s,u)},function(u){return Rd(r,s,u)}):Qy(r,s,o)}function Qy(r,s,o){s.status="fulfilled",s.value=o,Yy(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Gy(r,o)))}function Rd(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Yy(s),s=s.next;while(s!==u)}r.action=null}function Yy(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Xy(r,s){return s}function Wy(r,s){if(rt){var o=ht.formState;if(o!==null){e:{var u=Fe;if(rt){if(rn){t:{for(var h=rn,m=Rr;h.nodeType!==8;){if(!m){h=null;break t}if(h=fr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){rn=fr(h.nextSibling),u=h.data==="F!";break e}}ia(u)}u=!1}u&&(s=o[0])}}return o=Rn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:s},o.queue=u,o=mv.bind(null,Fe,u),u.dispatch=o,u=xd(!1),m=kd.bind(null,Fe,!1,u.queue),u=Rn(),h={state:s,dispatch:null,action:r,pending:null},u.queue=h,o=wS.bind(null,Fe,h,m,o),h.dispatch=o,u.memoizedState=r,[s,o,!1]}function Zy(r){var s=Nt();return Jy(s,ut,r)}function Jy(r,s,o){s=Sd(r,s,Xy)[0],r=Vc(li)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?kl(s):s;var u=Nt(),h=u.queue,m=h.dispatch;return o!==u.memoizedState&&(Fe.flags|=2048,ho(9,SS.bind(null,h,o),{destroy:void 0},null)),[s,m,r]}function SS(r,s){r.action=s}function ev(r){var s=Nt(),o=ut;if(o!==null)return Jy(s,o,r);Nt(),s=s.memoizedState,o=Nt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function ho(r,s,o,u){return r={tag:r,create:s,inst:o,deps:u,next:null},s=Fe.updateQueue,s===null&&(s=kc(),Fe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function tv(){return Nt().memoizedState}function Lc(r,s,o,u){var h=Rn();Fe.flags|=r,h.memoizedState=ho(1|s,o,{destroy:void 0},u===void 0?null:u)}function Mc(r,s,o,u){var h=Nt();u=u===void 0?null:u;var m=h.memoizedState.inst;ut!==null&&u!==null&&vd(u,ut.memoizedState.deps)?h.memoizedState=ho(s,o,m,u):(Fe.flags|=r,h.memoizedState=ho(1|s,o,m,u))}function nv(r,s){Lc(8390656,8,r,s)}function Cd(r,s){Mc(2048,8,r,s)}function rv(r,s){return Mc(4,2,r,s)}function iv(r,s){return Mc(4,4,r,s)}function sv(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function av(r,s,o){o=o!=null?o.concat([r]):null,Mc(4,4,sv.bind(null,s,r),o)}function Id(){}function ov(r,s){var o=Nt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&vd(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function lv(r,s){var o=Nt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&vd(s,u[1]))return u[0];if(u=r(),oa){gr(!0);try{r()}finally{gr(!1)}}return o.memoizedState=[u,s],u}function Od(r,s,o){return o===void 0||(Wi&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=c_(),Fe.lanes|=r,os|=r,o)}function uv(r,s,o,u){return Pn(o,s)?o:oo.current!==null?(r=Od(r,o,u),Pn(r,s)||(Zt=!0),r):(Wi&42)===0?(Zt=!0,r.memoizedState=o):(r=c_(),Fe.lanes|=r,os|=r,s)}function cv(r,s,o,u,h){var m=me.p;me.p=m!==0&&8>m?m:8;var b=A.T,w={};A.T=w,kd(r,!1,s,o);try{var N=h(),F=A.S;if(F!==null&&F(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var ee=bS(N,u);Pl(r,s,ee,Un(r))}else Pl(r,s,u,Un(r))}catch(ae){Pl(r,s,{then:function(){},status:"rejected",reason:ae},Un())}finally{me.p=m,A.T=b}}function AS(){}function Dd(r,s,o,u){if(r.tag!==5)throw Error(i(476));var h=fv(r).queue;cv(r,h,s,ze,o===null?AS:function(){return hv(r),o(u)})}function fv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ze,baseState:ze,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:ze},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function hv(r){var s=fv(r).next.queue;Pl(r,s,{},Un())}function Nd(){return cn(eu)}function dv(){return Nt().memoizedState}function pv(){return Nt().memoizedState}function xS(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Un();r=ts(o);var u=ns(s,r,o);u!==null&&(Tn(u,s,o),Ml(u,s,o)),s={cache:md()},r.payload=s;return}s=s.return}}function RS(r,s,o){var u=Un();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Uc(r)?gv(s,o):(o=ld(r,s,o,u),o!==null&&(Tn(o,r,u),yv(o,s,u)))}function mv(r,s,o){var u=Un();Pl(r,s,o,u)}function Pl(r,s,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Uc(r))gv(s,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,w=m(b,o);if(h.hasEagerState=!0,h.eagerState=w,Pn(w,b))return Ec(r,s,h,0),ht===null&&bc(),!1}catch{}finally{}if(o=ld(r,s,h,u),o!==null)return Tn(o,r,u),yv(o,s,u),!0}return!1}function kd(r,s,o,u){if(u={lane:2,revertLane:Tp(),action:u,hasEagerState:!1,eagerState:null,next:null},Uc(r)){if(s)throw Error(i(479))}else s=ld(r,o,u,2),s!==null&&Tn(s,r,2)}function Uc(r){var s=r.alternate;return r===Fe||s!==null&&s===Fe}function gv(r,s){co=Dc=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function yv(r,s,o){if((o&4194176)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Ui(r,o)}}var Ir={readContext:cn,use:Pc,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct};Ir.useCacheRefresh=Ct,Ir.useMemoCache=Ct,Ir.useHostTransitionStatus=Ct,Ir.useFormState=Ct,Ir.useActionState=Ct,Ir.useOptimistic=Ct;var la={readContext:cn,use:Pc,useCallback:function(r,s){return Rn().memoizedState=[r,s===void 0?null:s],r},useContext:cn,useEffect:nv,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Lc(4194308,4,sv.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Lc(4194308,4,r,s)},useInsertionEffect:function(r,s){Lc(4,2,r,s)},useMemo:function(r,s){var o=Rn();s=s===void 0?null:s;var u=r();if(oa){gr(!0);try{r()}finally{gr(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Rn();if(o!==void 0){var h=o(s);if(oa){gr(!0);try{o(s)}finally{gr(!1)}}}else h=s;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=RS.bind(null,Fe,r),[u.memoizedState,r]},useRef:function(r){var s=Rn();return r={current:r},s.memoizedState=r},useState:function(r){r=xd(r);var s=r.queue,o=mv.bind(null,Fe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Id,useDeferredValue:function(r,s){var o=Rn();return Od(o,r,s)},useTransition:function(){var r=xd(!1);return r=cv.bind(null,Fe,r.queue,!0,!1),Rn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Fe,h=Rn();if(rt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ht===null)throw Error(i(349));(et&60)!==0||zy(u,s,o)}h.memoizedState=o;var m={value:o,getSnapshot:s};return h.queue=m,nv(Fy.bind(null,u,m,r),[r]),u.flags|=2048,ho(9,By.bind(null,u,m,o,s),{destroy:void 0},null),o},useId:function(){var r=Rn(),s=ht.identifierPrefix;if(rt){var o=ai,u=si;o=(u&~(1<<32-vn(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=Nc++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=ES++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return Rn().memoizedState=xS.bind(null,Fe)}};la.useMemoCache=wd,la.useHostTransitionStatus=Nd,la.useFormState=Wy,la.useActionState=Wy,la.useOptimistic=function(r){var s=Rn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=kd.bind(null,Fe,!0,o),o.dispatch=s,[r,s]};var Zi={readContext:cn,use:Pc,useCallback:ov,useContext:cn,useEffect:Cd,useImperativeHandle:av,useInsertionEffect:rv,useLayoutEffect:iv,useMemo:lv,useReducer:Vc,useRef:tv,useState:function(){return Vc(li)},useDebugValue:Id,useDeferredValue:function(r,s){var o=Nt();return uv(o,ut.memoizedState,r,s)},useTransition:function(){var r=Vc(li)[0],s=Nt().memoizedState;return[typeof r=="boolean"?r:kl(r),s]},useSyncExternalStore:jy,useId:dv};Zi.useCacheRefresh=pv,Zi.useMemoCache=wd,Zi.useHostTransitionStatus=Nd,Zi.useFormState=Zy,Zi.useActionState=Zy,Zi.useOptimistic=function(r,s){var o=Nt();return $y(o,ut,r,s)};var ua={readContext:cn,use:Pc,useCallback:ov,useContext:cn,useEffect:Cd,useImperativeHandle:av,useInsertionEffect:rv,useLayoutEffect:iv,useMemo:lv,useReducer:Ad,useRef:tv,useState:function(){return Ad(li)},useDebugValue:Id,useDeferredValue:function(r,s){var o=Nt();return ut===null?Od(o,r,s):uv(o,ut.memoizedState,r,s)},useTransition:function(){var r=Ad(li)[0],s=Nt().memoizedState;return[typeof r=="boolean"?r:kl(r),s]},useSyncExternalStore:jy,useId:dv};ua.useCacheRefresh=pv,ua.useMemoCache=wd,ua.useHostTransitionStatus=Nd,ua.useFormState=ev,ua.useActionState=ev,ua.useOptimistic=function(r,s){var o=Nt();return ut!==null?$y(o,ut,r,s):(o.baseState=r,[r,o.queue.dispatch])};function Pd(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:C({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Vd={isMounted:function(r){return(r=r._reactInternals)?ye(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Un(),h=ts(u);h.payload=s,o!=null&&(h.callback=o),s=ns(r,h,u),s!==null&&(Tn(s,r,u),Ml(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Un(),h=ts(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=ns(r,h,u),s!==null&&(Tn(s,r,u),Ml(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Un(),u=ts(o);u.tag=2,s!=null&&(u.callback=s),s=ns(r,u,o),s!==null&&(Tn(s,r,o),Ml(s,r,o))}};function vv(r,s,o,u,h,m,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,b):s.prototype&&s.prototype.isPureReactComponent?!El(o,u)||!El(h,m):!0}function _v(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Vd.enqueueReplaceState(s,s.state,null)}function ca(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=C({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var jc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function bv(r){jc(r)}function Ev(r){console.error(r)}function Tv(r){jc(r)}function zc(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function wv(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ld(r,s,o){return o=ts(o),o.tag=3,o.payload={element:null},o.callback=function(){zc(r,s)},o}function Sv(r){return r=ts(r),r.tag=3,r}function Av(r,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var m=u.value;r.payload=function(){return h(m)},r.callback=function(){wv(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){wv(s,o,u),typeof h!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function CS(r,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ll(s,o,h,!0),o=Xn.current,o!==null){switch(o.tag){case 13:return Cr===null?yp():o.alternate===null&&At===0&&(At=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===hd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),_p(r,u,h)),!1;case 22:return o.flags|=65536,u===hd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),_p(r,u,h)),!1}throw Error(i(435,o.tag))}return _p(r,u,h),yp(),!1}if(rt)return s=Xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==fd&&(r=Error(i(422),{cause:u}),Al(Kn(r,o)))):(u!==fd&&(s=Error(i(423),{cause:u}),Al(Kn(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=Kn(u,o),h=Ld(r.stateNode,u,h),Wd(r,h),At!==4&&(At=2)),!1;var m=Error(i(520),{cause:u});if(m=Kn(m,o),$l===null?$l=[m]:$l.push(m),At!==4&&(At=2),s===null)return!0;u=Kn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=Ld(o.stateNode,u,r),Wd(o,r),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ls===null||!ls.has(m))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Sv(h),Av(h,r,o,u),Wd(o,h),!1}o=o.return}while(o!==null);return!1}var xv=Error(i(461)),Zt=!1;function sn(r,s,o,u){s.child=r===null?Dy(s,null,o,u):sa(s,r.child,o,u)}function Rv(r,s,o,u,h){o=o.render;var m=s.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return ha(s),u=_d(r,s,o,b,m,h),w=bd(),r!==null&&!Zt?(Ed(r,s,h),ui(r,s,h)):(rt&&w&&ud(s),s.flags|=1,sn(r,s,u,h),s.child)}function Cv(r,s,o,u,h){if(r===null){var m=o.type;return typeof m=="function"&&!sp(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,Iv(r,s,m,u,h)):(r=$c(o.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,!$d(r,h)){var b=m.memoizedProps;if(o=o.compare,o=o!==null?o:El,o(b,u)&&r.ref===s.ref)return ui(r,s,h)}return s.flags|=1,r=as(m,u),r.ref=s.ref,r.return=s,s.child=r}function Iv(r,s,o,u,h){if(r!==null){var m=r.memoizedProps;if(El(m,u)&&r.ref===s.ref)if(Zt=!1,s.pendingProps=u=m,$d(r,h))(r.flags&131072)!==0&&(Zt=!0);else return s.lanes=r.lanes,ui(r,s,h)}return Md(r,s,o,u,h)}function Ov(r,s,o){var u=s.pendingProps,h=u.children,m=(s.stateNode._pendingVisibility&2)!==0,b=r!==null?r.memoizedState:null;if(Vl(r,s),u.mode==="hidden"||m){if((s.flags&128)!==0){if(u=b!==null?b.baseLanes|o:o,r!==null){for(h=s.child=r.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;s.childLanes=m&~u}else s.childLanes=0,s.child=null;return Dv(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Oc(s,b!==null?b.cachePool:null),b!==null?Ny(s,b):dd(),ky(s);else return s.lanes=s.childLanes=536870912,Dv(r,s,b!==null?b.baseLanes|o:o,o)}else b!==null?(Oc(s,b.cachePool),Ny(s,b),Xi(),s.memoizedState=null):(r!==null&&Oc(s,null),dd(),Xi());return sn(r,s,h,o),s.child}function Dv(r,s,o,u){var h=yd();return h=h===null?null:{parent:zt._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&Oc(s,null),dd(),ky(s),r!==null&&Ll(r,s,u,!0),null}function Vl(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function Md(r,s,o,u,h){return ha(s),o=_d(r,s,o,u,void 0,h),u=bd(),r!==null&&!Zt?(Ed(r,s,h),ui(r,s,h)):(rt&&u&&ud(s),s.flags|=1,sn(r,s,o,h),s.child)}function Nv(r,s,o,u,h,m){return ha(s),s.updateQueue=null,o=Uy(s,u,o,h),My(r),u=bd(),r!==null&&!Zt?(Ed(r,s,m),ui(r,s,m)):(rt&&u&&ud(s),s.flags|=1,sn(r,s,o,m),s.child)}function kv(r,s,o,u,h){if(ha(s),s.stateNode===null){var m=ro,b=o.contextType;typeof b=="object"&&b!==null&&(m=cn(b)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Vd,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},Yd(s),b=o.contextType,m.context=typeof b=="object"&&b!==null?cn(b):ro,m.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Pd(s,o,b,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Vd.enqueueReplaceState(m,m.state,null),jl(s,u,m,h),Ul(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){m=s.stateNode;var w=s.memoizedProps,N=ca(o,w);m.props=N;var F=m.context,ee=o.contextType;b=ro,typeof ee=="object"&&ee!==null&&(b=cn(ee));var ae=o.getDerivedStateFromProps;ee=typeof ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,ee||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||F!==b)&&_v(s,m,u,b),es=!1;var X=s.memoizedState;m.state=X,jl(s,u,m,h),Ul(),F=s.memoizedState,w||X!==F||es?(typeof ae=="function"&&(Pd(s,o,ae,u),F=s.memoizedState),(N=es||vv(s,o,N,u,X,F,b))?(ee||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=F),m.props=u,m.state=F,m.context=b,u=N):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,Xd(r,s),b=s.memoizedProps,ee=ca(o,b),m.props=ee,ae=s.pendingProps,X=m.context,F=o.contextType,N=ro,typeof F=="object"&&F!==null&&(N=cn(F)),w=o.getDerivedStateFromProps,(F=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ae||X!==N)&&_v(s,m,u,N),es=!1,X=s.memoizedState,m.state=X,jl(s,u,m,h),Ul();var J=s.memoizedState;b!==ae||X!==J||es||r!==null&&r.dependencies!==null&&Bc(r.dependencies)?(typeof w=="function"&&(Pd(s,o,w,u),J=s.memoizedState),(ee=es||vv(s,o,ee,u,X,J,N)||r!==null&&r.dependencies!==null&&Bc(r.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,J,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,J,N)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=J),m.props=u,m.state=J,m.context=N,u=ee):(typeof m.componentDidUpdate!="function"||b===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),u=!1)}return m=u,Vl(r,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,r!==null&&u?(s.child=sa(s,r.child,null,h),s.child=sa(s,null,o,h)):sn(r,s,o,h),s.memoizedState=m.state,r=s.child):r=ui(r,s,h),r}function Pv(r,s,o,u){return Sl(),s.flags|=256,sn(r,s,o,u),s.child}var Ud={dehydrated:null,treeContext:null,retryLane:0};function jd(r){return{baseLanes:r,cachePool:Ly()}}function zd(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=er),r}function Vv(r,s,o){var u=s.pendingProps,h=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=r!==null&&r.memoizedState===null?!1:(jt.current&2)!==0),b&&(h=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(rt){if(h?Yi(s):Xi(),rt){var w=rn,N;if(N=w){e:{for(N=w,w=Rr;N.nodeType!==8;){if(!w){w=null;break e}if(N=fr(N.nextSibling),N===null){w=null;break e}}w=N}w!==null?(s.memoizedState={dehydrated:w,treeContext:na!==null?{id:si,overflow:ai}:null,retryLane:536870912},N=Jn(18,null,null,0),N.stateNode=w,N.return=s,s.child=N,En=s,rn=null,N=!0):N=!1}N||ia(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?s.lanes=16:s.lanes=536870912,null;oi(s)}return w=u.children,u=u.fallback,h?(Xi(),h=s.mode,w=Fd({mode:"hidden",children:w},h),u=pa(u,h,o,null),w.return=s,u.return=s,w.sibling=u,s.child=w,h=s.child,h.memoizedState=jd(o),h.childLanes=zd(r,b,o),s.memoizedState=Ud,u):(Yi(s),Bd(s,w))}if(N=r.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(m)s.flags&256?(Yi(s),s.flags&=-257,s=Hd(r,s,o)):s.memoizedState!==null?(Xi(),s.child=r.child,s.flags|=128,s=null):(Xi(),h=u.fallback,w=s.mode,u=Fd({mode:"visible",children:u.children},w),h=pa(h,w,o,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,sa(s,r.child,null,o),u=s.child,u.memoizedState=jd(o),u.childLanes=zd(r,b,o),s.memoizedState=Ud,s=h);else if(Yi(s),w.data==="$!"){if(b=w.nextSibling&&w.nextSibling.dataset,b)var F=b.dgst;b=F,u=Error(i(419)),u.stack="",u.digest=b,Al({value:u,source:null,stack:null}),s=Hd(r,s,o)}else if(Zt||Ll(r,s,o,!1),b=(o&r.childLanes)!==0,Zt||b){if(b=ht,b!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==N.retryLane)throw N.retryLane=u,Qi(r,u),Tn(b,r,u),xv}w.data==="$?"||yp(),s=Hd(r,s,o)}else w.data==="$?"?(s.flags|=128,s.child=r.child,s=HS.bind(null,r),w._reactRetry=s,s=null):(r=N.treeContext,rn=fr(w.nextSibling),En=s,rt=!0,ur=null,Rr=!1,r!==null&&(Qn[Yn++]=si,Qn[Yn++]=ai,Qn[Yn++]=na,si=r.id,ai=r.overflow,na=s),s=Bd(s,u.children),s.flags|=4096);return s}return h?(Xi(),h=u.fallback,w=s.mode,N=r.child,F=N.sibling,u=as(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&31457280,F!==null?h=as(F,h):(h=pa(h,w,o,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,w=r.child.memoizedState,w===null?w=jd(o):(N=w.cachePool,N!==null?(F=zt._currentValue,N=N.parent!==F?{parent:F,pool:F}:N):N=Ly(),w={baseLanes:w.baseLanes|o,cachePool:N}),h.memoizedState=w,h.childLanes=zd(r,b,o),s.memoizedState=Ud,u):(Yi(s),o=r.child,r=o.sibling,o=as(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=o,s.memoizedState=null,o)}function Bd(r,s){return s=Fd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Fd(r,s){return o_(r,s,0,null)}function Hd(r,s,o){return sa(s,r.child,null,o),r=Bd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Lv(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Kd(r.return,s,o)}function qd(r,s,o,u,h){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=h)}function Mv(r,s,o){var u=s.pendingProps,h=u.revealOrder,m=u.tail;if(sn(r,s,u.children,o),u=jt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Lv(r,o,s);else if(r.tag===19)Lv(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(st(jt,u),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&Ic(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),qd(s,!1,h,o,m);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Ic(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}qd(s,!0,o,null,m);break;case"together":qd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ui(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),os|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Ll(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=as(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=as(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function $d(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Bc(r)))}function IS(r,s,o){switch(s.tag){case 3:Kr(s,s.stateNode.containerInfo),Ji(s,zt,r.memoizedState.cache),Sl();break;case 27:case 5:Ma(s);break;case 4:Kr(s,s.stateNode.containerInfo);break;case 10:Ji(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Yi(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Vv(r,s,o):(Yi(s),r=ui(r,s,o),r!==null?r.sibling:null);Yi(s);break;case 19:var h=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ll(r,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return Mv(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(jt,jt.current),u)break;return null;case 22:case 23:return s.lanes=0,Ov(r,s,o);case 24:Ji(s,zt,r.memoizedState.cache)}return ui(r,s,o)}function Uv(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Zt=!0;else{if(!$d(r,o)&&(s.flags&128)===0)return Zt=!1,IS(r,s,o);Zt=(r.flags&131072)!==0}else Zt=!1,rt&&(s.flags&1048576)!==0&&Ty(s,Sc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")sp(u)?(r=ca(u,r),s.tag=1,s=kv(null,s,u,r,o)):(s.tag=0,s=Md(null,s,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===O){s.tag=11,s=Rv(null,s,u,r,o);break e}else if(h===$){s.tag=14,s=Cv(null,s,u,r,o);break e}}throw s=x(u)||u,Error(i(306,s,""))}}return s;case 0:return Md(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=ca(u,s.pendingProps),kv(r,s,u,h,o);case 3:e:{if(Kr(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var m=s.pendingProps;h=s.memoizedState,u=h.element,Xd(r,s),jl(s,m,null,o);var b=s.memoizedState;if(m=b.cache,Ji(s,zt,m),m!==h.cache&&Qd(s,[zt],o,!0),Ul(),m=b.element,h.isDehydrated)if(h={element:m,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=Pv(r,s,m,o);break e}else if(m!==u){u=Kn(Error(i(424)),s),Al(u),s=Pv(r,s,m,o);break e}else for(rn=fr(s.stateNode.containerInfo.firstChild),En=s,rt=!0,ur=null,Rr=!0,o=Dy(s,null,m,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Sl(),m===u){s=ui(r,s,o);break e}sn(r,s,m,o)}s=s.child}return s;case 26:return Vl(r,s),r===null?(o=B_(s.type,null,s.pendingProps,null))?s.memoizedState=o:rt||(o=s.type,r=s.pendingProps,u=rf(yn.current).createElement(o),u[Yt]=s,u[Lt]=r,an(u,o,r),vt(u),s.stateNode=u):s.memoizedState=B_(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ma(s),r===null&&rt&&(u=s.stateNode=U_(s.type,s.pendingProps,yn.current),En=s,Rr=!0,rn=fr(u.firstChild)),u=s.pendingProps.children,r!==null||rt?sn(r,s,u,o):s.child=sa(s,null,u,o),Vl(r,s),s.child;case 5:return r===null&&rt&&((h=u=rn)&&(u=sA(u,s.type,s.pendingProps,Rr),u!==null?(s.stateNode=u,En=s,rn=fr(u.firstChild),Rr=!1,h=!0):h=!1),h||ia(s)),Ma(s),h=s.type,m=s.pendingProps,b=r!==null?r.memoizedProps:null,u=m.children,Dp(h,m)?u=null:b!==null&&Dp(h,b)&&(s.flags|=32),s.memoizedState!==null&&(h=_d(r,s,TS,null,null,o),eu._currentValue=h),Vl(r,s),sn(r,s,u,o),s.child;case 6:return r===null&&rt&&((r=o=rn)&&(o=aA(o,s.pendingProps,Rr),o!==null?(s.stateNode=o,En=s,rn=null,r=!0):r=!1),r||ia(s)),null;case 13:return Vv(r,s,o);case 4:return Kr(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=sa(s,null,u,o):sn(r,s,u,o),s.child;case 11:return Rv(r,s,s.type,s.pendingProps,o);case 7:return sn(r,s,s.pendingProps,o),s.child;case 8:return sn(r,s,s.pendingProps.children,o),s.child;case 12:return sn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Ji(s,s.type,u.value),sn(r,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,ha(s),h=cn(h),u=u(h),s.flags|=1,sn(r,s,u,o),s.child;case 14:return Cv(r,s,s.type,s.pendingProps,o);case 15:return Iv(r,s,s.type,s.pendingProps,o);case 19:return Mv(r,s,o);case 22:return Ov(r,s,o);case 24:return ha(s),u=cn(zt),r===null?(h=yd(),h===null&&(h=ht,m=md(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=o),h=m),s.memoizedState={parent:u,cache:h},Yd(s),Ji(s,zt,h)):((r.lanes&o)!==0&&(Xd(r,s),jl(s,null,null,o),Ul()),h=r.memoizedState,m=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Ji(s,zt,u)):(u=m.cache,Ji(s,zt,u),u!==h.cache&&Qd(s,[zt],o,!0))),sn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var Gd=Qe(null),fa=null,ci=null;function Ji(r,s,o){st(Gd,s._currentValue),s._currentValue=o}function fi(r){r._currentValue=Gd.current,pt(Gd)}function Kd(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Qd(r,s,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=h;for(var N=0;N<s.length;N++)if(w.context===s[N]){m.lanes|=o,w=m.alternate,w!==null&&(w.lanes|=o),Kd(m.return,o,r),u||(b=null);break e}m=w.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(i(341));b.lanes|=o,m=b.alternate,m!==null&&(m.lanes|=o),Kd(b,o,r),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===r){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Ll(r,s,o,u){r=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var w=h.type;Pn(h.pendingProps.value,b.value)||(r!==null?r.push(w):r=[w])}}else if(h===ir.current){if(b=h.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(eu):r=[eu])}h=h.return}r!==null&&Qd(s,r,o,u),s.flags|=262144}function Bc(r){for(r=r.firstContext;r!==null;){if(!Pn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ha(r){fa=r,ci=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function cn(r){return jv(fa,r)}function Fc(r,s){return fa===null&&ha(r),jv(r,s)}function jv(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ci===null){if(r===null)throw Error(i(308));ci=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ci=ci.next=s;return o}var es=!1;function Yd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xd(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ts(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ns(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(bt&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=Tc(r),by(r,null,o),s}return Ec(r,u,s,o),Tc(r)}function Ml(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Ui(r,o)}}function Wd(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,o=o.next}while(o!==null);m===null?h=m=s:m=m.next=s}else h=m=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Zd=!1;function Ul(){if(Zd){var r=uo;if(r!==null)throw r}}function jl(r,s,o,u){Zd=!1;var h=r.updateQueue;es=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var N=w,F=N.next;N.next=null,b===null?m=F:b.next=F,b=N;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,w=ee.lastBaseUpdate,w!==b&&(w===null?ee.firstBaseUpdate=F:w.next=F,ee.lastBaseUpdate=N))}if(m!==null){var ae=h.baseState;b=0,ee=F=N=null,w=m;do{var X=w.lane&-536870913,J=X!==w.lane;if(J?(et&X)===X:(u&X)===X){X!==0&&X===lo&&(Zd=!0),ee!==null&&(ee=ee.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var we=r,Me=w;X=s;var xt=o;switch(Me.tag){case 1:if(we=Me.payload,typeof we=="function"){ae=we.call(xt,ae,X);break e}ae=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Me.payload,X=typeof we=="function"?we.call(xt,ae,X):we,X==null)break e;ae=C({},ae,X);break e;case 2:es=!0}}X=w.callback,X!==null&&(r.flags|=64,J&&(r.flags|=8192),J=h.callbacks,J===null?h.callbacks=[X]:J.push(X))}else J={lane:X,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ee===null?(F=ee=J,N=ae):ee=ee.next=J,b|=X;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;J=w,w=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);ee===null&&(N=ae),h.baseState=N,h.firstBaseUpdate=F,h.lastBaseUpdate=ee,m===null&&(h.shared.lanes=0),os|=b,r.lanes=b,r.memoizedState=ae}}function zv(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Bv(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)zv(o[r],s)}function zl(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var m=o.create,b=o.inst;u=m(),b.destroy=u}o=o.next}while(o!==h)}}catch(w){ft(s,s.return,w)}}function rs(r,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&r)===r){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,h=s;var N=o;try{w()}catch(F){ft(h,N,F)}}}u=u.next}while(u!==m)}}catch(F){ft(s,s.return,F)}}function Fv(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Bv(s,o)}catch(u){ft(r,r.return,u)}}}function Hv(r,s,o){o.props=ca(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ft(r,s,u)}}function da(r,s){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var h=u;break;default:h=u}typeof o=="function"?r.refCleanup=o(h):o.current=h}}catch(m){ft(r,s,m)}}function Vn(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){ft(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){ft(r,s,h)}else o.current=null}function qv(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){ft(r,r.return,h)}}function $v(r,s,o){try{var u=r.stateNode;eA(u,r.type,o,s),u[Lt]=s}catch(h){ft(r,r.return,h)}}function Gv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Jd(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Gv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ep(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=nf));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(ep(r,s,o),r=r.sibling;r!==null;)ep(r,s,o),r=r.sibling}function Hc(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Hc(r,s,o),r=r.sibling;r!==null;)Hc(r,s,o),r=r.sibling}var hi=!1,St=!1,tp=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,Jt=null,Qv=!1;function OS(r,s){if(r=r.containerInfo,Ip=cf,r=fy(r),rd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var b=0,w=-1,N=-1,F=0,ee=0,ae=r,X=null;t:for(;;){for(var J;ae!==o||h!==0&&ae.nodeType!==3||(w=b+h),ae!==m||u!==0&&ae.nodeType!==3||(N=b+u),ae.nodeType===3&&(b+=ae.nodeValue.length),(J=ae.firstChild)!==null;)X=ae,ae=J;for(;;){if(ae===r)break t;if(X===o&&++F===h&&(w=b),X===m&&++ee===u&&(N=b),(J=ae.nextSibling)!==null)break;ae=X,X=ae.parentNode}ae=J}o=w===-1||N===-1?null:{start:w,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(Op={focusedElem:r,selectionRange:o},cf=!1,Jt=s;Jt!==null;)if(s=Jt,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Jt=r;else for(;Jt!==null;){switch(s=Jt,m=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=s,h=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var we=ca(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(we,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(Me){ft(o,o.return,Me)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Pp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Pp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Jt=r;break}Jt=s.return}return we=Qv,Qv=!1,we}function Yv(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:pi(r,o),u&4&&zl(5,o);break;case 1:if(pi(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(w){ft(o,o.return,w)}else{var h=ca(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(w){ft(o,o.return,w)}}u&64&&Fv(o),u&512&&da(o,o.return);break;case 3:if(pi(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Bv(u,r)}catch(w){ft(o,o.return,w)}}break;case 26:pi(r,o),u&512&&da(o,o.return);break;case 27:case 5:pi(r,o),s===null&&u&4&&qv(o),u&512&&da(o,o.return);break;case 12:pi(r,o);break;case 13:pi(r,o),u&4&&Zv(r,o);break;case 22:if(h=o.memoizedState!==null||hi,!h){s=s!==null&&s.memoizedState!==null||St;var m=hi,b=St;hi=h,(St=s)&&!b?is(r,o,(o.subtreeFlags&8772)!==0):pi(r,o),hi=m,St=b}u&512&&(o.memoizedProps.mode==="manual"?da(o,o.return):Vn(o,o.return));break;default:pi(r,o)}}function Xv(r){var s=r.alternate;s!==null&&(r.alternate=null,Xv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Hs(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var kt=null,Ln=!1;function di(r,s,o){for(o=o.child;o!==null;)Wv(r,s,o),o=o.sibling}function Wv(r,s,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(sr,o)}catch{}switch(o.tag){case 26:St||Vn(o,s),di(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:St||Vn(o,s);var u=kt,h=Ln;for(kt=o.stateNode,di(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Hs(o),kt=u,Ln=h;break;case 5:St||Vn(o,s);case 6:h=kt;var m=Ln;if(kt=null,di(r,s,o),kt=h,Ln=m,kt!==null)if(Ln)try{r=kt,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(b){ft(o,s,b)}else try{kt.removeChild(o.stateNode)}catch(b){ft(o,s,b)}break;case 18:kt!==null&&(Ln?(s=kt,o=o.stateNode,s.nodeType===8?kp(s.parentNode,o):s.nodeType===1&&kp(s,o),iu(s)):kp(kt,o.stateNode));break;case 4:u=kt,h=Ln,kt=o.stateNode.containerInfo,Ln=!0,di(r,s,o),kt=u,Ln=h;break;case 0:case 11:case 14:case 15:St||rs(2,o,s),St||rs(4,o,s),di(r,s,o);break;case 1:St||(Vn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Hv(o,s,u)),di(r,s,o);break;case 21:di(r,s,o);break;case 22:St||Vn(o,s),St=(u=St)||o.memoizedState!==null,di(r,s,o),St=u;break;default:di(r,s,o)}}function Zv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{iu(r)}catch(o){ft(s,s.return,o)}}function DS(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Kv),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Kv),s;default:throw Error(i(435,r.tag))}}function np(r,s){var o=DS(r);s.forEach(function(u){var h=qS.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function Wn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],m=r,b=s,w=b;e:for(;w!==null;){switch(w.tag){case 27:case 5:kt=w.stateNode,Ln=!1;break e;case 3:kt=w.stateNode.containerInfo,Ln=!0;break e;case 4:kt=w.stateNode.containerInfo,Ln=!0;break e}w=w.return}if(kt===null)throw Error(i(160));Wv(m,b,h),kt=null,Ln=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Jv(s,r),s=s.sibling}var cr=null;function Jv(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Wn(s,r),Zn(r),u&4&&(rs(3,r,r.return),zl(3,r),rs(5,r,r.return));break;case 1:Wn(s,r),Zn(r),u&512&&(St||o===null||Vn(o,o.return)),u&64&&hi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=cr;if(Wn(s,r),Zn(r),u&512&&(St||o===null||Vn(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":m=h.getElementsByTagName("title")[0],(!m||m[zi]||m[Yt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(u),h.head.insertBefore(m,h.querySelector("head > title"))),an(m,u,o),m[Yt]=r,vt(m),u=m;break e;case"link":var b=q_("link","href",h).get(u+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(o.href==null?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break t}}m=h.createElement(u),an(m,u,o),h.head.appendChild(m);break;case"meta":if(b=q_("meta","content",h).get(u+(o.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break t}}m=h.createElement(u),an(m,u,o),h.head.appendChild(m);break;default:throw Error(i(468,u))}m[Yt]=r,vt(m),u=m}r.stateNode=u}else $_(h,r.type,r.stateNode);else r.stateNode=H_(h,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?$_(h,r.type,r.stateNode):H_(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&$v(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){h=r.stateNode,m=r.memoizedProps;try{for(var N=h.firstChild;N;){var F=N.nextSibling,ee=N.nodeName;N[zi]||ee==="HEAD"||ee==="BODY"||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&N.rel.toLowerCase()==="stylesheet"||h.removeChild(N),N=F}for(var ae=r.type,X=h.attributes;X.length;)h.removeAttributeNode(X[0]);an(h,ae,m),h[Yt]=r,h[Lt]=m}catch(we){ft(r,r.return,we)}}case 5:if(Wn(s,r),Zn(r),u&512&&(St||o===null||Vn(o,o.return)),r.flags&32){h=r.stateNode;try{Fn(h,"")}catch(we){ft(r,r.return,we)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,$v(r,h,o!==null?o.memoizedProps:h)),u&1024&&(tp=!0);break;case 6:if(Wn(s,r),Zn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(we){ft(r,r.return,we)}}break;case 3:if(of=null,h=cr,cr=sf(s.containerInfo),Wn(s,r),cr=h,Zn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{iu(s.containerInfo)}catch(we){ft(r,r.return,we)}tp&&(tp=!1,e_(r));break;case 4:u=cr,cr=sf(r.stateNode.containerInfo),Wn(s,r),Zn(r),cr=u;break;case 12:Wn(s,r),Zn(r);break;case 13:Wn(s,r),Zn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(fp=_e()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,np(r,u)));break;case 22:if(u&512&&(St||o===null||Vn(o,o.return)),N=r.memoizedState!==null,F=o!==null&&o.memoizedState!==null,ee=hi,ae=St,hi=ee||N,St=ae||F,Wn(s,r),St=ae,hi=ee,Zn(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=N?s._visibility&-2:s._visibility|1,N&&(s=hi||St,o===null||F||s||po(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){F=o=s;try{if(h=F.stateNode,N)m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=F.stateNode,w=F.memoizedProps.style;var J=w!=null&&w.hasOwnProperty("display")?w.display:null;b.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(we){ft(F,F.return,we)}}}else if(s.tag===6){if(o===null){F=s;try{F.stateNode.nodeValue=N?"":F.memoizedProps}catch(we){ft(F,F.return,we)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,np(r,o))));break;case 19:Wn(s,r),Zn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,np(r,u)));break;case 21:break;default:Wn(s,r),Zn(r)}}function Zn(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(Gv(o)){var u=o;break e}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var h=u.stateNode,m=Jd(r);Hc(r,m,h);break;case 5:var b=u.stateNode;u.flags&32&&(Fn(b,""),u.flags&=-33);var w=Jd(r);Hc(r,w,b);break;case 3:case 4:var N=u.stateNode.containerInfo,F=Jd(r);ep(r,F,N);break;default:throw Error(i(161))}}}catch(ee){ft(r,r.return,ee)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function e_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;e_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function pi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Yv(r,s.alternate,s),s=s.sibling}function po(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:rs(4,s,s.return),po(s);break;case 1:Vn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Hv(s,s.return,o),po(s);break;case 26:case 27:case 5:Vn(s,s.return),po(s);break;case 22:Vn(s,s.return),s.memoizedState===null&&po(s);break;default:po(s)}r=r.sibling}}function is(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=r,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:is(h,m,o),zl(4,m);break;case 1:if(is(h,m,o),u=m,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){ft(u,u.return,F)}if(u=m,h=u.updateQueue,h!==null){var w=u.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)zv(N[h],w)}catch(F){ft(u,u.return,F)}}o&&b&64&&Fv(m),da(m,m.return);break;case 26:case 27:case 5:is(h,m,o),o&&u===null&&b&4&&qv(m),da(m,m.return);break;case 12:is(h,m,o);break;case 13:is(h,m,o),o&&b&4&&Zv(h,m);break;case 22:m.memoizedState===null&&is(h,m,o),da(m,m.return);break;default:is(h,m,o)}s=s.sibling}}function rp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Ol(o))}function ip(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Ol(r))}function ss(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)t_(r,s,o,u),s=s.sibling}function t_(r,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:ss(r,s,o,u),h&2048&&zl(9,s);break;case 3:ss(r,s,o,u),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Ol(r)));break;case 12:if(h&2048){ss(r,s,o,u),r=s.stateNode;try{var m=s.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(N){ft(s,s.return,N)}}else ss(r,s,o,u);break;case 23:break;case 22:m=s.stateNode,s.memoizedState!==null?m._visibility&4?ss(r,s,o,u):Bl(r,s):m._visibility&4?ss(r,s,o,u):(m._visibility|=4,mo(r,s,o,u,(s.subtreeFlags&10256)!==0)),h&2048&&rp(s.alternate,s);break;case 24:ss(r,s,o,u),h&2048&&ip(s.alternate,s);break;default:ss(r,s,o,u)}}function mo(r,s,o,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=r,b=s,w=o,N=u,F=b.flags;switch(b.tag){case 0:case 11:case 15:mo(m,b,w,N,h),zl(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&4?mo(m,b,w,N,h):Bl(m,b):(ee._visibility|=4,mo(m,b,w,N,h)),h&&F&2048&&rp(b.alternate,b);break;case 24:mo(m,b,w,N,h),h&&F&2048&&ip(b.alternate,b);break;default:mo(m,b,w,N,h)}s=s.sibling}}function Bl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,h=u.flags;switch(u.tag){case 22:Bl(o,u),h&2048&&rp(u.alternate,u);break;case 24:Bl(o,u),h&2048&&ip(u.alternate,u);break;default:Bl(o,u)}s=s.sibling}}var Fl=8192;function go(r){if(r.subtreeFlags&Fl)for(r=r.child;r!==null;)n_(r),r=r.sibling}function n_(r){switch(r.tag){case 26:go(r),r.flags&Fl&&r.memoizedState!==null&&_A(cr,r.memoizedState,r.memoizedProps);break;case 5:go(r);break;case 3:case 4:var s=cr;cr=sf(r.stateNode.containerInfo),go(r),cr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Fl,Fl=16777216,go(r),Fl=s):go(r));break;default:go(r)}}function r_(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Hl(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Jt=u,s_(u,r)}r_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)i_(r),r=r.sibling}function i_(r){switch(r.tag){case 0:case 11:case 15:Hl(r),r.flags&2048&&rs(9,r,r.return);break;case 3:Hl(r);break;case 12:Hl(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,qc(r)):Hl(r);break;default:Hl(r)}}function qc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Jt=u,s_(u,r)}r_(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:rs(8,s,s.return),qc(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,qc(s));break;default:qc(s)}r=r.sibling}}function s_(r,s){for(;Jt!==null;){var o=Jt;switch(o.tag){case 0:case 11:case 15:rs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ol(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Jt=u;else e:for(o=r;Jt!==null;){u=Jt;var h=u.sibling,m=u.return;if(Xv(u),u===o){Jt=null;break e}if(h!==null){h.return=m,Jt=h;break e}Jt=m}}}function NS(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(r,s,o,u){return new NS(r,s,o,u)}function sp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function as(r,s){var o=r.alternate;return o===null?(o=Jn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function a_(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function $c(r,s,o,u,h,m){var b=0;if(u=r,typeof r=="function")sp(r)&&(b=1);else if(typeof r=="string")b=yA(r,o,Gt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case p:return pa(o.children,h,m,s);case g:b=8,h|=24;break;case v:return r=Jn(12,o,s,h|2),r.elementType=v,r.lanes=m,r;case M:return r=Jn(13,o,s,h),r.elementType=M,r.lanes=m,r;case k:return r=Jn(19,o,s,h),r.elementType=k,r.lanes=m,r;case G:return o_(o,h,m,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case E:case R:b=10;break e;case T:b=9;break e;case O:b=11;break e;case $:b=14;break e;case B:b=16,u=null;break e}b=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Jn(b,o,s,h),s.elementType=r,s.type=u,s.lanes=m,s}function pa(r,s,o,u){return r=Jn(7,r,u,s),r.lanes=o,r}function o_(r,s,o,u){r=Jn(22,r,u,s),r.elementType=G,r.lanes=o;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=h._current;if(m===null)throw Error(i(456));if((h._pendingVisibility&2)===0){var b=Qi(m,2);b!==null&&(h._pendingVisibility|=2,Tn(b,m,2))}},attach:function(){var m=h._current;if(m===null)throw Error(i(456));if((h._pendingVisibility&2)!==0){var b=Qi(m,2);b!==null&&(h._pendingVisibility&=-3,Tn(b,m,2))}}};return r.stateNode=h,r}function ap(r,s,o){return r=Jn(6,r,null,s),r.lanes=o,r}function op(r,s,o){return s=Jn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function mi(r){r.flags|=4}function l_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!G_(s)){if(s=Xn.current,s!==null&&((et&4194176)===et?Cr!==null:(et&62914560)!==et&&(et&536870912)===0||s!==Cr))throw Rl=hd,Ay;r.flags|=8192}}function Gc(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Li():536870912,r.lanes|=s,vo|=s)}function ql(r,s){if(!rt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function _t(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&31457280,u|=h.flags&31457280,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function kS(r,s,o){var u=s.pendingProps;switch(cd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(s),null;case 1:return _t(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),fi(zt),mr(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(wl(s)?mi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ur!==null&&(mp(ur),ur=null))),_t(s),null;case 26:return o=s.memoizedState,r===null?(mi(s),o!==null?(_t(s),l_(s,o)):(_t(s),s.flags&=-16777217)):o?o!==r.memoizedState?(mi(s),_t(s),l_(s,o)):(_t(s),s.flags&=-16777217):(r.memoizedProps!==u&&mi(s),_t(s),s.flags&=-16777217),null;case 27:U(s),o=yn.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&mi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return _t(s),null}r=Gt.current,wl(s)?wy(s):(r=U_(h,u,o),s.stateNode=r,mi(s))}return _t(s),null;case 5:if(U(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&mi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return _t(s),null}if(r=Gt.current,wl(s))wy(s);else{switch(h=rf(yn.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[Yt]=s,r[Lt]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(an(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&mi(s)}}return _t(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&mi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=yn.current,wl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,h=En,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Yt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||N_(r.nodeValue,o)),r||ia(s)}else r=rf(r).createTextNode(u),r[Yt]=s,s.stateNode=r}return _t(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=wl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Yt]=s}else Sl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),h=!1}else ur!==null&&(mp(ur),ur=null),h=!0;if(!h)return s.flags&256?(oi(s),s):(oi(s),null)}if(oi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Gc(s,s.updateQueue),_t(s),null;case 4:return mr(),r===null&&xp(s.stateNode.containerInfo),_t(s),null;case 10:return fi(s.type),_t(s),null;case 19:if(pt(jt),h=s.memoizedState,h===null)return _t(s),null;if(u=(s.flags&128)!==0,m=h.rendering,m===null)if(u)ql(h,!1);else{if(At!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(m=Ic(r),m!==null){for(s.flags|=128,ql(h,!1),r=m.updateQueue,s.updateQueue=r,Gc(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)a_(o,r),o=o.sibling;return st(jt,jt.current&1|2),s.child}r=r.sibling}h.tail!==null&&_e()>Kc&&(s.flags|=128,u=!0,ql(h,!1),s.lanes=4194304)}else{if(!u)if(r=Ic(m),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Gc(s,r),ql(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!rt)return _t(s),null}else 2*_e()-h.renderingStartTime>Kc&&o!==536870912&&(s.flags|=128,u=!0,ql(h,!1),s.lanes=4194304);h.isBackwards?(m.sibling=s.child,s.child=m):(r=h.last,r!==null?r.sibling=m:s.child=m,h.last=m)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=_e(),s.sibling=null,r=jt.current,st(jt,u?r&1|2:r&1),s):(_t(s),null);case 22:case 23:return oi(s),pd(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(_t(s),s.subtreeFlags&6&&(s.flags|=8192)):_t(s),o=s.updateQueue,o!==null&&Gc(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&pt(aa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),fi(zt),_t(s),null;case 25:return null}throw Error(i(156,s.tag))}function PS(r,s){switch(cd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return fi(zt),mr(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return U(s),null;case 13:if(oi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Sl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return pt(jt),null;case 4:return mr(),null;case 10:return fi(s.type),null;case 22:case 23:return oi(s),pd(),r!==null&&pt(aa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return fi(zt),null;case 25:return null;default:return null}}function u_(r,s){switch(cd(s),s.tag){case 3:fi(zt),mr();break;case 26:case 27:case 5:U(s);break;case 4:mr();break;case 13:oi(s);break;case 19:pt(jt);break;case 10:fi(s.type);break;case 22:case 23:oi(s),pd(),r!==null&&pt(aa);break;case 24:fi(zt)}}var VS={getCacheForType:function(r){var s=cn(zt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},LS=typeof WeakMap=="function"?WeakMap:Map,bt=0,ht=null,Ke=null,et=0,dt=0,Mn=null,gi=!1,yo=!1,lp=!1,yi=0,At=0,os=0,ma=0,up=0,er=0,vo=0,$l=null,Or=null,cp=!1,fp=0,Kc=1/0,Qc=null,ls=null,Yc=!1,ga=null,Gl=0,hp=0,dp=null,Kl=0,pp=null;function Un(){if((bt&2)!==0&&et!==0)return et&-et;if(A.T!==null){var r=lo;return r!==0?r:Tp()}return tc()}function c_(){er===0&&(er=(et&536870912)===0||rt?sl():536870912);var r=Xn.current;return r!==null&&(r.flags|=32),er}function Tn(r,s,o){(r===ht&&dt===2||r.cancelPendingCommit!==null)&&(_o(r,0),vi(r,et,er,!1)),Rt(r,o),((bt&2)===0||r!==ht)&&(r===ht&&((bt&2)===0&&(ma|=o),At===4&&vi(r,et,er,!1)),Dr(r))}function f_(r,s,o){if((bt&6)!==0)throw Error(i(327));var u=!o&&(s&60)===0&&(s&r.expiredLanes)===0||Vi(r,s),h=u?jS(r,s):vp(r,s,!0),m=u;do{if(h===0){yo&&!u&&vi(r,s,0,!1);break}else if(h===6)vi(r,s,0,!gi);else{if(o=r.current.alternate,m&&!MS(o)){h=vp(r,s,!1),m=!1;continue}if(h===2){if(m=s,r.errorRecoveryDisabledLanes&m)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var w=r;h=$l;var N=w.current.memoizedState.isDehydrated;if(N&&(_o(w,b).flags|=256),b=vp(w,b,!1),b!==2){if(lp&&!N){w.errorRecoveryDisabledLanes|=m,ma|=m,h=4;break e}m=Or,Or=h,m!==null&&mp(m)}h=b}if(m=!1,h!==2)continue}}if(h===1){_o(r,0),vi(r,s,0,!0);break}e:{switch(u=r,h){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){vi(u,s,er,!gi);break e}break;case 2:Or=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(m=fp+300-_e(),10<m)){if(vi(u,s,er,!gi),zn(u,0)!==0)break e;u.timeoutHandle=V_(h_.bind(null,u,o,Or,Qc,cp,s,er,ma,vo,gi,2,-0,0),m);break e}h_(u,o,Or,Qc,cp,s,er,ma,vo,gi,0,-0,0)}}break}while(!0);Dr(r)}function mp(r){Or===null?Or=r:Or.push.apply(Or,r)}function h_(r,s,o,u,h,m,b,w,N,F,ee,ae,X){var J=s.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(Jl={stylesheets:null,count:0,unsuspend:vA},n_(s),s=bA(),s!==null)){r.cancelPendingCommit=s(__.bind(null,r,o,u,h,b,w,N,1,ae,X)),vi(r,m,b,!F);return}__(r,o,u,h,b,w,N,ee,ae,X)}function MS(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],m=h.getSnapshot;h=h.value;try{if(!Pn(m(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vi(r,s,o,u){s&=~up,s&=~ma,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var h=s;0<h;){var m=31-vn(h),b=1<<m;u[m]=-1,h&=~b}o!==0&&Mi(r,o,s)}function Xc(){return(bt&6)===0?(Ql(0),!1):!0}function gp(){if(Ke!==null){if(dt===0)var r=Ke.return;else r=Ke,ci=fa=null,Td(r),ao=null,Cl=0,r=Ke;for(;r!==null;)u_(r.alternate,r),r=r.return;Ke=null}}function _o(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,nA(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),gp(),ht=r,Ke=o=as(r.current,null),et=s,dt=0,Mn=null,gi=!1,yo=Vi(r,s),lp=!1,vo=er=up=ma=os=At=0,Or=$l=null,cp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var h=31-vn(u),m=1<<h;s|=r[h],u&=~m}return yi=s,bc(),o}function d_(r,s){Fe=null,A.H=Ir,s===xl?(s=Cy(),dt=3):s===Ay?(s=Cy(),dt=4):dt=s===xv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Mn=s,Ke===null&&(At=1,zc(r,Kn(s,r.current)))}function p_(){var r=A.H;return A.H=Ir,r===null?Ir:r}function m_(){var r=A.A;return A.A=VS,r}function yp(){At=4,gi||(et&4194176)!==et&&Xn.current!==null||(yo=!0),(os&134217727)===0&&(ma&134217727)===0||ht===null||vi(ht,et,er,!1)}function vp(r,s,o){var u=bt;bt|=2;var h=p_(),m=m_();(ht!==r||et!==s)&&(Qc=null,_o(r,s)),s=!1;var b=At;e:do try{if(dt!==0&&Ke!==null){var w=Ke,N=Mn;switch(dt){case 8:gp(),b=6;break e;case 3:case 2:case 6:Xn.current===null&&(s=!0);var F=dt;if(dt=0,Mn=null,bo(r,w,N,F),o&&yo){b=0;break e}break;default:F=dt,dt=0,Mn=null,bo(r,w,N,F)}}US(),b=At;break}catch(ee){d_(r,ee)}while(!0);return s&&r.shellSuspendCounter++,ci=fa=null,bt=u,A.H=h,A.A=m,Ke===null&&(ht=null,et=0,bc()),b}function US(){for(;Ke!==null;)g_(Ke)}function jS(r,s){var o=bt;bt|=2;var u=p_(),h=m_();ht!==r||et!==s?(Qc=null,Kc=_e()+500,_o(r,s)):yo=Vi(r,s);e:do try{if(dt!==0&&Ke!==null){s=Ke;var m=Mn;t:switch(dt){case 1:dt=0,Mn=null,bo(r,s,m,1);break;case 2:if(xy(m)){dt=0,Mn=null,y_(s);break}s=function(){dt===2&&ht===r&&(dt=7),Dr(r)},m.then(s,s);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:xy(m)?(dt=0,Mn=null,y_(s)):(dt=0,Mn=null,bo(r,s,m,7));break;case 5:var b=null;switch(Ke.tag){case 26:b=Ke.memoizedState;case 5:case 27:var w=Ke;if(!b||G_(b)){dt=0,Mn=null;var N=w.sibling;if(N!==null)Ke=N;else{var F=w.return;F!==null?(Ke=F,Wc(F)):Ke=null}break t}}dt=0,Mn=null,bo(r,s,m,5);break;case 6:dt=0,Mn=null,bo(r,s,m,6);break;case 8:gp(),At=6;break e;default:throw Error(i(462))}}zS();break}catch(ee){d_(r,ee)}while(!0);return ci=fa=null,A.H=u,A.A=h,bt=o,Ke!==null?0:(ht=null,et=0,bc(),At)}function zS(){for(;Ke!==null&&!fe();)g_(Ke)}function g_(r){var s=Uv(r.alternate,r,yi);r.memoizedProps=r.pendingProps,s===null?Wc(r):Ke=s}function y_(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Nv(o,s,s.pendingProps,s.type,void 0,et);break;case 11:s=Nv(o,s,s.pendingProps,s.type.render,s.ref,et);break;case 5:Td(s);default:u_(o,s),s=Ke=a_(s,yi),s=Uv(o,s,yi)}r.memoizedProps=r.pendingProps,s===null?Wc(r):Ke=s}function bo(r,s,o,u){ci=fa=null,Td(s),ao=null,Cl=0;var h=s.return;try{if(CS(r,h,s,o,et)){At=1,zc(r,Kn(o,r.current)),Ke=null;return}}catch(m){if(h!==null)throw Ke=h,m;At=1,zc(r,Kn(o,r.current)),Ke=null;return}s.flags&32768?(rt||u===1?r=!0:yo||(et&536870912)!==0?r=!1:(gi=r=!0,(u===2||u===3||u===6)&&(u=Xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),v_(s,r)):Wc(s)}function Wc(r){var s=r;do{if((s.flags&32768)!==0){v_(s,gi);return}r=s.return;var o=kS(s.alternate,s,yi);if(o!==null){Ke=o;return}if(s=s.sibling,s!==null){Ke=s;return}Ke=s=r}while(s!==null);At===0&&(At=5)}function v_(r,s){do{var o=PS(r.alternate,r);if(o!==null){o.flags&=32767,Ke=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ke=r;return}Ke=r=o}while(r!==null);At=6,Ke=null}function __(r,s,o,u,h,m,b,w,N,F){var ee=A.T,ae=me.p;try{me.p=2,A.T=null,BS(r,s,o,u,ae,h,m,b,w,N,F)}finally{A.T=ee,me.p=ae}}function BS(r,s,o,u,h,m,b,w){do Eo();while(ga!==null);if((bt&6)!==0)throw Error(i(327));var N=r.finishedWork;if(u=r.finishedLanes,N===null)return null;if(r.finishedWork=null,r.finishedLanes=0,N===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var F=N.lanes|N.childLanes;if(F|=od,Ju(r,u,F,m,b,w),r===ht&&(Ke=ht=null,et=0),(N.subtreeFlags&10256)===0&&(N.flags&10256)===0||Yc||(Yc=!0,hp=F,dp=o,$S(Kt,function(){return Eo(),null})),o=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||o?(o=A.T,A.T=null,m=me.p,me.p=2,b=bt,bt|=4,OS(r,N),Jv(N,r),fS(Op,r.containerInfo),cf=!!Ip,Op=Ip=null,r.current=N,Yv(r,N.alternate,N),ue(),bt=b,me.p=m,A.T=o):r.current=N,Yc?(Yc=!1,ga=r,Gl=u):b_(r,F),F=r.pendingLanes,F===0&&(ls=null),ki(N.stateNode),Dr(r),s!==null)for(h=r.onRecoverableError,N=0;N<s.length;N++)F=s[N],h(F.value,{componentStack:F.stack});return(Gl&3)!==0&&Eo(),F=r.pendingLanes,(u&4194218)!==0&&(F&42)!==0?r===pp?Kl++:(Kl=0,pp=r):Kl=0,Ql(0),null}function b_(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Ol(s)))}function Eo(){if(ga!==null){var r=ga,s=hp;hp=0;var o=ec(Gl),u=A.T,h=me.p;try{if(me.p=32>o?32:o,A.T=null,ga===null)var m=!1;else{o=dp,dp=null;var b=ga,w=Gl;if(ga=null,Gl=0,(bt&6)!==0)throw Error(i(331));var N=bt;if(bt|=4,i_(b.current),t_(b,b.current,w,o),bt=N,Ql(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(sr,b)}catch{}m=!0}return m}finally{me.p=h,A.T=u,b_(r,s)}}return!1}function E_(r,s,o){s=Kn(o,s),s=Ld(r.stateNode,s,2),r=ns(r,s,2),r!==null&&(Rt(r,2),Dr(r))}function ft(r,s,o){if(r.tag===3)E_(r,r,o);else for(;s!==null;){if(s.tag===3){E_(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ls===null||!ls.has(u))){r=Kn(o,r),o=Sv(2),u=ns(s,o,2),u!==null&&(Av(o,u,s,r),Rt(u,2),Dr(u));break}}s=s.return}}function _p(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new LS;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(lp=!0,h.add(o),r=FS.bind(null,r,s,o),s.then(r,r))}function FS(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ht===r&&(et&o)===o&&(At===4||At===3&&(et&62914560)===et&&300>_e()-fp?(bt&2)===0&&_o(r,0):up|=o,vo===et&&(vo=0)),Dr(r)}function T_(r,s){s===0&&(s=Li()),r=Qi(r,s),r!==null&&(Rt(r,s),Dr(r))}function HS(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),T_(r,o)}function qS(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),T_(r,o)}function $S(r,s){return Z(r,s)}var Zc=null,To=null,bp=!1,Jc=!1,Ep=!1,ya=0;function Dr(r){r!==To&&r.next===null&&(To===null?Zc=To=r:To=To.next=r),Jc=!0,bp||(bp=!0,KS(GS))}function Ql(r,s){if(!Ep&&Jc){Ep=!0;do for(var o=!1,u=Zc;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var m=0;else{var b=u.suspendedLanes,w=u.pingedLanes;m=(1<<31-vn(42|r)+1)-1,m&=h&~(b&~w),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(o=!0,A_(u,m))}else m=et,m=zn(u,u===ht?m:0),(m&3)===0||Vi(u,m)||(o=!0,A_(u,m));u=u.next}while(o);Ep=!1}}function GS(){Jc=bp=!1;var r=0;ya!==0&&(tA()&&(r=ya),ya=0);for(var s=_e(),o=null,u=Zc;u!==null;){var h=u.next,m=w_(u,s);m===0?(u.next=null,o===null?Zc=h:o.next=h,h===null&&(To=o)):(o=u,(r!==0||(m&3)!==0)&&(Jc=!0)),u=h}Ql(r)}function w_(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var b=31-vn(m),w=1<<b,N=h[b];N===-1?((w&o)===0||(w&u)!==0)&&(h[b]=ja(w,s)):N<=s&&(r.expiredLanes|=w),m&=~w}if(s=ht,o=et,o=zn(r,r===s?o:0),u=r.callbackNode,o===0||r===s&&dt===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&he(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Vi(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&he(u),ec(o)){case 2:case 8:o=Ge;break;case 32:o=Kt;break;case 268435456:o=Qr;break;default:o=Kt}return u=S_.bind(null,r),o=Z(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&he(u),r.callbackPriority=2,r.callbackNode=null,2}function S_(r,s){var o=r.callbackNode;if(Eo()&&r.callbackNode!==o)return null;var u=et;return u=zn(r,r===ht?u:0),u===0?null:(f_(r,u,s),w_(r,_e()),r.callbackNode!=null&&r.callbackNode===o?S_.bind(null,r):null)}function A_(r,s){if(Eo())return null;f_(r,s,!0)}function KS(r){rA(function(){(bt&6)!==0?Z(qe,r):r()})}function Tp(){return ya===0&&(ya=sl()),ya}function x_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:br(""+r)}function R_(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function QS(r,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var m=x_((h[Lt]||null).action),b=u.submitter;b&&(s=(s=b[Lt]||null)?x_(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var w=new Ga("action","action",null,u,h);r.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ya!==0){var N=b?R_(h,b):new FormData(h);Dd(o,{pending:!0,data:N,method:h.method,action:m},null,N)}}else typeof m=="function"&&(w.preventDefault(),N=b?R_(h,b):new FormData(h),Dd(o,{pending:!0,data:N,method:h.method,action:m},m,N))},currentTarget:h}]})}}for(var wp=0;wp<_y.length;wp++){var Sp=_y[wp],YS=Sp.toLowerCase(),XS=Sp[0].toUpperCase()+Sp.slice(1);lr(YS,"on"+XS)}lr(py,"onAnimationEnd"),lr(my,"onAnimationIteration"),lr(gy,"onAnimationStart"),lr("dblclick","onDoubleClick"),lr("focusin","onFocus"),lr("focusout","onBlur"),lr(dS,"onTransitionRun"),lr(pS,"onTransitionStart"),lr(mS,"onTransitionCancel"),lr(yy,"onTransitionEnd"),xn("onMouseEnter",["mouseout","mouseover"]),xn("onMouseLeave",["mouseout","mouseover"]),xn("onPointerEnter",["pointerout","pointerover"]),xn("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function C_(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var b=u.length-1;0<=b;b--){var w=u[b],N=w.instance,F=w.currentTarget;if(w=w.listener,N!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=F;try{m(h)}catch(ee){jc(ee)}h.currentTarget=null,m=N}else for(b=0;b<u.length;b++){if(w=u[b],N=w.instance,F=w.currentTarget,w=w.listener,N!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=F;try{m(h)}catch(ee){jc(ee)}h.currentTarget=null,m=N}}}}function We(r,s){var o=s[Fs];o===void 0&&(o=s[Fs]=new Set);var u=r+"__bubble";o.has(u)||(I_(s,r,2,!1),o.add(u))}function Ap(r,s,o){var u=0;s&&(u|=4),I_(o,r,u,s)}var ef="_reactListening"+Math.random().toString(36).slice(2);function xp(r){if(!r[ef]){r[ef]=!0,ol.forEach(function(o){o!=="selectionchange"&&(WS.has(o)||Ap(o,!1,r),Ap(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ef]||(s[ef]=!0,Ap("selectionchange",!1,s))}}function I_(r,s,o,u){switch(Z_(s)){case 2:var h=wA;break;case 8:h=SA;break;default:h=jp}o=h.bind(null,s,o,r),h=void 0,!qn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function Rp(r,s,o,u,h){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(b===4)for(b=u.return;b!==null;){var N=b.tag;if((N===3||N===4)&&(N=b.stateNode.containerInfo,N===h||N.nodeType===8&&N.parentNode===h))return;b=b.return}for(;w!==null;){if(b=or(w),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){u=m=b;continue e}w=w.parentNode}}u=u.return}sc(function(){var F=m,ee=$a(o),ae=[];e:{var X=vy.get(r);if(X!==void 0){var J=Ga,we=r;switch(r){case"keypress":if(Tr(o)===0)break e;case"keydown":case"keyup":J=Za;break;case"focusin":we="focus",J=Ya;break;case"focusout":we="blur",J=Ya;break;case"beforeblur":case"afterblur":J=Ya;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=$n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=dc;break;case py:case my:case gy:J=Xa;break;case yy:J=mc;break;case"scroll":case"scrollend":J=ac;break;case"wheel":J=Ja;break;case"copy":case"cut":case"paste":J=Wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=_l;break;case"toggle":case"beforetoggle":J=yc}var Me=(s&4)!==0,xt=!Me&&(r==="scroll"||r==="scrollend"),q=Me?X!==null?X+"Capture":null:X;Me=[];for(var z=F,Q;z!==null;){var te=z;if(Q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Q===null||q===null||(te=Ks(z,q),te!=null&&Me.push(Xl(z,te,Q))),xt)break;z=z.return}0<Me.length&&(X=new J(X,we,null,o,ee),ae.push({event:X,listeners:Me}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",X&&o!==Hn&&(we=o.relatedTarget||o.fromElement)&&(or(we)||we[Xr]))break e;if((J||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,J?(we=o.relatedTarget||o.toElement,J=F,we=we?or(we):null,we!==null&&(xt=ye(we),Me=we.tag,we!==xt||Me!==5&&Me!==27&&Me!==6)&&(we=null)):(J=null,we=F),J!==we)){if(Me=$n,te="onMouseLeave",q="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(Me=_l,te="onPointerLeave",q="onPointerEnter",z="pointer"),xt=J==null?X:Bi(J),Q=we==null?X:Bi(we),X=new Me(te,z+"leave",J,o,ee),X.target=xt,X.relatedTarget=Q,te=null,or(ee)===F&&(Me=new Me(q,z+"enter",we,o,ee),Me.target=Q,Me.relatedTarget=xt,te=Me),xt=te,J&&we)t:{for(Me=J,q=we,z=0,Q=Me;Q;Q=wo(Q))z++;for(Q=0,te=q;te;te=wo(te))Q++;for(;0<z-Q;)Me=wo(Me),z--;for(;0<Q-z;)q=wo(q),Q--;for(;z--;){if(Me===q||q!==null&&Me===q.alternate)break t;Me=wo(Me),q=wo(q)}Me=null}else Me=null;J!==null&&O_(ae,X,J,Me,!1),we!==null&&xt!==null&&O_(ae,xt,we,Me,!0)}}e:{if(X=F?Bi(F):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var Ee=ry;else if(Ut(X))if(iy)Ee=uS;else{Ee=oS;var $e=aS}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?F&&hl(F.elementType)&&(Ee=ry):Ee=lS;if(Ee&&(Ee=Ee(r,F))){ii(ae,Ee,o,ee);break e}$e&&$e(r,X,F),r==="focusout"&&F&&X.type==="number"&&F.memoizedProps.value!=null&&qa(X,"number",X.value)}switch($e=F?Bi(F):window,r){case"focusin":(Ut($e)||$e.contentEditable==="true")&&(eo=$e,id=F,Tl=null);break;case"focusout":Tl=id=eo=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,hy(ae,o,ee);break;case"selectionchange":if(hS)break;case"keydown":case"keyup":hy(ae,o,ee)}var Se;if(Ar)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ze?W(r,o)&&(Oe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Oe="onCompositionStart");Oe&&(_&&o.locale!=="ko"&&(Ze||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ze&&(Se=pl()):(Er=ee,Ki="value"in Er?Er.value:Er.textContent,Ze=!0)),$e=tf(F,Oe),0<$e.length&&(Oe=new yl(Oe,r,null,o,ee),ae.push({event:Oe,listeners:$e}),Se?Oe.data=Se:(Se=ce(o),Se!==null&&(Oe.data=Se)))),(Se=y?Mt(r,o):Je(r,o))&&(Oe=tf(F,"onBeforeInput"),0<Oe.length&&($e=new yl("onBeforeInput","beforeinput",null,o,ee),ae.push({event:$e,listeners:Oe}),$e.data=Se)),QS(ae,r,F,o,ee)}C_(ae,s)})}function Xl(r,s,o){return{instance:r,listener:s,currentTarget:o}}function tf(r,s){for(var o=s+"Capture",u=[];r!==null;){var h=r,m=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Ks(r,o),h!=null&&u.unshift(Xl(r,h,m)),h=Ks(r,s),h!=null&&u.push(Xl(r,h,m))),r=r.return}return u}function wo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function O_(r,s,o,u,h){for(var m=s._reactName,b=[];o!==null&&o!==u;){var w=o,N=w.alternate,F=w.stateNode;if(w=w.tag,N!==null&&N===u)break;w!==5&&w!==26&&w!==27||F===null||(N=F,h?(F=Ks(o,m),F!=null&&b.unshift(Xl(o,F,N))):h||(F=Ks(o,m),F!=null&&b.push(Xl(o,F,N)))),o=o.return}b.length!==0&&r.push({event:s,listeners:b})}var ZS=/\r\n?/g,JS=/\u0000|\uFFFD/g;function D_(r){return(typeof r=="string"?r:""+r).replace(ZS,`
`).replace(JS,"")}function N_(r,s){return s=D_(s),D_(r)===s}function nf(){}function ct(r,s,o,u,h,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Fn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Fn(r,""+u);break;case"className":qi(r,"class",u);break;case"tabIndex":qi(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":qi(r,o,u);break;case"style":ic(r,u,m);break;case"data":if(s!=="object"){qi(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=br(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&ct(r,s,"name",h.name,h,null),ct(r,s,"formEncType",h.formEncType,h,null),ct(r,s,"formMethod",h.formMethod,h,null),ct(r,s,"formTarget",h.formTarget,h,null)):(ct(r,s,"encType",h.encType,h,null),ct(r,s,"method",h.method,h,null),ct(r,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=br(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=nf);break;case"onScroll":u!=null&&We("scroll",r);break;case"onScrollEnd":u!=null&&We("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=br(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":We("beforetoggle",r),We("toggle",r),Hi(r,"popover",u);break;case"xlinkActuate":Bn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Bn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Bn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Bn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Bn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Bn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Bn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Bn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Bn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Hi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Wh.get(o)||o,Hi(r,o,u))}}function Cp(r,s,o,u,h,m){switch(o){case"style":ic(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Fn(r,u):(typeof u=="number"||typeof u=="bigint")&&Fn(r,""+u);break;case"onScroll":u!=null&&We("scroll",r);break;case"onScrollEnd":u!=null&&We("scrollend",r);break;case"onClick":u!=null&&(r.onclick=nf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fa.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),m=r[Lt]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(s,m,h),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Hi(r,o,u)}}}function an(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",r),We("load",r);var u=!1,h=!1,m;for(m in o)if(o.hasOwnProperty(m)){var b=o[m];if(b!=null)switch(m){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ct(r,s,m,b,o,null)}}h&&ct(r,s,"srcSet",o.srcSet,o,null),u&&ct(r,s,"src",o.src,o,null);return;case"input":We("invalid",r);var w=m=b=h=null,N=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var ee=o[u];if(ee!=null)switch(u){case"name":h=ee;break;case"type":b=ee;break;case"checked":N=ee;break;case"defaultChecked":F=ee;break;case"value":m=ee;break;case"defaultValue":w=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:ct(r,s,u,ee,o,null)}}$s(r,m,w,N,F,b,h,!1),qs(r);return;case"select":We("invalid",r),u=b=m=null;for(h in o)if(o.hasOwnProperty(h)&&(w=o[h],w!=null))switch(h){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:ct(r,s,h,w,o,null)}s=m,o=b,r.multiple=!!u,s!=null?nt(r,!!u,s,!1):o!=null&&nt(r,!!u,o,!0);return;case"textarea":We("invalid",r),m=h=u=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":h=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ct(r,s,b,w,o,null)}Gi(r,u,h,m),qs(r);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ct(r,s,N,u,o,null)}return;case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":We("load",r);break;case"video":case"audio":for(u=0;u<Yl.length;u++)We(Yl[u],r);break;case"image":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"embed":case"source":case"link":We("error",r),We("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ct(r,s,F,u,o,null)}return;default:if(hl(s)){for(ee in o)o.hasOwnProperty(ee)&&(u=o[ee],u!==void 0&&Cp(r,s,ee,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&ct(r,s,w,u,o,null))}function eA(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,w=null,N=null,F=null,ee=null;for(J in o){var ae=o[J];if(o.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":N=ae;default:u.hasOwnProperty(J)||ct(r,s,J,null,u,ae)}}for(var X in u){var J=u[X];if(ae=o[X],u.hasOwnProperty(X)&&(J!=null||ae!=null))switch(X){case"type":m=J;break;case"name":h=J;break;case"checked":F=J;break;case"defaultChecked":ee=J;break;case"value":b=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:J!==ae&&ct(r,s,X,J,u,ae)}}$i(r,b,w,N,F,ee,m,h);return;case"select":J=b=w=X=null;for(m in o)if(N=o[m],o.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":J=N;default:u.hasOwnProperty(m)||ct(r,s,m,null,u,N)}for(h in u)if(m=u[h],N=o[h],u.hasOwnProperty(h)&&(m!=null||N!=null))switch(h){case"value":X=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==N&&ct(r,s,h,m,u,N)}s=w,o=b,u=J,X!=null?nt(r,!!o,X,!1):!!u!=!!o&&(s!=null?nt(r,!!o,s,!0):nt(r,!!o,o?[]:"",!1));return;case"textarea":J=X=null;for(w in o)if(h=o[w],o.hasOwnProperty(w)&&h!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ct(r,s,w,null,u,h)}for(b in u)if(h=u[b],m=o[b],u.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":X=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==m&&ct(r,s,b,h,u,m)}Gs(r,X,J);return;case"option":for(var we in o)if(X=o[we],o.hasOwnProperty(we)&&X!=null&&!u.hasOwnProperty(we))switch(we){case"selected":r.selected=!1;break;default:ct(r,s,we,null,u,X)}for(N in u)if(X=u[N],J=o[N],u.hasOwnProperty(N)&&X!==J&&(X!=null||J!=null))switch(N){case"selected":r.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ct(r,s,N,X,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in o)X=o[Me],o.hasOwnProperty(Me)&&X!=null&&!u.hasOwnProperty(Me)&&ct(r,s,Me,null,u,X);for(F in u)if(X=u[F],J=o[F],u.hasOwnProperty(F)&&X!==J&&(X!=null||J!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:ct(r,s,F,X,u,J)}return;default:if(hl(s)){for(var xt in o)X=o[xt],o.hasOwnProperty(xt)&&X!==void 0&&!u.hasOwnProperty(xt)&&Cp(r,s,xt,void 0,u,X);for(ee in u)X=u[ee],J=o[ee],!u.hasOwnProperty(ee)||X===J||X===void 0&&J===void 0||Cp(r,s,ee,X,u,J);return}}for(var q in o)X=o[q],o.hasOwnProperty(q)&&X!=null&&!u.hasOwnProperty(q)&&ct(r,s,q,null,u,X);for(ae in u)X=u[ae],J=o[ae],!u.hasOwnProperty(ae)||X===J||X==null&&J==null||ct(r,s,ae,X,u,J)}var Ip=null,Op=null;function rf(r){return r.nodeType===9?r:r.ownerDocument}function k_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P_(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Dp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Np=null;function tA(){var r=window.event;return r&&r.type==="popstate"?r===Np?!1:(Np=r,!0):(Np=null,!1)}var V_=typeof setTimeout=="function"?setTimeout:void 0,nA=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,rA=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(r){return L_.resolve(null).then(r).catch(iA)}:V_;function iA(r){setTimeout(function(){throw r})}function kp(r,s){var o=s,u=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){r.removeChild(h),iu(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);iu(s)}function Pp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Pp(o),Hs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function sA(r,s,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[zi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==h.rel||r.getAttribute("href")!==(h.href==null?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=fr(r.nextSibling),r===null)break}return null}function aA(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=fr(r.nextSibling),r===null))return null;return r}function fr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function M_(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function U_(r,s,o){switch(s=rf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var tr=new Map,j_=new Set;function sf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var _i=me.d;me.d={f:oA,r:lA,D:uA,C:cA,L:fA,m:hA,X:pA,S:dA,M:mA};function oA(){var r=_i.f(),s=Xc();return r||s}function lA(r){var s=Wr(r);s!==null&&s.tag===5&&s.type==="form"?hv(s):_i.r(r)}var So=typeof document>"u"?null:document;function z_(r,s,o){var u=So;if(u&&typeof s=="string"&&s){var h=wt(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),j_.has(h)||(j_.add(h),r={rel:r,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),an(s,"link",r),vt(s),u.head.appendChild(s)))}}function uA(r){_i.D(r),z_("dns-prefetch",r,null)}function cA(r,s){_i.C(r,s),z_("preconnect",r,s)}function fA(r,s,o){_i.L(r,s,o);var u=So;if(u&&r&&s){var h='link[rel="preload"][as="'+wt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+wt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+wt(o.imageSizes)+'"]')):h+='[href="'+wt(r)+'"]';var m=h;switch(s){case"style":m=Ao(r);break;case"script":m=xo(r)}tr.has(m)||(r=C({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),tr.set(m,r),u.querySelector(h)!==null||s==="style"&&u.querySelector(Wl(m))||s==="script"&&u.querySelector(Zl(m))||(s=u.createElement("link"),an(s,"link",r),vt(s),u.head.appendChild(s)))}}function hA(r,s){_i.m(r,s);var o=So;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+wt(u)+'"][href="'+wt(r)+'"]',m=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=xo(r)}if(!tr.has(m)&&(r=C({rel:"modulepreload",href:r},s),tr.set(m,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Zl(m)))return}u=o.createElement("link"),an(u,"link",r),vt(u),o.head.appendChild(u)}}}function dA(r,s,o){_i.S(r,s,o);var u=So;if(u&&r){var h=Fi(u).hoistableStyles,m=Ao(r);s=s||"default";var b=h.get(m);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(Wl(m)))w.loading=5;else{r=C({rel:"stylesheet",href:r,"data-precedence":s},o),(o=tr.get(m))&&Vp(r,o);var N=b=u.createElement("link");vt(N),an(N,"link",r),N._p=new Promise(function(F,ee){N.onload=F,N.onerror=ee}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,af(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:w},h.set(m,b)}}}function pA(r,s){_i.X(r,s);var o=So;if(o&&r){var u=Fi(o).hoistableScripts,h=xo(r),m=u.get(h);m||(m=o.querySelector(Zl(h)),m||(r=C({src:r,async:!0},s),(s=tr.get(h))&&Lp(r,s),m=o.createElement("script"),vt(m),an(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function mA(r,s){_i.M(r,s);var o=So;if(o&&r){var u=Fi(o).hoistableScripts,h=xo(r),m=u.get(h);m||(m=o.querySelector(Zl(h)),m||(r=C({src:r,async:!0,type:"module"},s),(s=tr.get(h))&&Lp(r,s),m=o.createElement("script"),vt(m),an(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function B_(r,s,o,u){var h=(h=yn.current)?sf(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Ao(o.href),o=Fi(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Ao(o.href);var m=Fi(h).hoistableStyles,b=m.get(r);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,b),(m=h.querySelector(Wl(r)))&&!m._p&&(b.instance=m,b.state.loading=5),tr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},tr.set(r,o),m||gA(h,r,o,b.state))),s&&u===null)throw Error(i(528,""));return b}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=xo(o),o=Fi(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ao(r){return'href="'+wt(r)+'"'}function Wl(r){return'link[rel="stylesheet"]['+r+"]"}function F_(r){return C({},r,{"data-precedence":r.precedence,precedence:null})}function gA(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),an(s,"link",o),vt(s),r.head.appendChild(s))}function xo(r){return'[src="'+wt(r)+'"]'}function Zl(r){return"script[async]"+r}function H_(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+wt(o.href)+'"]');if(u)return s.instance=u,vt(u),u;var h=C({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),vt(u),an(u,"style",h),af(u,o.precedence,r),s.instance=u;case"stylesheet":h=Ao(o.href);var m=r.querySelector(Wl(h));if(m)return s.state.loading|=4,s.instance=m,vt(m),m;u=F_(o),(h=tr.get(h))&&Vp(u,h),m=(r.ownerDocument||r).createElement("link"),vt(m);var b=m;return b._p=new Promise(function(w,N){b.onload=w,b.onerror=N}),an(m,"link",u),s.state.loading|=4,af(m,o.precedence,r),s.instance=m;case"script":return m=xo(o.src),(h=r.querySelector(Zl(m)))?(s.instance=h,vt(h),h):(u=o,(h=tr.get(m))&&(u=C({},o),Lp(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),vt(h),an(h,"link",u),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,af(u,o.precedence,r));return s.instance}function af(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,m=h,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===s)m=w;else if(m!==h)break}m?m.parentNode.insertBefore(r,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Vp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Lp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var of=null;function q_(r,s,o){if(of===null){var u=new Map,h=of=new Map;h.set(o,u)}else h=of,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var m=o[h];if(!(m[zi]||m[Yt]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=r+b;var w=u.get(b);w?w.push(m):u.set(b,[m])}}return u}function $_(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function yA(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function G_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Jl=null;function vA(){}function _A(r,s,o){if(Jl===null)throw Error(i(475));var u=Jl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ao(o.href),m=r.querySelector(Wl(h));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=lf.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=m,vt(m);return}m=r.ownerDocument||r,o=F_(o),(h=tr.get(h))&&Vp(o,h),m=m.createElement("link"),vt(m);var b=m;b._p=new Promise(function(w,N){b.onload=w,b.onerror=N}),an(m,"link",o),s.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=lf.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function bA(){if(Jl===null)throw Error(i(475));var r=Jl;return r.stylesheets&&r.count===0&&Mp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Mp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function lf(){if(this.count--,this.count===0){if(this.stylesheets)Mp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var uf=null;function Mp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,uf=new Map,s.forEach(EA,r),uf=null,lf.call(r))}function EA(r,s){if(!(s.state.loading&4)){var o=uf.get(r);if(o)var u=o.get(null);else{o=new Map,uf.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}h=s.instance,b=h.getAttribute("data-precedence"),m=o.get(b)||u,m===u&&o.set(null,h),o.set(b,h),this.count++,u=lf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),m?m.parentNode.insertBefore(h,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var eu={$$typeof:R,Provider:null,Consumer:null,_currentValue:ze,_currentValue2:ze,_threadCount:0};function TA(r,s,o,u,h,m,b,w){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=za(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=za(0),this.hiddenUpdates=za(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function K_(r,s,o,u,h,m,b,w,N,F,ee,ae){return r=new TA(r,s,o,b,w,N,F,ae),s=1,m===!0&&(s|=24),m=Jn(3,null,null,s),r.current=m,m.stateNode=r,s=md(),s.refCount++,r.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},Yd(m),r}function Q_(r){return r?(r=ro,r):ro}function Y_(r,s,o,u,h,m){h=Q_(h),u.context===null?u.context=h:u.pendingContext=h,u=ts(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=ns(r,u,s),o!==null&&(Tn(o,r,s),Ml(o,r,s))}function X_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Up(r,s){X_(r,s),(r=r.alternate)&&X_(r,s)}function W_(r){if(r.tag===13){var s=Qi(r,67108864);s!==null&&Tn(s,r,67108864),Up(r,67108864)}}var cf=!0;function wA(r,s,o,u){var h=A.T;A.T=null;var m=me.p;try{me.p=2,jp(r,s,o,u)}finally{me.p=m,A.T=h}}function SA(r,s,o,u){var h=A.T;A.T=null;var m=me.p;try{me.p=8,jp(r,s,o,u)}finally{me.p=m,A.T=h}}function jp(r,s,o,u){if(cf){var h=zp(u);if(h===null)Rp(r,s,u,ff,o),J_(r,u);else if(xA(h,r,s,o,u))u.stopPropagation();else if(J_(r,u),s&4&&-1<AA.indexOf(r)){for(;h!==null;){var m=Wr(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=ar(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var N=1<<31-vn(b);w.entanglements[1]|=N,b&=~N}Dr(m),(bt&6)===0&&(Kc=_e()+500,Ql(0))}}break;case 13:w=Qi(m,2),w!==null&&Tn(w,m,2),Xc(),Up(m,2)}if(m=zp(u),m===null&&Rp(r,s,u,ff,o),m===h)break;h=m}h!==null&&u.stopPropagation()}else Rp(r,s,u,null,o)}}function zp(r){return r=$a(r),Bp(r)}var ff=null;function Bp(r){if(ff=null,r=or(r),r!==null){var s=ye(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=Ie(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return ff=r,null}function Z_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case qe:return 2;case Ge:return 8;case Kt:case Ua:return 32;case Qr:return 268435456;default:return 32}default:return 32}}var Fp=!1,us=null,cs=null,fs=null,tu=new Map,nu=new Map,hs=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J_(r,s){switch(r){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":tu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(s.pointerId)}}function ru(r,s,o,u,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},s!==null&&(s=Wr(s),s!==null&&W_(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function xA(r,s,o,u,h){switch(s){case"focusin":return us=ru(us,r,s,o,u,h),!0;case"dragenter":return cs=ru(cs,r,s,o,u,h),!0;case"mouseover":return fs=ru(fs,r,s,o,u,h),!0;case"pointerover":var m=h.pointerId;return tu.set(m,ru(tu.get(m)||null,r,s,o,u,h)),!0;case"gotpointercapture":return m=h.pointerId,nu.set(m,ru(nu.get(m)||null,r,s,o,u,h)),!0}return!1}function e0(r){var s=or(r.target);if(s!==null){var o=ye(s);if(o!==null){if(s=o.tag,s===13){if(s=Ie(o),s!==null){r.blockedOn=s,ji(r.priority,function(){if(o.tag===13){var u=Un(),h=Qi(o,u);h!==null&&Tn(h,o,u),Up(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function hf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=zp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Hn=u,o.target.dispatchEvent(u),Hn=null}else return s=Wr(o),s!==null&&W_(s),r.blockedOn=o,!1;s.shift()}return!0}function t0(r,s,o){hf(r)&&o.delete(s)}function RA(){Fp=!1,us!==null&&hf(us)&&(us=null),cs!==null&&hf(cs)&&(cs=null),fs!==null&&hf(fs)&&(fs=null),tu.forEach(t0),nu.forEach(t0)}function df(r,s){r.blockedOn===s&&(r.blockedOn=null,Fp||(Fp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,RA)))}var pf=null;function n0(r){pf!==r&&(pf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){pf===r&&(pf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],h=r[s+2];if(typeof u!="function"){if(Bp(u||o)===null)continue;break}var m=Wr(o);m!==null&&(r.splice(s,3),s-=3,Dd(m,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function iu(r){function s(N){return df(N,r)}us!==null&&df(us,r),cs!==null&&df(cs,r),fs!==null&&df(fs,r),tu.forEach(s),nu.forEach(s);for(var o=0;o<hs.length;o++){var u=hs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<hs.length&&(o=hs[0],o.blockedOn===null);)e0(o),o.blockedOn===null&&hs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],m=o[u+1],b=h[Lt]||null;if(typeof m=="function")b||n0(o);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[Lt]||null)w=b.formAction;else if(Bp(h)!==null)continue}else w=b.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),n0(o)}}}function Hp(r){this._internalRoot=r}mf.prototype.render=Hp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Un();Y_(o,u,r,s,null,null)},mf.prototype.unmount=Hp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&Eo(),Y_(r.current,2,null,r,null,null),Xc(),s[Xr]=null}};function mf(r){this._internalRoot=r}mf.prototype.unstable_scheduleHydration=function(r){if(r){var s=tc();r={blockedOn:null,target:r,priority:s};for(var o=0;o<hs.length&&s!==0&&s<hs[o].priority;o++);hs.splice(o,0,r),o===0&&e0(r)}};var r0=e.version;if(r0!=="19.0.0")throw Error(i(527,r0,"19.0.0"));me.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=se(s),r=r!==null?be(r):null,r=r===null?null:r.stateNode,r};var CA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:or,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gf.isDisabled&&gf.supportsFiber)try{sr=gf.inject(CA),Qt=gf}catch{}}return lu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",h=bv,m=Ev,b=Tv,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=K_(r,1,!1,null,null,o,u,h,m,b,w,null),r[Xr]=s.current,xp(r.nodeType===8?r.parentNode:r),new Hp(s)},lu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,h="",m=bv,b=Ev,w=Tv,N=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),s=K_(r,1,!0,s,o??null,u,h,m,b,w,N,F),s.context=Q_(null),o=s.current,u=Un(),h=ts(u),h.callback=null,ns(o,h,u),s.current.lanes=u,Rt(s,u),Dr(s),r[Xr]=s.current,xp(r),new mf(s)},lu.version="19.0.0",lu}var _0;function fR(){if(_0)return Yp.exports;_0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yp.exports=cR(),Yp.exports}var hR=fR();function ZE(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=ZE(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Ea(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=ZE(n))&&(i&&(i+=" "),i+=e);return i}function dR(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}dR(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Uu=n=>typeof n=="number"&&!isNaN(n),wa=n=>typeof n=="string",Ai=n=>typeof n=="function",pR=n=>wa(n)||Uu(n),gm=n=>wa(n)||Ai(n)?n:null,mR=(n,e)=>n===!1||Uu(n)&&n>0?n:e,ym=n=>H.isValidElement(n)||wa(n)||Ai(n)||Uu(n);function gR(n,e,t=300){let{scrollHeight:i,style:a}=n;requestAnimationFrame(()=>{a.minHeight="initial",a.height=i+"px",a.transition=`all ${t}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,t)})})}function yR({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:a=300}){return function({children:l,position:c,preventExitTransition:d,done:p,nodeRef:g,isIn:v,playToast:E}){let T=t?`${n}--${c}`:n,R=t?`${e}--${c}`:e,O=H.useRef(0);return H.useLayoutEffect(()=>{let M=g.current,k=T.split(" "),$=B=>{B.target===g.current&&(E(),M.removeEventListener("animationend",$),M.removeEventListener("animationcancel",$),O.current===0&&B.type!=="animationcancel"&&M.classList.remove(...k))};M.classList.add(...k),M.addEventListener("animationend",$),M.addEventListener("animationcancel",$)},[]),H.useEffect(()=>{let M=g.current,k=()=>{M.removeEventListener("animationend",k),i?gR(M,p,a):p()};v||(d?k():(O.current=1,M.className+=` ${R}`,M.addEventListener("animationend",k)))},[v]),ke.createElement(ke.Fragment,null,l)}}function b0(n,e){return{content:JE(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function JE(n,e,t=!1){return H.isValidElement(n)&&!wa(n.type)?H.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Ai(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function vR({closeToast:n,theme:e,ariaLabel:t="close"}){return ke.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},ke.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ke.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function _R({delay:n,isRunning:e,closeToast:t,type:i="default",hide:a,className:l,controlledProgress:c,progress:d,rtl:p,isIn:g,theme:v}){let E=a||c&&d===0,T={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};c&&(T.transform=`scaleX(${d})`);let R=Ea("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":p}),O=Ai(l)?l({rtl:p,type:i,defaultClassName:R}):Ea(R,l),M={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{g&&t()}};return ke.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},ke.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${i}`}),ke.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:O,style:T,...M}))}var bR=1,eT=()=>`${bR++}`;function ER(n,e,t){let i=1,a=0,l=[],c=[],d=e,p=new Map,g=new Set,v=B=>(g.add(B),()=>g.delete(B)),E=()=>{c=Array.from(p.values()),g.forEach(B=>B())},T=({containerId:B,toastId:G,updateId:re})=>{let ie=B?B!==n:n!==1,de=p.has(G)&&re==null;return ie||de},R=(B,G)=>{p.forEach(re=>{var ie;(G==null||G===re.props.toastId)&&((ie=re.toggle)==null||ie.call(re,B))})},O=B=>{var G,re;(re=(G=B.props)==null?void 0:G.onClose)==null||re.call(G,B.removalReason),B.isActive=!1},M=B=>{if(B==null)p.forEach(O);else{let G=p.get(B);G&&O(G)}E()},k=()=>{a-=l.length,l=[]},$=B=>{var G,re;let{toastId:ie,updateId:de}=B.props,D=de==null;B.staleId&&p.delete(B.staleId),B.isActive=!0,p.set(ie,B),E(),t(b0(B,D?"added":"updated")),D&&((re=(G=B.props).onOpen)==null||re.call(G))};return{id:n,props:d,observe:v,toggle:R,removeToast:M,toasts:p,clearQueue:k,buildToast:(B,G)=>{if(T(G))return;let{toastId:re,updateId:ie,data:de,staleId:D,delay:x}=G,A=ie==null;A&&a++;let C={...d,style:d.toastStyle,key:i++,...Object.fromEntries(Object.entries(G).filter(([V,I])=>I!=null)),toastId:re,updateId:ie,data:de,isIn:!1,className:gm(G.className||d.toastClassName),progressClassName:gm(G.progressClassName||d.progressClassName),autoClose:G.isLoading?!1:mR(G.autoClose,d.autoClose),closeToast(V){p.get(re).removalReason=V,M(re)},deleteToast(){let V=p.get(re);if(V!=null){if(t(b0(V,"removed")),p.delete(re),a--,a<0&&(a=0),l.length>0){$(l.shift());return}E()}}};C.closeButton=d.closeButton,G.closeButton===!1||ym(G.closeButton)?C.closeButton=G.closeButton:G.closeButton===!0&&(C.closeButton=ym(d.closeButton)?d.closeButton:!0);let P={content:B,props:C,staleId:D};d.limit&&d.limit>0&&a>d.limit&&A?l.push(P):Uu(x)?setTimeout(()=>{$(P)},x):$(P)},setProps(B){d=B},setToggle:(B,G)=>{let re=p.get(B);re&&(re.toggle=G)},isToastActive:B=>{var G;return(G=p.get(B))==null?void 0:G.isActive},getSnapshot:()=>c}}var Sn=new Map,wu=[],vm=new Set,TR=n=>vm.forEach(e=>e(n)),tT=()=>Sn.size>0;function wR(){wu.forEach(n=>rT(n.content,n.options)),wu=[]}var SR=(n,{containerId:e})=>{var t;return(t=Sn.get(e||1))==null?void 0:t.toasts.get(n)};function nT(n,e){var t;if(e)return!!((t=Sn.get(e))!=null&&t.isToastActive(n));let i=!1;return Sn.forEach(a=>{a.isToastActive(n)&&(i=!0)}),i}function AR(n){if(!tT()){wu=wu.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||pR(n))Sn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Sn.get(n.containerId);e?e.removeToast(n.id):Sn.forEach(t=>{t.removeToast(n.id)})}}var xR=(n={})=>{Sn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function rT(n,e){ym(n)&&(tT()||wu.push({content:n,options:e}),Sn.forEach(t=>{t.buildToast(n,e)}))}function RR(n){var e;(e=Sn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function iT(n,e){Sn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function CR(n){let e=n.containerId||1;return{subscribe(t){let i=ER(e,n,TR);Sn.set(e,i);let a=i.observe(t);return wR(),()=>{a(),Sn.delete(e)}},setProps(t){var i;(i=Sn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=Sn.get(e))==null?void 0:t.getSnapshot()}}}function IR(n){return vm.add(n),()=>{vm.delete(n)}}function OR(n){return n&&(wa(n.toastId)||Uu(n.toastId))?n.toastId:eT()}function ju(n,e){return rT(n,e),e.toastId}function _h(n,e){return{...e,type:e&&e.type||n,toastId:OR(e)}}function bh(n){return(e,t)=>ju(e,_h(n,t))}function at(n,e){return ju(n,_h("default",e))}at.loading=(n,e)=>ju(n,_h("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function DR(n,{pending:e,error:t,success:i},a){let l;e&&(l=wa(e)?at.loading(e,a):at.loading(e.render,{...a,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(g,v,E)=>{if(v==null){at.dismiss(l);return}let T={type:g,...c,...a,data:E},R=wa(v)?{render:v}:v;return l?at.update(l,{...T,...R}):at(R.render,{...T,...R}),E},p=Ai(n)?n():n;return p.then(g=>d("success",i,g)).catch(g=>d("error",t,g)),p}at.promise=DR;at.success=bh("success");at.info=bh("info");at.error=bh("error");at.warning=bh("warning");at.warn=at.warning;at.dark=(n,e)=>ju(n,_h("default",{theme:"dark",...e}));function NR(n){AR(n)}at.dismiss=NR;at.clearWaitingQueue=xR;at.isActive=nT;at.update=(n,e={})=>{let t=SR(n,e);if(t){let{props:i,content:a}=t,l={delay:100,...i,...e,toastId:e.toastId||n,updateId:eT()};l.toastId!==n&&(l.staleId=n);let c=l.render||a;delete l.render,ju(c,l)}};at.done=n=>{at.update(n,{progress:1})};at.onChange=IR;at.play=n=>iT(!0,n);at.pause=n=>iT(!1,n);function kR(n){var e;let{subscribe:t,getSnapshot:i,setProps:a}=H.useRef(CR(n)).current;a(n);let l=(e=H.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function c(d){if(!l)return[];let p=new Map;return n.newestOnTop&&l.reverse(),l.forEach(g=>{let{position:v}=g.props;p.has(v)||p.set(v,[]),p.get(v).push(g)}),Array.from(p,g=>d(g[0],g[1]))}return{getToastToRender:c,isToastActive:nT,count:l==null?void 0:l.length}}function PR(n){let[e,t]=H.useState(!1),[i,a]=H.useState(!1),l=H.useRef(null),c=H.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:p,closeToast:g,onClick:v,closeOnClick:E}=n;RR({id:n.toastId,containerId:n.containerId,fn:t}),H.useEffect(()=>{if(n.pauseOnFocusLoss)return T(),()=>{R()}},[n.pauseOnFocusLoss]);function T(){document.hasFocus()||$(),window.addEventListener("focus",k),window.addEventListener("blur",$)}function R(){window.removeEventListener("focus",k),window.removeEventListener("blur",$)}function O(D){if(n.draggable===!0||n.draggable===D.pointerType){B();let x=l.current;c.canCloseOnClick=!0,c.canDrag=!0,x.style.transition="none",n.draggableDirection==="x"?(c.start=D.clientX,c.removalDistance=x.offsetWidth*(n.draggablePercent/100)):(c.start=D.clientY,c.removalDistance=x.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function M(D){let{top:x,bottom:A,left:C,right:P}=l.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&n.pauseOnHover&&D.clientX>=C&&D.clientX<=P&&D.clientY>=x&&D.clientY<=A?$():k()}function k(){t(!0)}function $(){t(!1)}function B(){c.didMove=!1,document.addEventListener("pointermove",re),document.addEventListener("pointerup",ie)}function G(){document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",ie)}function re(D){let x=l.current;if(c.canDrag&&x){c.didMove=!0,e&&$(),n.draggableDirection==="x"?c.delta=D.clientX-c.start:c.delta=D.clientY-c.start,c.start!==D.clientX&&(c.canCloseOnClick=!1);let A=n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;x.style.transform=`translate3d(${A},0)`,x.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function ie(){G();let D=l.current;if(c.canDrag&&c.didMove&&D){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),n.closeToast(!0),n.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let de={onPointerDown:O,onPointerUp:M};return d&&p&&(de.onMouseEnter=$,n.stacked||(de.onMouseLeave=k)),E&&(de.onClick=D=>{v&&v(D),c.canCloseOnClick&&g(!0)}),{playToast:k,pauseToast:$,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:de}}var VR=typeof window<"u"?H.useLayoutEffect:H.useEffect,Eh=({theme:n,type:e,isLoading:t,...i})=>ke.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function LR(n){return ke.createElement(Eh,{...n},ke.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function MR(n){return ke.createElement(Eh,{...n},ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function UR(n){return ke.createElement(Eh,{...n},ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function jR(n){return ke.createElement(Eh,{...n},ke.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function zR(){return ke.createElement("div",{className:"Toastify__spinner"})}var _m={info:MR,warning:LR,success:UR,error:jR,spinner:zR},BR=n=>n in _m;function FR({theme:n,type:e,isLoading:t,icon:i}){let a=null,l={theme:n,type:e};return i===!1||(Ai(i)?a=i({...l,isLoading:t}):H.isValidElement(i)?a=H.cloneElement(i,l):t?a=_m.spinner():BR(e)&&(a=_m[e](l))),a}var HR=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:a,playToast:l}=PR(n),{closeButton:c,children:d,autoClose:p,onClick:g,type:v,hideProgressBar:E,closeToast:T,transition:R,position:O,className:M,style:k,progressClassName:$,updateId:B,role:G,progress:re,rtl:ie,toastId:de,deleteToast:D,isIn:x,isLoading:A,closeOnClick:C,theme:P,ariaLabel:V}=n,I=Ea("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":ie},{"Toastify__toast--close-on-click":C}),xe=Ai(M)?M({rtl:ie,position:O,type:v,defaultClassName:I}):Ea(I,M),Ce=FR(n),le=!!re||!p,ge={closeToast:T,type:v,theme:P},ye=null;return c===!1||(Ai(c)?ye=c(ge):H.isValidElement(c)?ye=H.cloneElement(c,ge):ye=vR(ge)),ke.createElement(R,{isIn:x,done:D,position:O,preventExitTransition:t,nodeRef:i,playToast:l},ke.createElement("div",{id:de,tabIndex:0,onClick:g,"data-in":x,className:xe,...a,style:k,ref:i,...x&&{role:G,"aria-label":V}},Ce!=null&&ke.createElement("div",{className:Ea("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!A})},Ce),JE(d,n,!e),ye,!n.customProgressBar&&ke.createElement(_R,{...B&&!le?{key:`p-${B}`}:{},rtl:ie,theme:P,delay:p,isRunning:e,isIn:x,closeToast:T,hide:E,type:v,className:$,controlledProgress:le,progress:re||0})))},qR=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),$R=yR(qR("bounce",!0)),GR={position:"top-right",transition:$R,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function KR(n){let e={...GR,...n},t=n.stacked,[i,a]=H.useState(!0),l=H.useRef(null),{getToastToRender:c,isToastActive:d,count:p}=kR(e),{className:g,style:v,rtl:E,containerId:T,hotKeys:R}=e;function O(k){let $=Ea("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":E});return Ai(g)?g({position:k,rtl:E,defaultClassName:$}):Ea($,gm(g))}function M(){t&&(a(!0),at.play())}return VR(()=>{var k;if(t){let $=l.current.querySelectorAll('[data-in="true"]'),B=12,G=(k=e.position)==null?void 0:k.includes("top"),re=0,ie=0;Array.from($).reverse().forEach((de,D)=>{let x=de;x.classList.add("Toastify__toast--stacked"),D>0&&(x.dataset.collapsed=`${i}`),x.dataset.pos||(x.dataset.pos=G?"top":"bot");let A=re*(i?.2:1)+(i?0:B*D);x.style.setProperty("--y",`${G?A:A*-1}px`),x.style.setProperty("--g",`${B}`),x.style.setProperty("--s",`${1-(i?ie:0)}`),re+=x.offsetHeight,ie+=.025})}},[i,p,t]),H.useEffect(()=>{function k($){var B;let G=l.current;R($)&&((B=G.querySelector('[tabIndex="0"]'))==null||B.focus(),a(!1),at.pause()),$.key==="Escape"&&(document.activeElement===G||G!=null&&G.contains(document.activeElement))&&(a(!0),at.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[R]),ke.createElement("section",{ref:l,className:"Toastify",id:T,onMouseEnter:()=>{t&&(a(!1),at.pause())},onMouseLeave:M,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((k,$)=>{let B=$.length?{...v}:{...v,pointerEvents:"none"};return ke.createElement("div",{tabIndex:-1,className:O(k),"data-stacked":t,style:B,key:`c-${k}`},$.map(({content:G,props:re})=>ke.createElement(HR,{...re,stacked:t,collapseAll:M,isIn:d(re.toastId,re.containerId),key:`t-${re.key}`},G)))}))}const QR="/30-day-coffee-challenge/assets/logo-DuPgPatY.svg",YR=(n,e,t,i)=>{var l,c,d,p;const a=[t,{code:e,...i||{}}];if((c=(l=n==null?void 0:n.services)==null?void 0:l.logger)!=null&&c.forward)return n.services.logger.forward(a,"warn","react-i18next::",!0);Ta(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(p=(d=n==null?void 0:n.services)==null?void 0:d.logger)!=null&&p.warn?n.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},E0={},bm=(n,e,t,i)=>{Ta(t)&&E0[t]||(Ta(t)&&(E0[t]=new Date),YR(n,e,t,i))},sT=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},Em=(n,e,t)=>{n.loadNamespaces(e,sT(n,t))},T0=(n,e,t,i)=>{if(Ta(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Em(n,t,i);t.forEach(a=>{n.options.ns.indexOf(a)<0&&n.options.ns.push(a)}),n.loadLanguages(e,sT(n,i))},XR=(n,e,t={})=>!e.languages||!e.languages.length?(bm(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(i,a)=>{var l;if(((l=t.bindI18n)==null?void 0:l.indexOf("languageChanging"))>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!a(i.isLanguageChangingTo,n))return!1}}),Ta=n=>typeof n=="string",WR=n=>typeof n=="object"&&n!==null,ZR=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,JR={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},e2=n=>JR[n],t2=n=>n.replace(ZR,e2);let Tm={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:t2};const n2=(n={})=>{Tm={...Tm,...n}},r2=()=>Tm;let aT;const i2=n=>{aT=n},s2=()=>aT,a2={type:"3rdParty",init(n){n2(n.options.react),i2(n)}},o2=H.createContext();class l2{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const u2=(n,e)=>{const t=H.useRef();return H.useEffect(()=>{t.current=n},[n,e]),t.current},oT=(n,e,t,i)=>n.getFixedT(e,t,i),c2=(n,e,t,i)=>H.useCallback(oT(n,e,t,i),[n,e,t,i]),pr=(n,e={})=>{var re,ie,de,D;const{i18n:t}=e,{i18n:i,defaultNS:a}=H.useContext(o2)||{},l=t||i||s2();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new l2),!l){bm(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const x=(C,P)=>Ta(P)?P:WR(P)&&Ta(P.defaultValue)?P.defaultValue:Array.isArray(C)?C[C.length-1]:C,A=[x,{},!1];return A.t=x,A.i18n={},A.ready=!1,A}(re=l.options.react)!=null&&re.wait&&bm(l,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const c={...r2(),...l.options.react,...e},{useSuspense:d,keyPrefix:p}=c;let g=a||((ie=l.options)==null?void 0:ie.defaultNS);g=Ta(g)?[g]:g||["translation"],(D=(de=l.reportNamespaces).addUsedNamespaces)==null||D.call(de,g);const v=(l.isInitialized||l.initializedStoreOnce)&&g.every(x=>XR(x,l,c)),E=c2(l,e.lng||null,c.nsMode==="fallback"?g:g[0],p),T=()=>E,R=()=>oT(l,e.lng||null,c.nsMode==="fallback"?g:g[0],p),[O,M]=H.useState(T);let k=g.join();e.lng&&(k=`${e.lng}${k}`);const $=u2(k),B=H.useRef(!0);H.useEffect(()=>{const{bindI18n:x,bindI18nStore:A}=c;B.current=!0,!v&&!d&&(e.lng?T0(l,e.lng,g,()=>{B.current&&M(R)}):Em(l,g,()=>{B.current&&M(R)})),v&&$&&$!==k&&B.current&&M(R);const C=()=>{B.current&&M(R)};return x&&(l==null||l.on(x,C)),A&&(l==null||l.store.on(A,C)),()=>{B.current=!1,l&&(x==null||x.split(" ").forEach(P=>l.off(P,C))),A&&l&&A.split(" ").forEach(P=>l.store.off(P,C))}},[l,k]),H.useEffect(()=>{B.current&&v&&M(T)},[l,p,v]);const G=[O,l,v];if(G.t=O,G.i18n=l,G.ready=v,v||!v&&!d)return G;throw new Promise(x=>{e.lng?T0(l,e.lng,g,()=>x()):Em(l,g,()=>x())})};var lT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},w0=ke.createContext&&ke.createContext(lT),f2=["attr","size","title"];function h2(n,e){if(n==null)return{};var t=d2(n,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function d2(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Ff(){return Ff=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ff.apply(this,arguments)}function S0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Hf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?S0(Object(t),!0).forEach(function(i){p2(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):S0(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function p2(n,e,t){return e=m2(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function m2(n){var e=g2(n,"string");return typeof e=="symbol"?e:e+""}function g2(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function uT(n){return n&&n.map((e,t)=>ke.createElement(e.tag,Hf({key:t},e.attr),uT(e.child)))}function ka(n){return e=>ke.createElement(y2,Ff({attr:Hf({},n.attr)},e),uT(n.child))}function y2(n){var e=t=>{var{attr:i,size:a,title:l}=n,c=h2(n,f2),d=a||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),ke.createElement("svg",Ff({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:p,style:Hf(Hf({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&ke.createElement("title",null,l),n.children)};return w0!==void 0?ke.createElement(w0.Consumer,null,t=>e(t)):e(lT)}function v2(n){return ka({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"},child:[]}]})(n)}function _2(n){return ka({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(n)}const A0=n=>{let e;const t=new Set,i=(g,v)=>{const E=typeof g=="function"?g(e):g;if(!Object.is(E,e)){const T=e;e=v??(typeof E!="object"||E===null)?E:Object.assign({},e,E),t.forEach(R=>R(e,T))}},a=()=>e,d={setState:i,getState:a,getInitialState:()=>p,subscribe:g=>(t.add(g),()=>t.delete(g))},p=e=n(i,a,d);return d},b2=n=>n?A0(n):A0,E2=n=>n;function T2(n,e=E2){const t=ke.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return ke.useDebugValue(t),t}const x0=n=>{const e=b2(n),t=i=>T2(e,i);return Object.assign(t,e),t},w2=n=>n?x0(n):x0,Di=w2(n=>({firstName:"",uid:"",lastName:"",email:"",language:"en",completedDays:[],isLoggedIn:!1,setUser:e=>n(t=>({...t,...e,isLoggedIn:!0})),logout:()=>n({uid:"",firstName:"",lastName:"",email:"",language:"en",completedDays:[],isLoggedIn:!1})})),S2=()=>{const{t:n}=pr(),[e,t]=H.useState(!1),{isLoggedIn:i}=Di(),a=()=>{t(!e)};return j.jsxs(j.Fragment,{children:[j.jsx("button",{type:"button",onClick:a,className:"tablet:hidden mr-4",children:e?j.jsx(_2,{size:28}):j.jsx(v2,{size:28})}),j.jsx("nav",{className:`absolute top-16 left-0 w-full h-screen bg-primary text-secondary flex flex-col py-32 items-center  transition-all duration-900 ease-in-out z-[-1] ${e?" translate-y-0 pointer-events-auto":" -translate-y-full pointer-events-none"}`,children:i?j.jsxs("ul",{className:"flex flex-col items-center   gap-10 py-4",children:[j.jsx("li",{children:j.jsx(Ft,{to:"/",className:"font-medium text-[24px] hover:text-gold focus:text-gold",onClick:a,children:n("header.home")})}),j.jsx("li",{children:j.jsx(Ft,{to:"/dashboard",className:"font-medium text-[24px] hover:text-gold focus:text-gold",onClick:a,children:n("header.dashboard")})}),j.jsx("li",{children:j.jsx(Ft,{to:"/settings",className:"font-medium text-[24px] hover:text-gold focus:text-gold",onClick:a,children:n("header.settings")})}),j.jsx("li",{children:j.jsx("button",{type:"button",className:"font-medium text-[24px] hover:text-gold focus:text-gold",children:n("header.logout")})})]}):j.jsxs("ul",{className:"flex flex-col items-center   gap-10 py-4",children:[j.jsx("li",{children:j.jsx(Ft,{to:"/",className:"font-medium text-[24px] hover:text-gold focus:text-gold",onClick:a,children:n("header.home")})}),j.jsxs("li",{children:[" ",j.jsx(Ft,{to:"/dashboard",className:"font-medium text-[24px] hover:text-gold focus:text-gold",onClick:a,children:n("header.dashboard")})]}),j.jsx("li",{children:j.jsx(Ft,{to:"/register",className:"font-medium text-[24px] hover:text-gold focus:text-gold",onClick:a,children:n("header.register")})}),j.jsx("li",{children:j.jsx(Ft,{to:"/login",className:"font-medium text-[24px] hover:text-gold focus:text-gold",onClick:a,children:n("header.login")})})]})})]})},A2=()=>{const{t:n}=pr();return j.jsxs("nav",{className:"hidden tablet:flex gap-10 mr-5",children:[j.jsx(Ft,{to:"/",className:"font-medium tablet:text-[20px] laptop:text-[24px] desktop:text-[32px] hover:text-gold focus:text-gold",children:n("header.home")}),j.jsx(Ft,{to:"/dashboard",className:"font-medium tablet:text-[20px] laptop:text-[24px] desktop:text-[32px] hover:text-gold focus:text-gold",children:n("header.dashboard")}),j.jsx(Ft,{to:"/login",className:"font-medium tablet:text-[20px] laptop:text-[24px] desktop:text-[32px] hover:text-gold focus:text-gold",children:n("header.login")}),j.jsx(Ft,{to:"/register",className:" font-medium tablet:text-[20px] laptop:text-[24px] desktop:text-[32px] hover:text-gold focus:text-gold",children:n("header.register")})]})};function x2(){const[n,e]=H.useState(!1),t=H.useRef(null),i=l=>{t.current&&!t.current.contains(l.target)&&e(!1)},a=l=>{l.key==="Escape"&&e(!1)};return H.useEffect(()=>(n&&(document.addEventListener("mousedown",i),document.addEventListener("keydown",a)),()=>{document.removeEventListener("mousedown",i),document.removeEventListener("keydown",a)}),[n]),{ref:t,isComponentVisible:n,setIsComponentVisible:e}}const R2=()=>{var p,g;const{t:n}=pr(),{completedDays:e,firstName:t,lastName:i}=Di(),{ref:a,isComponentVisible:l,setIsComponentVisible:c}=x2(),d=()=>{c(!l)};return j.jsxs("div",{className:"hidden tablet:flex flex-1 items-center justify-between  tablet:w-150 desktop:w-[600px]",children:[j.jsxs("p",{className:"font-medium tablet:text-[24px] desktop:text-[32px] ml-[30px]",children:[n("header.day")," ",(e==null?void 0:e.length)??0,"/30"]}),j.jsxs("nav",{className:"  ml-auto flex gap-10 mr-[50px]",children:[j.jsx(Ft,{to:"/",className:"font-medium tablet:text-[24px] desktop:text-[32px] hover:text-gold focus:text-gold",children:n("header.home")}),j.jsx(Ft,{to:"/dashboard",className:"font-medium tablet:text-[24px] desktop:text-[32px] hover:text-gold focus:text-gold",children:n("header.dashboard")})]}),j.jsxs("div",{className:"relative inline-block",ref:a,children:[j.jsx("button",{type:"button",onClick:d,className:"  mr-2 focus:outline-none bg-secondary text-primary flex items-center justify-center rounded-full font-medium w-[24px] tablet:w-[40px] desktop:w-[50px] h-[24px] tablet:h-[40px] desktop:h-[50px] text-[14px] tablet:text-[18px] desktop:text-[24px] hover:bg-gold focus:bg-gold",children:`${(p=t==null?void 0:t[0])==null?void 0:p.toUpperCase()}${(g=i==null?void 0:i[0])==null?void 0:g.toUpperCase()}`}),l&&j.jsxs("div",{className:"absolute right-0  mt-2 w-32 tablet:w-48 desktop:w-58 bg-latte  rounded-lg py-4 flex flex-col aligns-center justify-center gap-2",children:[j.jsx(Ft,{to:"/settings",className:"flex aligns-center justify-center text-secondary font-medium tablet:text-[24px] desktop:text-[32px] hover:text-espresso focus:text-espresso",onClick:d,children:n("header.settings")}),j.jsx("button",{type:"button",className:"text-secondary font-medium tablet:text-[24px] desktop:text-[32px] hover:text-espresso focus:text-espresso",onClick:d,children:n("header.logout")})]})]})]})},C2=()=>{const{isLoggedIn:n}=Di();return j.jsxs("div",{className:"flex flex-col min-h-screen",children:[j.jsxs("header",{className:"flex px-4 tablet:px-8 desktop:px-12 items-center justify-between bg-primary text-secondary h-16 tablet:h-20 desktop:h-22 w-full fixed top-0 left-0 z-50",children:[j.jsx(Ft,{to:"/",children:j.jsx("img",{src:QR,alt:"Logo",className:"w-[62px] h-[50px] tablet:w-[80px] tablet:h-[60px]  desktop:w-[120px] desktop:h-[80px]"})}),n?j.jsx(R2,{}):j.jsx(A2,{}),j.jsx(S2,{})]}),j.jsx("main",{className:"flex-grow flex flex-col  mt-16 tablet:mt-20 desktop:mt-22 ",children:j.jsx(Ax,{})}),j.jsx("footer",{className:"h-10 sticky bottom-0 mt-auto flex items-center justify-center bg-primary text-secondary text-[12px] laptop:h-12 laptop:text-[16px]",children:"© 2025 CoffeeChallenge. All Rights Reserved."})]})};function I2(n){return ka({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor"},child:[]}]})(n)}function O2(n){return ka({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(n)}const D2=()=>{const{firstName:n,lastName:e,email:t,language:i}=Di();return j.jsxs("section",{className:"flex flex-col  w-full  laptop:flex-row laptop:gap-8 px-8 py-10",children:[j.jsxs("div",{className:"laptop:w-1/3",children:[j.jsx("h2",{className:"font-bold text-espresso text-[20px] tablet:text-[24px] desktop:text-[32px] ",children:"Personal Information"}),j.jsx("p",{className:"text-espresso mb-8 text-[14px] tablet:text-[16px] desktop:text-[20px]",children:"Use a permanent address where you can receive mail."})]}),j.jsxs("div",{className:"laptop:w-2/3",children:[j.jsxs("div",{className:"flex justify-start items-center gap-8 mb-8 l",children:[j.jsx("div",{className:"flex justify-center items-center w-24 h-24 desktop:w-32 desktop:h-32 rounded-lg overflow-hidden border -2  border-solid border-espresso ",children:j.jsx(I2,{className:" w-20 h-20 desktop:w-28 desktop:h-28 text-espresso"})}),j.jsxs("div",{className:"flex flex-col justify-center items-start gap-2",children:[j.jsx("button",{type:"button",className:"flex  justify-center items-center w-30 h-8 bg-latte font-medium text-espresso flex  rounded-lg hover:bg-gold focus:bg-gold desktop:w-40 desktop:h-10 desktop:text-[20px]",children:"Upload photo"}),j.jsx("p",{className:"text-espresso  tablet:text-[20px] desktop:text-[24px]",children:"JPG, GIF or PNG. 1MB max."})]})]}),j.jsxs("form",{className:"w-full flex flex-col gap-6 tablet:max-w-180 laptop:gap-8",children:[j.jsxs("div",{className:"flex flex-col gap-6 tablet:flex-row",children:[j.jsxs("div",{className:"w-full flex flex-col gap-2 tablet:w-1/2",children:[j.jsx("label",{className:"text-[16px] tablet:text-[18px] desktop:text-[24px] text-espresso",children:"First name"}),j.jsx("input",{type:"text",defaultValue:n,className:"text-espresso text-[16px] tablet:text-[18px] desktop:text-[24px] flex justify-start items-center px-2 w-full h-10 border-latte border rounded-lg hover:border-espresso focus:outline-none  focus:border-espresso"})]}),j.jsxs("div",{className:"flex flex-col gap-2 tablet:w-1/2",children:[j.jsx("label",{className:"text-espresso text-[16px] tablet:text-[18px] desktop:text-[24px]",children:"Last name"}),j.jsx("input",{type:"text",defaultValue:e,className:"text-espresso text-[16px] tablet:text-[18px] desktop:text-[24px] flex justify-start items-center px-2 w-full h-10 border-latte border rounded-lg hover:border-espresso focus:outline-none  focus:border-espresso"})]})]}),j.jsxs("div",{className:"flex flex-col gap-2",children:[j.jsx("label",{className:"text-espresso text-[16px] tablet:text-[18px] desktop:text-[24px]",children:"Email address"}),j.jsx("input",{type:"email",defaultValue:t,className:" text-espresso text-[16px] tablet:text-[18px] desktop:text-[24px] flex justify-start items-center px-2 w-full h-10 border-latte border rounded-lg hover:border-espresso focus:outline-none  focus:border-espresso"})]}),j.jsxs("div",{className:"relative flex flex-col gap-2",children:[j.jsx("label",{className:"text-espresso text-[16px] tablet:text-[18px] desktop:text-[24px]",children:"Language"}),j.jsxs("select",{value:i,className:" text-espresso text-[16px] tablet:text-[18px] desktop:text-[24px] appearance-none flex justify-start items-center px-2 w-full h-10 border-latte border rounded-lg bg-transparent hover:border-espresso focus:outline-none  focus:border-espresso",children:[j.jsx("option",{value:"en",className:"bg-secondary text-espresso borde-none hover:bg-espresso",children:"English"}),j.jsx("option",{value:"pl",className:"bg-secondary text-espresso border-none",children:"Polish"})]}),j.jsx(O2,{className:"absolute right-3 top-11 text-espresso pointer-events-none fill-latte"})]}),j.jsx("button",{type:"submit",className:"flex  justify-center items-center w-30 h-8 bg-latte font-medium text-espresso flex  rounded-lg hover:bg-gold focus:bg-gold desktop:w-40 desktop:h-10 desktop:text-[20px]",children:"Save changes"})]})]})]})},N2=()=>j.jsx(D2,{});var zu=n=>n.type==="checkbox",_a=n=>n instanceof Date,wn=n=>n==null;const cT=n=>typeof n=="object";var Ot=n=>!wn(n)&&!Array.isArray(n)&&cT(n)&&!_a(n),k2=n=>Ot(n)&&n.target?zu(n.target)?n.target.checked:n.target.value:n,P2=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,V2=(n,e)=>n.has(P2(e)),L2=n=>{const e=n.constructor&&n.constructor.prototype;return Ot(e)&&e.hasOwnProperty("isPrototypeOf")},ug=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function nr(n){let e;const t=Array.isArray(n),i=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(ug&&(n instanceof Blob||i))&&(t||Ot(n)))if(e=t?[]:{},!t&&!L2(n))e=n;else for(const a in n)n.hasOwnProperty(a)&&(e[a]=nr(n[a]));else return n;return e}var Th=n=>Array.isArray(n)?n.filter(Boolean):[],Vt=n=>n===void 0,Te=(n,e,t)=>{if(!e||!Ot(n))return t;const i=Th(e.split(/[,[\].]+?/)).reduce((a,l)=>wn(a)?a:a[l],n);return Vt(i)||i===n?Vt(n[e])?t:n[e]:i},Nr=n=>typeof n=="boolean",cg=n=>/^\w*$/.test(n),fT=n=>Th(n.replace(/["|']|\]/g,"").split(/\.|\[/)),mt=(n,e,t)=>{let i=-1;const a=cg(e)?[e]:fT(e),l=a.length,c=l-1;for(;++i<l;){const d=a[i];let p=t;if(i!==c){const g=n[d];p=Ot(g)||Array.isArray(g)?g:isNaN(+a[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;n[d]=p,n=n[d]}return n};const R0={BLUR:"blur",FOCUS_OUT:"focusout"},hr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ke.createContext(null);var M2=(n,e,t,i=!0)=>{const a={defaultValues:e._defaultValues};for(const l in n)Object.defineProperty(a,l,{get:()=>{const c=l;return e._proxyFormState[c]!==hr.all&&(e._proxyFormState[c]=!i||hr.all),n[c]}});return a},Cn=n=>Ot(n)&&!Object.keys(n).length,U2=(n,e,t,i)=>{t(n);const{name:a,...l}=n;return Cn(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===hr.all)},Of=n=>Array.isArray(n)?n:[n];function j2(n){const e=ke.useRef(n);e.current=n,ke.useEffect(()=>{const t=!n.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[n.disabled])}var Vr=n=>typeof n=="string",z2=(n,e,t,i,a)=>Vr(n)?(i&&e.watch.add(n),Te(t,n,a)):Array.isArray(n)?n.map(l=>(i&&e.watch.add(l),Te(t,l))):(i&&(e.watchAll=!0),t),B2=(n,e,t,i,a)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[i]:a||!0}}:{},C0=n=>({isOnSubmit:!n||n===hr.onSubmit,isOnBlur:n===hr.onBlur,isOnChange:n===hr.onChange,isOnAll:n===hr.all,isOnTouch:n===hr.onTouched}),I0=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const mu=(n,e,t,i)=>{for(const a of t||Object.keys(n)){const l=Te(n,a);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],a)&&!i)return!0;if(c.ref&&e(c.ref,c.name)&&!i)return!0;if(mu(d,e))break}else if(Ot(d)&&mu(d,e))break}}};var F2=(n,e,t)=>{const i=Of(Te(n,t));return mt(i,"root",e[t]),mt(n,t,i),n},fg=n=>n.type==="file",Pr=n=>typeof n=="function",qf=n=>{if(!ug)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Df=n=>Vr(n),hg=n=>n.type==="radio",$f=n=>n instanceof RegExp;const O0={value:!1,isValid:!1},D0={value:!0,isValid:!0};var hT=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Vt(n[0].attributes.value)?Vt(n[0].value)||n[0].value===""?D0:{value:n[0].value,isValid:!0}:D0:O0}return O0};const N0={isValid:!1,value:null};var dT=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,N0):N0;function k0(n,e,t="validate"){if(Df(n)||Array.isArray(n)&&n.every(Df)||Nr(n)&&!n)return{type:t,message:Df(n)?n:"",ref:e}}var Ro=n=>Ot(n)&&!$f(n)?n:{value:n,message:""},P0=async(n,e,t,i,a,l)=>{const{ref:c,refs:d,required:p,maxLength:g,minLength:v,min:E,max:T,pattern:R,validate:O,name:M,valueAsNumber:k,mount:$}=n._f,B=Te(t,M);if(!$||e.has(M))return{};const G=d?d[0]:c,re=V=>{a&&G.reportValidity&&(G.setCustomValidity(Nr(V)?"":V||""),G.reportValidity())},ie={},de=hg(c),D=zu(c),x=de||D,A=(k||fg(c))&&Vt(c.value)&&Vt(B)||qf(c)&&c.value===""||B===""||Array.isArray(B)&&!B.length,C=B2.bind(null,M,i,ie),P=(V,I,xe,Ce=bi.maxLength,le=bi.minLength)=>{const ge=V?I:xe;ie[M]={type:V?Ce:le,message:ge,ref:c,...C(V?Ce:le,ge)}};if(l?!Array.isArray(B)||!B.length:p&&(!x&&(A||wn(B))||Nr(B)&&!B||D&&!hT(d).isValid||de&&!dT(d).isValid)){const{value:V,message:I}=Df(p)?{value:!!p,message:p}:Ro(p);if(V&&(ie[M]={type:bi.required,message:I,ref:G,...C(bi.required,I)},!i))return re(I),ie}if(!A&&(!wn(E)||!wn(T))){let V,I;const xe=Ro(T),Ce=Ro(E);if(!wn(B)&&!isNaN(B)){const le=c.valueAsNumber||B&&+B;wn(xe.value)||(V=le>xe.value),wn(Ce.value)||(I=le<Ce.value)}else{const le=c.valueAsDate||new Date(B),ge=L=>new Date(new Date().toDateString()+" "+L),ye=c.type=="time",Ie=c.type=="week";Vr(xe.value)&&B&&(V=ye?ge(B)>ge(xe.value):Ie?B>xe.value:le>new Date(xe.value)),Vr(Ce.value)&&B&&(I=ye?ge(B)<ge(Ce.value):Ie?B<Ce.value:le<new Date(Ce.value))}if((V||I)&&(P(!!V,xe.message,Ce.message,bi.max,bi.min),!i))return re(ie[M].message),ie}if((g||v)&&!A&&(Vr(B)||l&&Array.isArray(B))){const V=Ro(g),I=Ro(v),xe=!wn(V.value)&&B.length>+V.value,Ce=!wn(I.value)&&B.length<+I.value;if((xe||Ce)&&(P(xe,V.message,I.message),!i))return re(ie[M].message),ie}if(R&&!A&&Vr(B)){const{value:V,message:I}=Ro(R);if($f(V)&&!B.match(V)&&(ie[M]={type:bi.pattern,message:I,ref:c,...C(bi.pattern,I)},!i))return re(I),ie}if(O){if(Pr(O)){const V=await O(B,t),I=k0(V,G);if(I&&(ie[M]={...I,...C(bi.validate,I.message)},!i))return re(I.message),ie}else if(Ot(O)){let V={};for(const I in O){if(!Cn(V)&&!i)break;const xe=k0(await O[I](B,t),G,I);xe&&(V={...xe,...C(I,xe.message)},re(xe.message),i&&(ie[M]=V))}if(!Cn(V)&&(ie[M]={ref:G,...V},!i))return ie}}return re(!0),ie};function H2(n,e){const t=e.slice(0,-1).length;let i=0;for(;i<t;)n=Vt(n)?i++:n[e[i++]];return n}function q2(n){for(const e in n)if(n.hasOwnProperty(e)&&!Vt(n[e]))return!1;return!0}function Bt(n,e){const t=Array.isArray(e)?e:cg(e)?[e]:fT(e),i=t.length===1?n:H2(n,t),a=t.length-1,l=t[a];return i&&delete i[l],a!==0&&(Ot(i)&&Cn(i)||Array.isArray(i)&&q2(i))&&Bt(n,t.slice(0,-1)),n}var Zp=()=>{let n=[];return{get observers(){return n},next:a=>{for(const l of n)l.next&&l.next(a)},subscribe:a=>(n.push(a),{unsubscribe:()=>{n=n.filter(l=>l!==a)}}),unsubscribe:()=>{n=[]}}},wm=n=>wn(n)||!cT(n);function gs(n,e){if(wm(n)||wm(e))return n===e;if(_a(n)&&_a(e))return n.getTime()===e.getTime();const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const a of t){const l=n[a];if(!i.includes(a))return!1;if(a!=="ref"){const c=e[a];if(_a(l)&&_a(c)||Ot(l)&&Ot(c)||Array.isArray(l)&&Array.isArray(c)?!gs(l,c):l!==c)return!1}}return!0}var pT=n=>n.type==="select-multiple",$2=n=>hg(n)||zu(n),Jp=n=>qf(n)&&n.isConnected,mT=n=>{for(const e in n)if(Pr(n[e]))return!0;return!1};function Gf(n,e={}){const t=Array.isArray(n);if(Ot(n)||t)for(const i in n)Array.isArray(n[i])||Ot(n[i])&&!mT(n[i])?(e[i]=Array.isArray(n[i])?[]:{},Gf(n[i],e[i])):wn(n[i])||(e[i]=!0);return e}function gT(n,e,t){const i=Array.isArray(n);if(Ot(n)||i)for(const a in n)Array.isArray(n[a])||Ot(n[a])&&!mT(n[a])?Vt(e)||wm(t[a])?t[a]=Array.isArray(n[a])?Gf(n[a],[]):{...Gf(n[a])}:gT(n[a],wn(e)?{}:e[a],t[a]):t[a]=!gs(n[a],e[a]);return t}var uu=(n,e)=>gT(n,e,Gf(e)),yT=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:i})=>Vt(n)?n:e?n===""?NaN:n&&+n:t&&Vr(n)?new Date(n):i?i(n):n;function em(n){const e=n.ref;return fg(e)?e.files:hg(e)?dT(n.refs).value:pT(e)?[...e.selectedOptions].map(({value:t})=>t):zu(e)?hT(n.refs).value:yT(Vt(e.value)?n.ref.value:e.value,n)}var G2=(n,e,t,i)=>{const a={};for(const l of n){const c=Te(e,l);c&&mt(a,l,c._f)}return{criteriaMode:t,names:[...n],fields:a,shouldUseNativeValidation:i}},cu=n=>Vt(n)?n:$f(n)?n.source:Ot(n)?$f(n.value)?n.value.source:n.value:n;const V0="AsyncFunction";var K2=n=>!!n&&!!n.validate&&!!(Pr(n.validate)&&n.validate.constructor.name===V0||Ot(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===V0)),Q2=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function L0(n,e,t){const i=Te(n,t);if(i||cg(t))return{error:i,name:t};const a=t.split(".");for(;a.length;){const l=a.join("."),c=Te(e,l),d=Te(n,l);if(c&&!Array.isArray(c)&&t!==l)return{name:t};if(d&&d.type)return{name:l,error:d};a.pop()}return{name:t}}var Y2=(n,e,t,i,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(e||n):(t?i.isOnBlur:a.isOnBlur)?!n:(t?i.isOnChange:a.isOnChange)?n:!0,X2=(n,e)=>!Th(Te(n,e)).length&&Bt(n,e);const W2={mode:hr.onSubmit,reValidateMode:hr.onChange,shouldFocusError:!0};function Z2(n={}){let e={...W2,...n},t={submitCount:0,isDirty:!1,isLoading:Pr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},a=Ot(e.defaultValues)||Ot(e.values)?nr(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:nr(a),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},E={values:Zp(),array:Zp(),state:Zp()},T=C0(e.mode),R=C0(e.reValidateMode),O=e.criteriaMode===hr.all,M=U=>Y=>{clearTimeout(g),g=setTimeout(U,Y)},k=async U=>{if(!e.disabled&&(v.isValid||U)){const Y=e.resolver?Cn((await x()).errors):await C(i,!0);Y!==t.isValid&&E.state.next({isValid:Y})}},$=(U,Y)=>{!e.disabled&&(v.isValidating||v.validatingFields)&&((U||Array.from(d.mount)).forEach(Z=>{Z&&(Y?mt(t.validatingFields,Z,Y):Bt(t.validatingFields,Z))}),E.state.next({validatingFields:t.validatingFields,isValidating:!Cn(t.validatingFields)}))},B=(U,Y=[],Z,he,fe=!0,ue=!0)=>{if(he&&Z&&!e.disabled){if(c.action=!0,ue&&Array.isArray(Te(i,U))){const _e=Z(Te(i,U),he.argA,he.argB);fe&&mt(i,U,_e)}if(ue&&Array.isArray(Te(t.errors,U))){const _e=Z(Te(t.errors,U),he.argA,he.argB);fe&&mt(t.errors,U,_e),X2(t.errors,U)}if(v.touchedFields&&ue&&Array.isArray(Te(t.touchedFields,U))){const _e=Z(Te(t.touchedFields,U),he.argA,he.argB);fe&&mt(t.touchedFields,U,_e)}v.dirtyFields&&(t.dirtyFields=uu(a,l)),E.state.next({name:U,isDirty:V(U,Y),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else mt(l,U,Y)},G=(U,Y)=>{mt(t.errors,U,Y),E.state.next({errors:t.errors})},re=U=>{t.errors=U,E.state.next({errors:t.errors,isValid:!1})},ie=(U,Y,Z,he)=>{const fe=Te(i,U);if(fe){const ue=Te(l,U,Vt(Z)?Te(a,U):Z);Vt(ue)||he&&he.defaultChecked||Y?mt(l,U,Y?ue:em(fe._f)):Ce(U,ue),c.mount&&k()}},de=(U,Y,Z,he,fe)=>{let ue=!1,_e=!1;const je={name:U};if(!e.disabled){const qe=!!(Te(i,U)&&Te(i,U)._f&&Te(i,U)._f.disabled);if(!Z||he){v.isDirty&&(_e=t.isDirty,t.isDirty=je.isDirty=V(),ue=_e!==je.isDirty);const Ge=qe||gs(Te(a,U),Y);_e=!!(!qe&&Te(t.dirtyFields,U)),Ge||qe?Bt(t.dirtyFields,U):mt(t.dirtyFields,U,!0),je.dirtyFields=t.dirtyFields,ue=ue||v.dirtyFields&&_e!==!Ge}if(Z){const Ge=Te(t.touchedFields,U);Ge||(mt(t.touchedFields,U,Z),je.touchedFields=t.touchedFields,ue=ue||v.touchedFields&&Ge!==Z)}ue&&fe&&E.state.next(je)}return ue?je:{}},D=(U,Y,Z,he)=>{const fe=Te(t.errors,U),ue=v.isValid&&Nr(Y)&&t.isValid!==Y;if(e.delayError&&Z?(p=M(()=>G(U,Z)),p(e.delayError)):(clearTimeout(g),p=null,Z?mt(t.errors,U,Z):Bt(t.errors,U)),(Z?!gs(fe,Z):fe)||!Cn(he)||ue){const _e={...he,...ue&&Nr(Y)?{isValid:Y}:{},errors:t.errors,name:U};t={...t,..._e},E.state.next(_e)}},x=async U=>{$(U,!0);const Y=await e.resolver(l,e.context,G2(U||d.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return $(U),Y},A=async U=>{const{errors:Y}=await x(U);if(U)for(const Z of U){const he=Te(Y,Z);he?mt(t.errors,Z,he):Bt(t.errors,Z)}else t.errors=Y;return Y},C=async(U,Y,Z={valid:!0})=>{for(const he in U){const fe=U[he];if(fe){const{_f:ue,..._e}=fe;if(ue){const je=d.array.has(ue.name),qe=fe._f&&K2(fe._f);qe&&v.validatingFields&&$([he],!0);const Ge=await P0(fe,d.disabled,l,O,e.shouldUseNativeValidation&&!Y,je);if(qe&&v.validatingFields&&$([he]),Ge[ue.name]&&(Z.valid=!1,Y))break;!Y&&(Te(Ge,ue.name)?je?F2(t.errors,Ge,ue.name):mt(t.errors,ue.name,Ge[ue.name]):Bt(t.errors,ue.name))}!Cn(_e)&&await C(_e,Y,Z)}}return Z.valid},P=()=>{for(const U of d.unMount){const Y=Te(i,U);Y&&(Y._f.refs?Y._f.refs.every(Z=>!Jp(Z)):!Jp(Y._f.ref))&&Pe(U)}d.unMount=new Set},V=(U,Y)=>!e.disabled&&(U&&Y&&mt(l,U,Y),!gs(se(),a)),I=(U,Y,Z)=>z2(U,d,{...c.mount?l:Vt(Y)?a:Vr(U)?{[U]:Y}:Y},Z,Y),xe=U=>Th(Te(c.mount?l:a,U,e.shouldUnregister?Te(a,U,[]):[])),Ce=(U,Y,Z={})=>{const he=Te(i,U);let fe=Y;if(he){const ue=he._f;ue&&(!ue.disabled&&mt(l,U,yT(Y,ue)),fe=qf(ue.ref)&&wn(Y)?"":Y,pT(ue.ref)?[...ue.ref.options].forEach(_e=>_e.selected=fe.includes(_e.value)):ue.refs?zu(ue.ref)?ue.refs.length>1?ue.refs.forEach(_e=>(!_e.defaultChecked||!_e.disabled)&&(_e.checked=Array.isArray(fe)?!!fe.find(je=>je===_e.value):fe===_e.value)):ue.refs[0]&&(ue.refs[0].checked=!!fe):ue.refs.forEach(_e=>_e.checked=_e.value===fe):fg(ue.ref)?ue.ref.value="":(ue.ref.value=fe,ue.ref.type||E.values.next({name:U,values:{...l}})))}(Z.shouldDirty||Z.shouldTouch)&&de(U,fe,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&L(U)},le=(U,Y,Z)=>{for(const he in Y){const fe=Y[he],ue=`${U}.${he}`,_e=Te(i,ue);(d.array.has(U)||Ot(fe)||_e&&!_e._f)&&!_a(fe)?le(ue,fe,Z):Ce(ue,fe,Z)}},ge=(U,Y,Z={})=>{const he=Te(i,U),fe=d.array.has(U),ue=nr(Y);mt(l,U,ue),fe?(E.array.next({name:U,values:{...l}}),(v.isDirty||v.dirtyFields)&&Z.shouldDirty&&E.state.next({name:U,dirtyFields:uu(a,l),isDirty:V(U,ue)})):he&&!he._f&&!wn(ue)?le(U,ue,Z):Ce(U,ue,Z),I0(U,d)&&E.state.next({...t}),E.values.next({name:c.mount?U:void 0,values:{...l}})},ye=async U=>{c.mount=!0;const Y=U.target;let Z=Y.name,he=!0;const fe=Te(i,Z),ue=()=>Y.type?em(fe._f):k2(U),_e=je=>{he=Number.isNaN(je)||_a(je)&&isNaN(je.getTime())||gs(je,Te(l,Z,je))};if(fe){let je,qe;const Ge=ue(),Kt=U.type===R0.BLUR||U.type===R0.FOCUS_OUT,Ua=!Q2(fe._f)&&!e.resolver&&!Te(t.errors,Z)&&!fe._f.deps||Y2(Kt,Te(t.touchedFields,Z),t.isSubmitted,R,T),Qr=I0(Z,d,Kt);mt(l,Z,Ge),Kt?(fe._f.onBlur&&fe._f.onBlur(U),p&&p(0)):fe._f.onChange&&fe._f.onChange(U);const Bs=de(Z,Ge,Kt,!1),Yr=!Cn(Bs)||Qr;if(!Kt&&E.values.next({name:Z,type:U.type,values:{...l}}),Ua)return v.isValid&&(e.mode==="onBlur"&&Kt?k():Kt||k()),Yr&&E.state.next({name:Z,...Qr?{}:Bs});if(!Kt&&Qr&&E.state.next({...t}),e.resolver){const{errors:sr}=await x([Z]);if(_e(Ge),he){const Qt=L0(t.errors,i,Z),ki=L0(sr,i,Qt.name||Z);je=ki.error,Z=ki.name,qe=Cn(sr)}}else $([Z],!0),je=(await P0(fe,d.disabled,l,O,e.shouldUseNativeValidation))[Z],$([Z]),_e(Ge),he&&(je?qe=!1:v.isValid&&(qe=await C(i,!0)));he&&(fe._f.deps&&L(fe._f.deps),D(Z,qe,je,Bs))}},Ie=(U,Y)=>{if(Te(t.errors,Y)&&U.focus)return U.focus(),1},L=async(U,Y={})=>{let Z,he;const fe=Of(U);if(e.resolver){const ue=await A(Vt(U)?U:fe);Z=Cn(ue),he=U?!fe.some(_e=>Te(ue,_e)):Z}else U?(he=(await Promise.all(fe.map(async ue=>{const _e=Te(i,ue);return await C(_e&&_e._f?{[ue]:_e}:_e)}))).every(Boolean),!(!he&&!t.isValid)&&k()):he=Z=await C(i);return E.state.next({...!Vr(U)||v.isValid&&Z!==t.isValid?{}:{name:U},...e.resolver||!U?{isValid:Z}:{},errors:t.errors}),Y.shouldFocus&&!he&&mu(i,Ie,U?fe:d.mount),he},se=U=>{const Y={...c.mount?l:a};return Vt(U)?Y:Vr(U)?Te(Y,U):U.map(Z=>Te(Y,Z))},be=(U,Y)=>({invalid:!!Te((Y||t).errors,U),isDirty:!!Te((Y||t).dirtyFields,U),error:Te((Y||t).errors,U),isValidating:!!Te(t.validatingFields,U),isTouched:!!Te((Y||t).touchedFields,U)}),pe=U=>{U&&Of(U).forEach(Y=>Bt(t.errors,Y)),E.state.next({errors:U?t.errors:{}})},me=(U,Y,Z)=>{const he=(Te(i,U,{_f:{}})._f||{}).ref,fe=Te(t.errors,U)||{},{ref:ue,message:_e,type:je,...qe}=fe;mt(t.errors,U,{...qe,...Y,ref:he}),E.state.next({name:U,errors:t.errors,isValid:!1}),Z&&Z.shouldFocus&&he&&he.focus&&he.focus()},ze=(U,Y)=>Pr(U)?E.values.subscribe({next:Z=>U(I(void 0,Y),Z)}):I(U,Y,!0),Pe=(U,Y={})=>{for(const Z of U?Of(U):d.mount)d.mount.delete(Z),d.array.delete(Z),Y.keepValue||(Bt(i,Z),Bt(l,Z)),!Y.keepError&&Bt(t.errors,Z),!Y.keepDirty&&Bt(t.dirtyFields,Z),!Y.keepTouched&&Bt(t.touchedFields,Z),!Y.keepIsValidating&&Bt(t.validatingFields,Z),!e.shouldUnregister&&!Y.keepDefaultValue&&Bt(a,Z);E.values.next({values:{...l}}),E.state.next({...t,...Y.keepDirty?{isDirty:V()}:{}}),!Y.keepIsValid&&k()},yt=({disabled:U,name:Y,field:Z,fields:he})=>{(Nr(U)&&c.mount||U||d.disabled.has(Y))&&(U?d.disabled.add(Y):d.disabled.delete(Y),de(Y,em(Z?Z._f:Te(he,Y)._f),!1,!1,!0))},Qe=(U,Y={})=>{let Z=Te(i,U);const he=Nr(Y.disabled)||Nr(e.disabled);return mt(i,U,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:U}},name:U,mount:!0,...Y}}),d.mount.add(U),Z?yt({field:Z,disabled:Nr(Y.disabled)?Y.disabled:e.disabled,name:U}):ie(U,!0,Y.value),{...he?{disabled:Y.disabled||e.disabled}:{},...e.progressive?{required:!!Y.required,min:cu(Y.min),max:cu(Y.max),minLength:cu(Y.minLength),maxLength:cu(Y.maxLength),pattern:cu(Y.pattern)}:{},name:U,onChange:ye,onBlur:ye,ref:fe=>{if(fe){Qe(U,Y),Z=Te(i,U);const ue=Vt(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,_e=$2(ue),je=Z._f.refs||[];if(_e?je.find(qe=>qe===ue):ue===Z._f.ref)return;mt(i,U,{_f:{...Z._f,..._e?{refs:[...je.filter(Jp),ue,...Array.isArray(Te(a,U))?[{}]:[]],ref:{type:ue.type,name:U}}:{ref:ue}}}),ie(U,!1,void 0,ue)}else Z=Te(i,U,{}),Z._f&&(Z._f.mount=!1),(e.shouldUnregister||Y.shouldUnregister)&&!(V2(d.array,U)&&c.action)&&d.unMount.add(U)}}},pt=()=>e.shouldFocusError&&mu(i,Ie,d.mount),st=U=>{Nr(U)&&(E.state.next({disabled:U}),mu(i,(Y,Z)=>{const he=Te(i,Z);he&&(Y.disabled=he._f.disabled||U,Array.isArray(he._f.refs)&&he._f.refs.forEach(fe=>{fe.disabled=he._f.disabled||U}))},0,!1))},Gt=(U,Y)=>async Z=>{let he;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let fe=nr(l);if(d.disabled.size)for(const ue of d.disabled)mt(fe,ue,void 0);if(E.state.next({isSubmitting:!0}),e.resolver){const{errors:ue,values:_e}=await x();t.errors=ue,fe=_e}else await C(i);if(Bt(t.errors,"root"),Cn(t.errors)){E.state.next({errors:{}});try{await U(fe,Z)}catch(ue){he=ue}}else Y&&await Y({...t.errors},Z),pt(),setTimeout(pt);if(E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cn(t.errors)&&!he,submitCount:t.submitCount+1,errors:t.errors}),he)throw he},rr=(U,Y={})=>{Te(i,U)&&(Vt(Y.defaultValue)?ge(U,nr(Te(a,U))):(ge(U,Y.defaultValue),mt(a,U,nr(Y.defaultValue))),Y.keepTouched||Bt(t.touchedFields,U),Y.keepDirty||(Bt(t.dirtyFields,U),t.isDirty=Y.defaultValue?V(U,nr(Te(a,U))):V()),Y.keepError||(Bt(t.errors,U),v.isValid&&k()),E.state.next({...t}))},yn=(U,Y={})=>{const Z=U?nr(U):a,he=nr(Z),fe=Cn(U),ue=fe?a:he;if(Y.keepDefaultValues||(a=Z),!Y.keepValues){if(Y.keepDirtyValues){const _e=new Set([...d.mount,...Object.keys(uu(a,l))]);for(const je of Array.from(_e))Te(t.dirtyFields,je)?mt(ue,je,Te(l,je)):ge(je,Te(ue,je))}else{if(ug&&Vt(U))for(const _e of d.mount){const je=Te(i,_e);if(je&&je._f){const qe=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(qf(qe)){const Ge=qe.closest("form");if(Ge){Ge.reset();break}}}}i={}}l=e.shouldUnregister?Y.keepDefaultValues?nr(a):{}:nr(ue),E.array.next({values:{...ue}}),E.values.next({values:{...ue}})}d={mount:Y.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!v.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,c.watch=!!e.shouldUnregister,E.state.next({submitCount:Y.keepSubmitCount?t.submitCount:0,isDirty:fe?!1:Y.keepDirty?t.isDirty:!!(Y.keepDefaultValues&&!gs(U,a)),isSubmitted:Y.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:fe?{}:Y.keepDirtyValues?Y.keepDefaultValues&&l?uu(a,l):t.dirtyFields:Y.keepDefaultValues&&U?uu(a,U):Y.keepDirty?t.dirtyFields:{},touchedFields:Y.keepTouched?t.touchedFields:{},errors:Y.keepErrors?t.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},ir=(U,Y)=>yn(Pr(U)?U(l):U,Y);return{control:{register:Qe,unregister:Pe,getFieldState:be,handleSubmit:Gt,setError:me,_executeSchema:x,_getWatch:I,_getDirty:V,_updateValid:k,_removeUnmounted:P,_updateFieldArray:B,_updateDisabledField:yt,_getFieldArray:xe,_reset:yn,_resetDefaultValues:()=>Pr(e.defaultValues)&&e.defaultValues().then(U=>{ir(U,e.resetOptions),E.state.next({isLoading:!1})}),_updateFormState:U=>{t={...t,...U}},_disableForm:st,_subjects:E,_proxyFormState:v,_setErrors:re,get _fields(){return i},get _formValues(){return l},get _state(){return c},set _state(U){c=U},get _defaultValues(){return a},get _names(){return d},set _names(U){d=U},get _formState(){return t},set _formState(U){t=U},get _options(){return e},set _options(U){e={...e,...U}}},trigger:L,register:Qe,handleSubmit:Gt,watch:ze,setValue:ge,getValues:se,reset:ir,resetField:rr,clearErrors:pe,unregister:Pe,setError:me,setFocus:(U,Y={})=>{const Z=Te(i,U),he=Z&&Z._f;if(he){const fe=he.refs?he.refs[0]:he.ref;fe.focus&&(fe.focus(),Y.shouldSelect&&Pr(fe.select)&&fe.select())}},getFieldState:be}}function vT(n={}){const e=ke.useRef(void 0),t=ke.useRef(void 0),[i,a]=ke.useState({isDirty:!1,isValidating:!1,isLoading:Pr(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:Pr(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...Z2(n),formState:i});const l=e.current.control;return l._options=n,j2({subject:l._subjects.state,next:c=>{U2(c,l._proxyFormState,l._updateFormState)&&a({...l._formState})}}),ke.useEffect(()=>l._disableForm(n.disabled),[l,n.disabled]),ke.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==i.isDirty&&l._subjects.state.next({isDirty:c})}},[l,i.isDirty]),ke.useEffect(()=>{n.values&&!gs(n.values,t.current)?(l._reset(n.values,l._options.resetOptions),t.current=n.values,a(c=>({...c}))):l._resetDefaultValues()},[n.values,l]),ke.useEffect(()=>{n.errors&&l._setErrors(n.errors)},[n.errors,l]),ke.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),ke.useEffect(()=>{n.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[n.shouldUnregister,l]),e.current.formState=M2(i,l),e.current}function J2(n){return ka({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"},child:[]}]})(n)}function eC(n){return ka({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M245.48,125.57c-.34-.78-8.66-19.23-27.24-37.81C201,70.54,171.38,50,128,50S55,70.54,37.76,87.76c-18.58,18.58-26.9,37-27.24,37.81a6,6,0,0,0,0,4.88c.34.77,8.66,19.22,27.24,37.8C55,185.47,84.62,206,128,206s73-20.53,90.24-37.75c18.58-18.58,26.9-37,27.24-37.8A6,6,0,0,0,245.48,125.57ZM128,194c-31.38,0-58.78-11.42-81.45-33.93A134.77,134.77,0,0,1,22.69,128,134.56,134.56,0,0,1,46.55,95.94C69.22,73.42,96.62,62,128,62s58.78,11.42,81.45,33.94A134.56,134.56,0,0,1,233.31,128C226.94,140.21,195,194,128,194Zm0-112a46,46,0,1,0,46,46A46.06,46.06,0,0,0,128,82Zm0,80a34,34,0,1,1,34-34A34,34,0,0,1,128,162Z"},child:[]}]})(n)}function tC(n){return ka({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M53.92,34.62A8,8,0,1,0,42.08,45.38L61.32,66.55C25,88.84,9.38,123.2,8.69,124.76a8,8,0,0,0,0,6.5c.35.79,8.82,19.57,27.65,38.4C61.43,194.74,93.12,208,128,208a127.11,127.11,0,0,0,52.07-10.83l22,24.21a8,8,0,1,0,11.84-10.76Zm47.33,75.84,41.67,45.85a32,32,0,0,1-41.67-45.85ZM128,192c-30.78,0-57.67-11.19-79.93-33.25A133.16,133.16,0,0,1,25,128c4.69-8.79,19.66-33.39,47.35-49.38l18,19.75a48,48,0,0,0,63.66,70l14.73,16.2A112,112,0,0,1,128,192Zm6-95.43a8,8,0,0,1,3-15.72,48.16,48.16,0,0,1,38.77,42.64,8,8,0,0,1-7.22,8.71,6.39,6.39,0,0,1-.75,0,8,8,0,0,1-8-7.26A32.09,32.09,0,0,0,134,96.57Zm113.28,34.69c-.42.94-10.55,23.37-33.36,43.8a8,8,0,1,1-10.67-11.92A132.77,132.77,0,0,0,231.05,128a133.15,133.15,0,0,0-23.12-30.77C185.67,75.19,158.78,64,128,64a118.37,118.37,0,0,0-19.36,1.57A8,8,0,1,1,106,49.79,134,134,0,0,1,128,48c34.88,0,66.57,13.26,91.66,38.35,18.83,18.83,27.3,37.62,27.65,38.41A8,8,0,0,1,247.31,131.26Z"},child:[]}]})(n)}const _T=({register:n,setValue:e,name:t,validation:i,error:a})=>{const{t:l}=pr(),[c,d]=H.useState(!1),p=()=>{d(g=>!g)};return j.jsxs("div",{className:"relative w-full flex flex-col ",children:[j.jsx("label",{htmlFor:"password",className:"text-[12px] font-medium text-espresso desktop:text-[16px]",children:l("inputs.password")}),j.jsx("input",{type:c?"text":"password",id:"password","aria-invalid":a?"true":"false",autoComplete:"current-password",className:"w-full px-3 py-2 text-[14px] text-espresso  bg-transparent border-2 border-primary rounded-lg focus:outline-none focus:border-gold hover:border-gold desktop:text-[18px]",...n(t,i),onChange:g=>e(t,g.target.value)}),j.jsx("button",{type:"button",onClick:p,className:"absolute right-3 top-[34px] text-espresso hover:text-gold transition desktop:top-[40px]","aria-label":c?"Hide password":"Show password",children:c?j.jsx(eC,{className:"w-[16px] h-[16px] desktop:w-[22px] desktop:h-[22px] color-espresso"}):j.jsx(tC,{className:"w-[16px] h-[16px] desktop:w-[22px] desktop:h-[22px] color-espresso"})}),j.jsx("p",{className:"h-4 text-red text-[12px] desktop:text-[14px]",children:a==null?void 0:a.message})]})},bT="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='48px'%20height='48px'%3e%3clinearGradient%20id='Ld6sqrtcxMyckEl6xeDdMa'%20x1='9.993'%20x2='40.615'%20y1='9.993'%20y2='40.615'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%232aa4f4'/%3e%3cstop%20offset='1'%20stop-color='%23007ad9'/%3e%3c/linearGradient%3e%3cpath%20fill='url(%23Ld6sqrtcxMyckEl6xeDdMa)'%20d='M24,4C12.954,4,4,12.954,4,24s8.954,20,20,20s20-8.954,20-20S35.046,4,24,4z'/%3e%3cpath%20fill='%23fff'%20d='M26.707,29.301h5.176l0.813-5.258h-5.989v-2.874c0-2.184,0.714-4.121,2.757-4.121h3.283V12.46%20c-0.577-0.078-1.797-0.248-4.102-0.248c-4.814,0-7.636,2.542-7.636,8.334v3.498H16.06v5.258h4.948v14.452%20C21.988,43.9,22.981,44,24,44c0.921,0,1.82-0.084,2.707-0.204V29.301z'/%3e%3c/svg%3e",ET=({register:n,setValue:e,name:t,validation:i,error:a})=>{const{t:l}=pr();return j.jsxs("div",{className:"w-full flex flex-col ",children:[j.jsx("label",{htmlFor:"email",className:"text-[12px] font-medium text-espresso desktop:text-[16px]",children:l("inputs.email")}),j.jsx("input",{type:"email",id:"email","aria-invalid":a?"true":"false",autoComplete:"off",className:"w-full px-3 py-2 text-[14px] text-espresso bg-transparent border-2 border-primary rounded-lg focus:outline-none focus:border-gold hover:border-gold desktop:text-[18px]",...n(t,i),onChange:c=>e(t,c.target.value)}),j.jsx("p",{className:"h-4 text-red text-[12px] desktop:text-[14px]",children:a==null?void 0:a.message})]})},nC=()=>{};var M0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},rC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},wT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,p=a+2<n.length,g=p?n[a+2]:0,v=l>>2,E=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,R=g&63;p||(R=64,c||(T=64)),i.push(t[v],t[E],t[T],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(TT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):rC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const E=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||E==null)throw new iC;const T=l<<2|d>>4;if(i.push(T),g!==64){const R=d<<4&240|g>>2;if(i.push(R),E!==64){const O=g<<6&192|E;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class iC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sC=function(n){const e=TT(n);return wT.encodeByteArray(e,!0)},Kf=function(n){return sC(n).replace(/\./g,"")},ST=function(n){try{return wT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=()=>aC().__FIREBASE_DEFAULTS__,lC=()=>{if(typeof process>"u"||typeof M0>"u")return;const n=M0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},uC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ST(n[1]);return e&&JSON.parse(e)},wh=()=>{try{return nC()||oC()||lC()||uC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},AT=n=>{var e,t;return(t=(e=wh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},cC=n=>{const e=AT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},xT=()=>{var n;return(n=wh())===null||n===void 0?void 0:n.config},RT=n=>{var e;return(e=wh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Kf(JSON.stringify(t)),Kf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function pC(){var n;const e=(n=wh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vC(){const n=mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _C(){return!pC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bC(){try{return typeof indexedDB=="object"}catch{return!1}}function EC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="FirebaseError";class Ni extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=TC,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?wC(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ni(a,d,i)}}function wC(n,e){return n.replace(SC,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const SC=/\{\$([^}]+)}/g;function AC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Sa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(U0(l)&&U0(c)){if(!Sa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function U0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function xC(n,e){const t=new RC(n,e);return t.subscribe.bind(t)}class RC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");CC(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=tm),a.error===void 0&&(a.error=tm),a.complete===void 0&&(a.complete=tm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function tm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n){return n&&n._delegate?n._delegate:n}class Aa{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new fC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DC(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:OC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OC(n){return n===va?void 0:n}function DC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new IC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const kC={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},PC=Ye.INFO,VC={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},LC=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=VC[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let dg=class{constructor(e){this.name=e,this._logLevel=PC,this._logHandler=LC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}};const MC=(n,e)=>e.some(t=>n instanceof t);let j0,z0;function UC(){return j0||(j0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jC(){return z0||(z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CT=new WeakMap,Sm=new WeakMap,IT=new WeakMap,nm=new WeakMap,pg=new WeakMap;function zC(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ts(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&CT.set(t,n)}).catch(()=>{}),pg.set(e,n),e}function BC(n){if(Sm.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Sm.set(n,e)}let Am={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Sm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||IT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ts(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function FC(n){Am=n(Am)}function HC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(rm(this),e,...t);return IT.set(i,e.sort?e.sort():[e]),Ts(i)}:jC().includes(n)?function(...e){return n.apply(rm(this),e),Ts(CT.get(this))}:function(...e){return Ts(n.apply(rm(this),e))}}function qC(n){return typeof n=="function"?HC(n):(n instanceof IDBTransaction&&BC(n),MC(n,UC())?new Proxy(n,Am):n)}function Ts(n){if(n instanceof IDBRequest)return zC(n);if(nm.has(n))return nm.get(n);const e=qC(n);return e!==n&&(nm.set(n,e),pg.set(e,n)),e}const rm=n=>pg.get(n);function $C(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=Ts(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Ts(c.result),p.oldVersion,p.newVersion,Ts(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const GC=["get","getKey","getAll","getAllKeys","count"],KC=["put","add","delete","clear"],im=new Map;function B0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=KC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||GC.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return im.set(e,l),l}FC(n=>({...n,get:(e,t,i)=>B0(e,t)||n.get(e,t,i),has:(e,t)=>!!B0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(YC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function YC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xm="@firebase/app",F0="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new dg("@firebase/app"),XC="@firebase/app-compat",WC="@firebase/analytics-compat",ZC="@firebase/analytics",JC="@firebase/app-check-compat",eI="@firebase/app-check",tI="@firebase/auth",nI="@firebase/auth-compat",rI="@firebase/database",iI="@firebase/data-connect",sI="@firebase/database-compat",aI="@firebase/functions",oI="@firebase/functions-compat",lI="@firebase/installations",uI="@firebase/installations-compat",cI="@firebase/messaging",fI="@firebase/messaging-compat",hI="@firebase/performance",dI="@firebase/performance-compat",pI="@firebase/remote-config",mI="@firebase/remote-config-compat",gI="@firebase/storage",yI="@firebase/storage-compat",vI="@firebase/firestore",_I="@firebase/vertexai",bI="@firebase/firestore-compat",EI="firebase",TI="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="[DEFAULT]",wI={[xm]:"fire-core",[XC]:"fire-core-compat",[ZC]:"fire-analytics",[WC]:"fire-analytics-compat",[eI]:"fire-app-check",[JC]:"fire-app-check-compat",[tI]:"fire-auth",[nI]:"fire-auth-compat",[rI]:"fire-rtdb",[iI]:"fire-data-connect",[sI]:"fire-rtdb-compat",[aI]:"fire-fn",[oI]:"fire-fn-compat",[lI]:"fire-iid",[uI]:"fire-iid-compat",[cI]:"fire-fcm",[fI]:"fire-fcm-compat",[hI]:"fire-perf",[dI]:"fire-perf-compat",[pI]:"fire-rc",[mI]:"fire-rc-compat",[gI]:"fire-gcs",[yI]:"fire-gcs-compat",[vI]:"fire-fst",[bI]:"fire-fst-compat",[_I]:"fire-vertex","fire-js":"fire-js",[EI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new Map,SI=new Map,Cm=new Map;function H0(n,e){try{n.container.addComponent(e)}catch(t){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Bo(n){const e=n.name;if(Cm.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Cm.set(e,n);for(const t of Qf.values())H0(t,n);for(const t of SI.values())H0(t,n);return!0}function mg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function dr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new Bu("app","Firebase",AI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=TI;function OT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Rm,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw ws.create("bad-app-name",{appName:String(a)});if(t||(t=xT()),!t)throw ws.create("no-options");const l=Qf.get(a);if(l){if(Sa(t,l.options)&&Sa(i,l.config))return l;throw ws.create("duplicate-app",{appName:a})}const c=new NC(a);for(const p of Cm.values())c.addComponent(p);const d=new xI(t,i,c);return Qf.set(a,d),d}function DT(n=Rm){const e=Qf.get(n);if(!e&&n===Rm&&xT())return OT();if(!e)throw ws.create("no-app",{appName:n});return e}function Ss(n,e,t){var i;let a=(i=wI[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(d.join(" "));return}Bo(new Aa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="firebase-heartbeat-database",CI=1,Su="firebase-heartbeat-store";let sm=null;function NT(){return sm||(sm=$C(RI,CI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Su)}catch(t){console.warn(t)}}}}).catch(n=>{throw ws.create("idb-open",{originalErrorMessage:n.message})})),sm}async function II(n){try{const t=(await NT()).transaction(Su),i=await t.objectStore(Su).get(kT(n));return await t.done,i}catch(e){if(e instanceof Ni)xi.warn(e.message);else{const t=ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(t.message)}}}async function q0(n,e){try{const i=(await NT()).transaction(Su,"readwrite");await i.objectStore(Su).put(e,kT(n)),await i.done}catch(t){if(t instanceof Ni)xi.warn(t.message);else{const i=ws.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});xi.warn(i.message)}}}function kT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=1024,DI=30;class NI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new PI(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=$0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>DI){const c=VI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){xi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$0(),{heartbeatsToSend:i,unsentEntries:a}=kI(this._heartbeatsCache.heartbeats),l=Kf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return xi.warn(t),""}}}function $0(){return new Date().toISOString().substring(0,10)}function kI(n,e=OI){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),G0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),G0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class PI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bC()?EC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await II(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return q0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return q0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function G0(n){return Kf(JSON.stringify({version:2,heartbeats:n})).length}function VI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n){Bo(new Aa("platform-logger",e=>new QC(e),"PRIVATE")),Bo(new Aa("heartbeat",e=>new NI(e),"PRIVATE")),Ss(xm,F0,n),Ss(xm,F0,"esm2017"),Ss("fire-js","")}LI("");function gg(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function PT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MI=PT,VT=new Bu("auth","Firebase",PT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=new dg("@firebase/auth");function UI(n,...e){Yf.logLevel<=Ye.WARN&&Yf.warn(`Auth (${Zo}): ${n}`,...e)}function Nf(n,...e){Yf.logLevel<=Ye.ERROR&&Yf.error(`Auth (${Zo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(n,...e){throw yg(n,...e)}function Mr(n,...e){return yg(n,...e)}function LT(n,e,t){const i=Object.assign(Object.assign({},MI()),{[e]:t});return new Bu("auth","Firebase",i).create(e,{appName:n.name})}function As(n){return LT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yg(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return VT.create(n,...e)}function De(n,e,...t){if(!n)throw yg(e,...t)}function Ei(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Nf(e),new Error(e)}function Ci(n,e){n||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function jI(){return K0()==="http:"||K0()==="https:"}function K0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jI()||gC()||"connection"in navigator)?navigator.onLine:!0}function BI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ci(t>e,"Short delay should be less than long delay!"),this.isMobile=dC()||yC()}get(){return zI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(n,e){Ci(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=new Hu(3e4,6e4);function qu(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Pa(n,e,t,i,a={}){return UT(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Fu(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},l);return mC()||(g.referrerPolicy="no-referrer"),MT.fetch()(zT(n,n.config.apiHost,t,d),g)})}async function UT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},FI),e);try{const a=new $I(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw vf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw vf(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw vf(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw vf(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw LT(n,v,g);Ri(n,v)}}catch(a){if(a instanceof Ni)throw a;Ri(n,"network-request-failed",{message:String(a)})}}async function jT(n,e,t,i,a={}){const l=await Pa(n,e,t,i,a);return"mfaPendingCredential"in l&&Ri(n,"multi-factor-auth-required",{_serverResponse:l}),l}function zT(n,e,t,i){const a=`${e}${t}?${i}`;return n.config.emulator?vg(n.config,a):`${n.config.apiScheme}://${a}`}function qI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $I{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Mr(this.auth,"network-request-failed")),HI.get())})}}function vf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Mr(n,e,i);return a.customData._tokenResponse=t,a}function Q0(n){return n!==void 0&&n.enterprise!==void 0}class GI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KI(n,e){return Pa(n,"GET","/v2/recaptchaConfig",qu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(n,e){return Pa(n,"POST","/v1/accounts:delete",e)}async function BT(n,e){return Pa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YI(n,e=!1){const t=An(n),i=await t.getIdToken(e),a=_g(i);De(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:gu(am(a.auth_time)),issuedAtTime:gu(am(a.iat)),expirationTime:gu(am(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function am(n){return Number(n)*1e3}function _g(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Nf("JWT malformed, contained fewer than 3 sections"),null;try{const a=ST(t);return a?JSON.parse(a):(Nf("Failed to decode base64 JWT payload"),null)}catch(a){return Nf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Y0(n){const e=_g(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ni&&XI(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function XI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xf(n){var e;const t=n.auth,i=await n.getIdToken(),a=await Au(n,BT(t,{idToken:i}));De(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?FT(l.providerUserInfo):[],d=JI(n.providerData,c),p=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=p?g:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Om(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function ZI(n){const e=An(n);await Xf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JI(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function FT(n){return n.map(e=>{var{providerId:t}=e,i=gg(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(n,e){const t=await UT(n,{},async()=>{const i=Fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=zT(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",MT.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function tO(n,e){return Pa(n,"POST","/v2/accounts:revokeToken",qu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Y0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=Y0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await eO(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Mo;return i&&(De(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(De(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(De(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ti{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=gg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Au(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YI(this,e)}reload(){return ZI(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Xf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dr(this.auth.app))return Promise.reject(As(this.auth));const e=await this.getIdToken();return await Au(this,QI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,d,p,g,v;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(a=t.email)!==null&&a!==void 0?a:void 0,R=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(c=t.photoURL)!==null&&c!==void 0?c:void 0,M=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=t.createdAt)!==null&&g!==void 0?g:void 0,B=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:G,emailVerified:re,isAnonymous:ie,providerData:de,stsTokenManager:D}=t;De(G&&D,e,"internal-error");const x=Mo.fromJSON(this.name,D);De(typeof G=="string",e,"internal-error"),ps(E,e.name),ps(T,e.name),De(typeof re=="boolean",e,"internal-error"),De(typeof ie=="boolean",e,"internal-error"),ps(R,e.name),ps(O,e.name),ps(M,e.name),ps(k,e.name),ps($,e.name),ps(B,e.name);const A=new Ti({uid:G,auth:e,email:T,emailVerified:re,displayName:E,isAnonymous:ie,photoURL:O,phoneNumber:R,tenantId:M,stsTokenManager:x,createdAt:$,lastLoginAt:B});return de&&Array.isArray(de)&&(A.providerData=de.map(C=>Object.assign({},C))),k&&(A._redirectEventId=k),A}static async _fromIdTokenResponse(e,t,i=!1){const a=new Mo;a.updateFromServerResponse(t);const l=new Ti({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Xf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];De(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?FT(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Mo;d.updateFromIdToken(i);const p=new Ti({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Om(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=new Map;function wi(n){Ci(n instanceof Function,"Expected a class definition");let e=X0.get(n);return e?(Ci(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,X0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}HT.type="NONE";const W0=HT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(n,e,t){return`firebase:${n}:${e}:${t}`}class Uo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=kf(this.userKey,a.apiKey,l),this.fullPersistenceKey=kf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Uo(wi(W0),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||wi(W0);const c=kf(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){const E=Ti._fromJSON(e,v);g!==l&&(d=E),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Uo(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Uo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YT(e))return"Blackberry";if(XT(e))return"Webos";if($T(e))return"Safari";if((e.includes("chrome/")||GT(e))&&!e.includes("edge/"))return"Chrome";if(QT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function qT(n=mn()){return/firefox\//i.test(n)}function $T(n=mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GT(n=mn()){return/crios\//i.test(n)}function KT(n=mn()){return/iemobile/i.test(n)}function QT(n=mn()){return/android/i.test(n)}function YT(n=mn()){return/blackberry/i.test(n)}function XT(n=mn()){return/webos/i.test(n)}function bg(n=mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nO(n=mn()){var e;return bg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rO(){return vC()&&document.documentMode===10}function WT(n=mn()){return bg(n)||QT(n)||XT(n)||YT(n)||/windows phone/i.test(n)||KT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(n,e=[]){let t;switch(n){case"Browser":t=Z0(mn());break;case"Worker":t=`${Z0(mn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(n,e={}){return Pa(n,"GET","/v2/passwordPolicy",qu(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=6;class oO{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:aO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J0(this),this.idTokenSubscription=new J0(this),this.beforeStateQueue=new iO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wi(t)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await BT(this,{idToken:e}),i=await Ti._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(dr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dr(this.app))return Promise.reject(As(this));const t=e?An(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dr(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dr(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sO(this),t=new oO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await tO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wi(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[wi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&UI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Jo(n){return An(n)}class J0{constructor(e){this.auth=e,this.observer=null,this.addObserver=xC(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uO(n){Sh=n}function JT(n){return Sh.loadJS(n)}function cO(){return Sh.recaptchaEnterpriseScript}function fO(){return Sh.gapiScript}function hO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class dO{constructor(){this.enterprise=new pO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class pO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const mO="recaptcha-enterprise",e1="NO_RECAPTCHA";class gO{constructor(e){this.type=mO,this.auth=Jo(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{KI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new GI(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;Q0(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(e1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&Q0(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=cO();p.length!==0&&(p+=d),JT(p).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function eb(n,e,t,i=!1,a=!1){const l=new gO(n);let c;if(a)c=e1;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function yO(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await eb(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await eb(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(n,e){const t=mg(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Sa(l,e??{}))return a;Ri(a,"already-initialized")}return t.initialize({options:e})}function _O(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(wi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function bO(n,e,t){const i=Jo(n);De(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=t1(e),{host:c,port:d}=EO(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){De(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),De(Sa(g,i.config.emulator)&&Sa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,TO()}function t1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function EO(n){const e=t1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:tb(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:tb(c)}}}function tb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function TO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,t){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(n,e){return jT(n,"POST","/v1/accounts:signInWithIdp",qu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="http://localhost";class xa extends n1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ri("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=gg(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new xa(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return jo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,jo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jo(e,t)}buildRequest(){const e={requestUri:wO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends r1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends $u{constructor(){super("facebook.com")}static credential(e){return xa._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends $u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xa._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return vs.credential(t,i)}catch{return null}}}vs.GOOGLE_SIGN_IN_METHOD="google.com";vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends $u{constructor(){super("github.com")}static credential(e){return xa._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends $u{constructor(){super("twitter.com")}static credential(e,t){return xa._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return bs.credential(t,i)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(n,e){return jT(n,"POST","/v1/accounts:signUp",qu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Ti._fromIdTokenResponse(e,i,a),c=nb(i);return new Ra({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=nb(i);return new Ra({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function nb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends Ni{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Wf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Wf(e,t,i,a)}}function i1(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wf._fromErrorAndOperation(n,l,e,i):l})}async function AO(n,e,t=!1){const i=await Au(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ra._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(n,e,t=!1){const{auth:i}=n;if(dr(i.app))return Promise.reject(As(i));const a="reauthenticate";try{const l=await Au(n,i1(i,a,e,n),t);De(l.idToken,i,"internal-error");const c=_g(l.idToken);De(c,i,"internal-error");const{sub:d}=c;return De(n.uid===d,i,"user-mismatch"),Ra._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ri(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO(n,e,t=!1){if(dr(n.app))return Promise.reject(As(n));const i="signIn",a=await i1(n,i,e),l=await Ra._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(n){const e=Jo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IO(n,e,t){if(dr(n.app))return Promise.reject(As(n));const i=Jo(n),c=await yO(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SO).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&CO(n),p}),d=await Ra._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function OO(n,e,t,i){return An(n).onIdTokenChanged(e,t,i)}function DO(n,e,t){return An(n).beforeAuthStateChanged(e,t)}function NO(n,e,t,i){return An(n).onAuthStateChanged(e,t,i)}const Zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zf,"1"),this.storage.removeItem(Zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=1e3,PO=10;class a1 extends s1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);rO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,PO):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},kO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}a1.type="LOCAL";const VO=a1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1 extends s1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}o1.type="SESSION";const l1=o1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Ah(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await LO(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=Eg("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(E){const T=E;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(){return window}function UO(n){Ur().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function jO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function BO(){return u1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="firebaseLocalStorageDb",FO=1,Jf="firebaseLocalStorage",f1="fbase_key";class Gu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xh(n,e){return n.transaction([Jf],e?"readwrite":"readonly").objectStore(Jf)}function HO(){const n=indexedDB.deleteDatabase(c1);return new Gu(n).toPromise()}function Dm(){const n=indexedDB.open(c1,FO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Jf,{keyPath:f1})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Jf)?e(i):(i.close(),await HO(),e(await Dm()))})})}async function rb(n,e,t){const i=xh(n,!0).put({[f1]:e,value:t});return new Gu(i).toPromise()}async function qO(n,e){const t=xh(n,!1).get(e),i=await new Gu(t).toPromise();return i===void 0?null:i.value}function ib(n,e){const t=xh(n,!0).delete(e);return new Gu(t).toPromise()}const $O=800,GO=3;class h1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>GO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(BO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await jO(),!this.activeServiceWorker)return;this.sender=new MO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dm();return await rb(e,Zf,"1"),await ib(e,Zf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>rb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>qO(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ib(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=xh(a,!1).getAll();return new Gu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$O)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h1.type="LOCAL";const KO=h1;new Hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(n,e){return e?wi(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends n1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function YO(n){return RO(n.auth,new Tg(n),n.bypassAuthState)}function XO(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),xO(t,new Tg(n),n.bypassAuthState)}async function WO(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),AO(t,new Tg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YO;case"linkViaPopup":case"linkViaRedirect":return WO;case"reauthViaPopup":case"reauthViaRedirect":return XO;default:Ri(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new Hu(2e3,1e4);class Lo extends d1{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Lo.currentPopupAction&&Lo.currentPopupAction.cancel(),Lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=Eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZO.get())};e()}}Lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="pendingRedirect",Pf=new Map;class eD extends d1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Pf.get(this.auth._key());if(!e){try{const i=await tD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Pf.set(this.auth._key(),e)}return this.bypassAuthState||Pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tD(n,e){const t=iD(e),i=rD(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function nD(n,e){Pf.set(n._key(),e)}function rD(n){return wi(n._redirectPersistence)}function iD(n){return kf(JO,n.config.apiKey,n.name)}async function sD(n,e,t=!1){if(dr(n.app))return Promise.reject(As(n));const i=Jo(n),a=QO(i,e),c=await new eD(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=10*60*1e3;class oD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!p1(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Mr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aD&&this.cachedEventUids.clear(),this.cachedEventUids.has(sb(e))}saveEventToCache(e){this.cachedEventUids.add(sb(e)),this.lastProcessedEventTime=Date.now()}}function sb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function p1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(n,e={}){return Pa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fD=/^https?/;async function hD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await uD(n);for(const t of e)try{if(dD(t))return}catch{}Ri(n,"unauthorized-domain")}function dD(n){const e=Im(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!fD.test(t))return!1;if(cD.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new Hu(3e4,6e4);function ab(){const n=Ur().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function mD(n){return new Promise((e,t)=>{var i,a,l;function c(){ab(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ab(),t(Mr(n,"network-request-failed"))},timeout:pD.get()})}if(!((a=(i=Ur().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Ur().gapi)===null||l===void 0)&&l.load)c();else{const d=hO("iframefcb");return Ur()[d]=()=>{gapi.load?c():t(Mr(n,"network-request-failed"))},JT(`${fO()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Vf=null,e})}let Vf=null;function gD(n){return Vf=Vf||mD(n),Vf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new Hu(5e3,15e3),vD="__/auth/iframe",_D="emulator/auth/iframe",bD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ED=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TD(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?vg(e,_D):`https://${n.config.authDomain}/${vD}`,i={apiKey:e.apiKey,appName:n.name,v:Zo},a=ED.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Fu(i).slice(1)}`}async function wD(n){const e=await gD(n),t=Ur().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:TD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bD,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Mr(n,"network-request-failed"),d=Ur().setTimeout(()=>{l(c)},yD.get());function p(){Ur().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AD=500,xD=600,RD="_blank",CD="http://localhost";class ob{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ID(n,e,t,i=AD,a=xD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},SD),{width:i.toString(),height:a.toString(),top:l,left:c}),g=mn().toLowerCase();t&&(d=GT(g)?RD:t),qT(g)&&(e=e||CD,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[R,O])=>`${T}${R}=${O},`,"");if(nO(g)&&d!=="_self")return OD(e||"",d),new ob(null);const E=window.open(e||"",d,v);De(E,n,"popup-blocked");try{E.focus()}catch{}return new ob(E)}function OD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="__/auth/handler",ND="emulator/auth/handler",kD=encodeURIComponent("fac");async function lb(n,e,t,i,a,l){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Zo,eventId:a};if(e instanceof r1){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",AC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof $u){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),g=p?`#${kD}=${encodeURIComponent(p)}`:"";return`${PD(n)}?${Fu(d).slice(1)}${g}`}function PD({config:n}){return n.emulator?vg(n,ND):`https://${n.authDomain}/${DD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="webStorageSupport";class VD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l1,this._completeRedirectFn=sD,this._overrideRedirectResult=nD}async _openPopup(e,t,i,a){var l;Ci((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await lb(e,t,i,Im(),a);return ID(e,c,Eg())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await lb(e,t,i,Im(),a);return UO(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Ci(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await wD(e),i=new oD(e);return t.register("authEvent",a=>(De(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(om,{type:om},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[om];c!==void 0&&t(!!c),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return WT()||$T()||bg()}}const LD=VD;var ub="@firebase/auth",cb="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jD(n){Bo(new Aa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;De(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZT(n)},g=new lO(i,a,l,p);return _O(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Bo(new Aa("auth-internal",e=>{const t=Jo(e.getProvider("auth").getImmediate());return(i=>new MD(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(ub,cb,UD(n)),Ss(ub,cb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=5*60,BD=RT("authIdTokenMaxAge")||zD;let fb=null;const FD=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>BD)return;const a=t==null?void 0:t.token;fb!==a&&(fb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function HD(n=DT()){const e=mg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=vO(n,{popupRedirectResolver:LD,persistence:[KO,VO,l1]}),i=RT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=FD(l.toString());DO(t,c,()=>c(t.currentUser)),OO(t,d=>c(d))}}const a=AT("auth");return a&&bO(t,`http://${a}`),t}function qD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}uO({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Mr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",qD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jD("Browser");var hb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,m1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,x){function A(){}A.prototype=x.prototype,D.D=x.prototype,D.prototype=new A,D.prototype.constructor=D,D.C=function(C,P,V){for(var I=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)I[xe-2]=arguments[xe];return x.prototype[P].apply(C,I)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,x,A){A||(A=0);var C=Array(16);if(typeof x=="string")for(var P=0;16>P;++P)C[P]=x.charCodeAt(A++)|x.charCodeAt(A++)<<8|x.charCodeAt(A++)<<16|x.charCodeAt(A++)<<24;else for(P=0;16>P;++P)C[P]=x[A++]|x[A++]<<8|x[A++]<<16|x[A++]<<24;x=D.g[0],A=D.g[1],P=D.g[2];var V=D.g[3],I=x+(V^A&(P^V))+C[0]+3614090360&4294967295;x=A+(I<<7&4294967295|I>>>25),I=V+(P^x&(A^P))+C[1]+3905402710&4294967295,V=x+(I<<12&4294967295|I>>>20),I=P+(A^V&(x^A))+C[2]+606105819&4294967295,P=V+(I<<17&4294967295|I>>>15),I=A+(x^P&(V^x))+C[3]+3250441966&4294967295,A=P+(I<<22&4294967295|I>>>10),I=x+(V^A&(P^V))+C[4]+4118548399&4294967295,x=A+(I<<7&4294967295|I>>>25),I=V+(P^x&(A^P))+C[5]+1200080426&4294967295,V=x+(I<<12&4294967295|I>>>20),I=P+(A^V&(x^A))+C[6]+2821735955&4294967295,P=V+(I<<17&4294967295|I>>>15),I=A+(x^P&(V^x))+C[7]+4249261313&4294967295,A=P+(I<<22&4294967295|I>>>10),I=x+(V^A&(P^V))+C[8]+1770035416&4294967295,x=A+(I<<7&4294967295|I>>>25),I=V+(P^x&(A^P))+C[9]+2336552879&4294967295,V=x+(I<<12&4294967295|I>>>20),I=P+(A^V&(x^A))+C[10]+4294925233&4294967295,P=V+(I<<17&4294967295|I>>>15),I=A+(x^P&(V^x))+C[11]+2304563134&4294967295,A=P+(I<<22&4294967295|I>>>10),I=x+(V^A&(P^V))+C[12]+1804603682&4294967295,x=A+(I<<7&4294967295|I>>>25),I=V+(P^x&(A^P))+C[13]+4254626195&4294967295,V=x+(I<<12&4294967295|I>>>20),I=P+(A^V&(x^A))+C[14]+2792965006&4294967295,P=V+(I<<17&4294967295|I>>>15),I=A+(x^P&(V^x))+C[15]+1236535329&4294967295,A=P+(I<<22&4294967295|I>>>10),I=x+(P^V&(A^P))+C[1]+4129170786&4294967295,x=A+(I<<5&4294967295|I>>>27),I=V+(A^P&(x^A))+C[6]+3225465664&4294967295,V=x+(I<<9&4294967295|I>>>23),I=P+(x^A&(V^x))+C[11]+643717713&4294967295,P=V+(I<<14&4294967295|I>>>18),I=A+(V^x&(P^V))+C[0]+3921069994&4294967295,A=P+(I<<20&4294967295|I>>>12),I=x+(P^V&(A^P))+C[5]+3593408605&4294967295,x=A+(I<<5&4294967295|I>>>27),I=V+(A^P&(x^A))+C[10]+38016083&4294967295,V=x+(I<<9&4294967295|I>>>23),I=P+(x^A&(V^x))+C[15]+3634488961&4294967295,P=V+(I<<14&4294967295|I>>>18),I=A+(V^x&(P^V))+C[4]+3889429448&4294967295,A=P+(I<<20&4294967295|I>>>12),I=x+(P^V&(A^P))+C[9]+568446438&4294967295,x=A+(I<<5&4294967295|I>>>27),I=V+(A^P&(x^A))+C[14]+3275163606&4294967295,V=x+(I<<9&4294967295|I>>>23),I=P+(x^A&(V^x))+C[3]+4107603335&4294967295,P=V+(I<<14&4294967295|I>>>18),I=A+(V^x&(P^V))+C[8]+1163531501&4294967295,A=P+(I<<20&4294967295|I>>>12),I=x+(P^V&(A^P))+C[13]+2850285829&4294967295,x=A+(I<<5&4294967295|I>>>27),I=V+(A^P&(x^A))+C[2]+4243563512&4294967295,V=x+(I<<9&4294967295|I>>>23),I=P+(x^A&(V^x))+C[7]+1735328473&4294967295,P=V+(I<<14&4294967295|I>>>18),I=A+(V^x&(P^V))+C[12]+2368359562&4294967295,A=P+(I<<20&4294967295|I>>>12),I=x+(A^P^V)+C[5]+4294588738&4294967295,x=A+(I<<4&4294967295|I>>>28),I=V+(x^A^P)+C[8]+2272392833&4294967295,V=x+(I<<11&4294967295|I>>>21),I=P+(V^x^A)+C[11]+1839030562&4294967295,P=V+(I<<16&4294967295|I>>>16),I=A+(P^V^x)+C[14]+4259657740&4294967295,A=P+(I<<23&4294967295|I>>>9),I=x+(A^P^V)+C[1]+2763975236&4294967295,x=A+(I<<4&4294967295|I>>>28),I=V+(x^A^P)+C[4]+1272893353&4294967295,V=x+(I<<11&4294967295|I>>>21),I=P+(V^x^A)+C[7]+4139469664&4294967295,P=V+(I<<16&4294967295|I>>>16),I=A+(P^V^x)+C[10]+3200236656&4294967295,A=P+(I<<23&4294967295|I>>>9),I=x+(A^P^V)+C[13]+681279174&4294967295,x=A+(I<<4&4294967295|I>>>28),I=V+(x^A^P)+C[0]+3936430074&4294967295,V=x+(I<<11&4294967295|I>>>21),I=P+(V^x^A)+C[3]+3572445317&4294967295,P=V+(I<<16&4294967295|I>>>16),I=A+(P^V^x)+C[6]+76029189&4294967295,A=P+(I<<23&4294967295|I>>>9),I=x+(A^P^V)+C[9]+3654602809&4294967295,x=A+(I<<4&4294967295|I>>>28),I=V+(x^A^P)+C[12]+3873151461&4294967295,V=x+(I<<11&4294967295|I>>>21),I=P+(V^x^A)+C[15]+530742520&4294967295,P=V+(I<<16&4294967295|I>>>16),I=A+(P^V^x)+C[2]+3299628645&4294967295,A=P+(I<<23&4294967295|I>>>9),I=x+(P^(A|~V))+C[0]+4096336452&4294967295,x=A+(I<<6&4294967295|I>>>26),I=V+(A^(x|~P))+C[7]+1126891415&4294967295,V=x+(I<<10&4294967295|I>>>22),I=P+(x^(V|~A))+C[14]+2878612391&4294967295,P=V+(I<<15&4294967295|I>>>17),I=A+(V^(P|~x))+C[5]+4237533241&4294967295,A=P+(I<<21&4294967295|I>>>11),I=x+(P^(A|~V))+C[12]+1700485571&4294967295,x=A+(I<<6&4294967295|I>>>26),I=V+(A^(x|~P))+C[3]+2399980690&4294967295,V=x+(I<<10&4294967295|I>>>22),I=P+(x^(V|~A))+C[10]+4293915773&4294967295,P=V+(I<<15&4294967295|I>>>17),I=A+(V^(P|~x))+C[1]+2240044497&4294967295,A=P+(I<<21&4294967295|I>>>11),I=x+(P^(A|~V))+C[8]+1873313359&4294967295,x=A+(I<<6&4294967295|I>>>26),I=V+(A^(x|~P))+C[15]+4264355552&4294967295,V=x+(I<<10&4294967295|I>>>22),I=P+(x^(V|~A))+C[6]+2734768916&4294967295,P=V+(I<<15&4294967295|I>>>17),I=A+(V^(P|~x))+C[13]+1309151649&4294967295,A=P+(I<<21&4294967295|I>>>11),I=x+(P^(A|~V))+C[4]+4149444226&4294967295,x=A+(I<<6&4294967295|I>>>26),I=V+(A^(x|~P))+C[11]+3174756917&4294967295,V=x+(I<<10&4294967295|I>>>22),I=P+(x^(V|~A))+C[2]+718787259&4294967295,P=V+(I<<15&4294967295|I>>>17),I=A+(V^(P|~x))+C[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+V&4294967295}i.prototype.u=function(D,x){x===void 0&&(x=D.length);for(var A=x-this.blockSize,C=this.B,P=this.h,V=0;V<x;){if(P==0)for(;V<=A;)a(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<x;)if(C[P++]=D.charCodeAt(V++),P==this.blockSize){a(this,C),P=0;break}}else for(;V<x;)if(C[P++]=D[V++],P==this.blockSize){a(this,C),P=0;break}}this.h=P,this.o+=x},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;var A=8*this.o;for(x=D.length-8;x<D.length;++x)D[x]=A&255,A/=256;for(this.u(D),D=Array(16),x=A=0;4>x;++x)for(var C=0;32>C;C+=8)D[A++]=this.g[x]>>>C&255;return D};function l(D,x){var A=d;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=x(D)}function c(D,x){this.h=x;for(var A=[],C=!0,P=D.length-1;0<=P;P--){var V=D[P]|0;C&&V==x||(A[P]=V,C=!1)}this.g=A}var d={};function p(D){return-128<=D&&128>D?l(D,function(x){return new c([x|0],0>x?-1:0)}):new c([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return E;if(0>D)return k(g(-D));for(var x=[],A=1,C=0;D>=A;C++)x[C]=D/A|0,A*=4294967296;return new c(x,0)}function v(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return k(v(D.substring(1),x));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(x,8)),C=E,P=0;P<D.length;P+=8){var V=Math.min(8,D.length-P),I=parseInt(D.substring(P,P+V),x);8>V?(V=g(Math.pow(x,V)),C=C.j(V).add(g(I))):(C=C.j(A),C=C.add(g(I)))}return C}var E=p(0),T=p(1),R=p(16777216);n=c.prototype,n.m=function(){if(M(this))return-k(this).m();for(var D=0,x=1,A=0;A<this.g.length;A++){var C=this.i(A);D+=(0<=C?C:4294967296+C)*x,x*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O(this))return"0";if(M(this))return"-"+k(this).toString(D);for(var x=g(Math.pow(D,6)),A=this,C="";;){var P=re(A,x).g;A=$(A,P.j(x));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(D);if(A=P,O(A))return V+C;for(;6>V.length;)V="0"+V;C=V+C}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function O(D){if(D.h!=0)return!1;for(var x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function M(D){return D.h==-1}n.l=function(D){return D=$(this,D),M(D)?-1:O(D)?0:1};function k(D){for(var x=D.g.length,A=[],C=0;C<x;C++)A[C]=~D.g[C];return new c(A,~D.h).add(T)}n.abs=function(){return M(this)?k(this):this},n.add=function(D){for(var x=Math.max(this.g.length,D.g.length),A=[],C=0,P=0;P<=x;P++){var V=C+(this.i(P)&65535)+(D.i(P)&65535),I=(V>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);C=I>>>16,V&=65535,I&=65535,A[P]=I<<16|V}return new c(A,A[A.length-1]&-2147483648?-1:0)};function $(D,x){return D.add(k(x))}n.j=function(D){if(O(this)||O(D))return E;if(M(this))return M(D)?k(this).j(k(D)):k(k(this).j(D));if(M(D))return k(this.j(k(D)));if(0>this.l(R)&&0>D.l(R))return g(this.m()*D.m());for(var x=this.g.length+D.g.length,A=[],C=0;C<2*x;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var P=0;P<D.g.length;P++){var V=this.i(C)>>>16,I=this.i(C)&65535,xe=D.i(P)>>>16,Ce=D.i(P)&65535;A[2*C+2*P]+=I*Ce,B(A,2*C+2*P),A[2*C+2*P+1]+=V*Ce,B(A,2*C+2*P+1),A[2*C+2*P+1]+=I*xe,B(A,2*C+2*P+1),A[2*C+2*P+2]+=V*xe,B(A,2*C+2*P+2)}for(C=0;C<x;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=x;C<2*x;C++)A[C]=0;return new c(A,0)};function B(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function G(D,x){this.g=D,this.h=x}function re(D,x){if(O(x))throw Error("division by zero");if(O(D))return new G(E,E);if(M(D))return x=re(k(D),x),new G(k(x.g),k(x.h));if(M(x))return x=re(D,k(x)),new G(k(x.g),x.h);if(30<D.g.length){if(M(D)||M(x))throw Error("slowDivide_ only works with positive integers.");for(var A=T,C=x;0>=C.l(D);)A=ie(A),C=ie(C);var P=de(A,1),V=de(C,1);for(C=de(C,2),A=de(A,2);!O(C);){var I=V.add(C);0>=I.l(D)&&(P=P.add(A),V=I),C=de(C,1),A=de(A,1)}return x=$(D,P.j(x)),new G(P,x)}for(P=E;0<=D.l(x);){for(A=Math.max(1,Math.floor(D.m()/x.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),V=g(A),I=V.j(x);M(I)||0<I.l(D);)A-=C,V=g(A),I=V.j(x);O(V)&&(V=T),P=P.add(V),D=$(D,I)}return new G(P,D)}n.A=function(D){return re(this,D).h},n.and=function(D){for(var x=Math.max(this.g.length,D.g.length),A=[],C=0;C<x;C++)A[C]=this.i(C)&D.i(C);return new c(A,this.h&D.h)},n.or=function(D){for(var x=Math.max(this.g.length,D.g.length),A=[],C=0;C<x;C++)A[C]=this.i(C)|D.i(C);return new c(A,this.h|D.h)},n.xor=function(D){for(var x=Math.max(this.g.length,D.g.length),A=[],C=0;C<x;C++)A[C]=this.i(C)^D.i(C);return new c(A,this.h^D.h)};function ie(D){for(var x=D.g.length+1,A=[],C=0;C<x;C++)A[C]=D.i(C)<<1|D.i(C-1)>>>31;return new c(A,D.h)}function de(D,x){var A=x>>5;x%=32;for(var C=D.g.length-A,P=[],V=0;V<C;V++)P[V]=0<x?D.i(V+A)>>>x|D.i(V+A+1)<<32-x:D.i(V+A);return new c(P,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,m1=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,xs=c}).apply(typeof hb<"u"?hb:typeof self<"u"?self:typeof window<"u"?window:{});var _f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g1,hu,y1,Lf,Nm,v1,_1,b1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,_){return f==Array.prototype||f==Object.prototype||(f[y]=_.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof _f=="object"&&_f];for(var y=0;y<f.length;++y){var _=f[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function a(f,y){if(y)e:{var _=i;f=f.split(".");for(var S=0;S<f.length-1;S++){var K=f[S];if(!(K in _))break e;_=_[K]}f=f[f.length-1],S=_[f],y=y(S),y!=S&&y!=null&&e(_,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var _=0,S=!1,K={next:function(){if(!S&&_<f.length){var W=_++;return{value:y(W,f[W]),done:!1}}return S=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}a("Array.prototype.values",function(f){return f||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function g(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,_){return f.call.apply(f.bind,arguments)}function E(f,y,_){if(!f)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,S),f.apply(y,K)}}return function(){return f.apply(y,arguments)}}function T(f,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,T.apply(null,arguments)}function R(f,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),f.apply(this,S)}}function O(f,y){function _(){}_.prototype=y.prototype,f.aa=y.prototype,f.prototype=new _,f.prototype.constructor=f,f.Qb=function(S,K,W){for(var ce=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ce[Ze-2]=arguments[Ze];return y.prototype[K].apply(S,ce)}}function M(f){const y=f.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=f[S];return _}return[]}function k(f,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const K=f.length||0,W=S.length||0;f.length=K+W;for(let ce=0;ce<W;ce++)f[K+ce]=S[ce]}else f.push(S)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(f){return/^[\s\xa0]*$/.test(f)}function G(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function re(f){return re[" "](f),f}re[" "]=function(){};var ie=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function de(f,y,_){for(const S in f)y.call(_,f[S],S,f)}function D(f,y){for(const _ in f)y.call(void 0,f[_],_,f)}function x(f){const y={};for(const _ in f)y[_]=f[_];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(f,y){let _,S;for(let K=1;K<arguments.length;K++){S=arguments[K];for(_ in S)f[_]=S[_];for(let W=0;W<A.length;W++)_=A[W],Object.prototype.hasOwnProperty.call(S,_)&&(f[_]=S[_])}}function P(f){var y=1;f=f.split(":");const _=[];for(;0<y&&f.length;)_.push(f.shift()),y--;return f.length&&_.push(f.join(":")),_}function V(f){d.setTimeout(()=>{throw f},0)}function I(){var f=Ie;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class xe{constructor(){this.h=this.g=null}add(y,_){const S=Ce.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Ce=new $(()=>new le,f=>f.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,ye=!1,Ie=new xe,L=()=>{const f=d.Promise.resolve(void 0);ge=()=>{f.then(se)}};var se=()=>{for(var f;f=I();){try{f.h.call(f.g)}catch(_){V(_)}var y=Ce;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}ye=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return f}();function ze(f,y){if(pe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var _=this.type=f.type,S=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(ie){e:{try{re(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else _=="mouseover"?y=f.fromElement:_=="mouseout"&&(y=f.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Pe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ze.aa.h.call(this)}}O(ze,pe);var Pe={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function pt(f,y,_,S,K){this.listener=f,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=K,this.key=++Qe,this.da=this.fa=!1}function st(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Gt(f){this.src=f,this.g={},this.h=0}Gt.prototype.add=function(f,y,_,S,K){var W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);var ce=yn(f,y,S,K);return-1<ce?(y=f[ce],_||(y.fa=!1)):(y=new pt(y,this.src,W,!!S,K),y.fa=_,f.push(y)),y};function rr(f,y){var _=y.type;if(_ in f.g){var S=f.g[_],K=Array.prototype.indexOf.call(S,y,void 0),W;(W=0<=K)&&Array.prototype.splice.call(S,K,1),W&&(st(y),f.g[_].length==0&&(delete f.g[_],f.h--))}}function yn(f,y,_,S){for(var K=0;K<f.length;++K){var W=f[K];if(!W.da&&W.listener==y&&W.capture==!!_&&W.ha==S)return K}return-1}var ir="closure_lm_"+(1e6*Math.random()|0),Kr={};function mr(f,y,_,S,K){if(Array.isArray(y)){for(var W=0;W<y.length;W++)mr(f,y[W],_,S,K);return null}return _=je(_),f&&f[yt]?f.K(y,_,g(S)?!!S.capture:!1,K):Ma(f,y,_,!1,S,K)}function Ma(f,y,_,S,K,W){if(!y)throw Error("Invalid event type");var ce=g(K)?!!K.capture:!!K,Ze=ue(f);if(Ze||(f[ir]=Ze=new Gt(f)),_=Ze.add(y,_,S,ce,W),_.proxy)return _;if(S=U(),_.proxy=S,S.src=f,S.listener=_,f.addEventListener)me||(K=ce),K===void 0&&(K=!1),f.addEventListener(y.toString(),S,K);else if(f.attachEvent)f.attachEvent(he(y.toString()),S);else if(f.addListener&&f.removeListener)f.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function U(){function f(_){return y.call(f.src,f.listener,_)}const y=fe;return f}function Y(f,y,_,S,K){if(Array.isArray(y))for(var W=0;W<y.length;W++)Y(f,y[W],_,S,K);else S=g(S)?!!S.capture:!!S,_=je(_),f&&f[yt]?(f=f.i,y=String(y).toString(),y in f.g&&(W=f.g[y],_=yn(W,_,S,K),-1<_&&(st(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete f.g[y],f.h--)))):f&&(f=ue(f))&&(y=f.g[y.toString()],f=-1,y&&(f=yn(y,_,S,K)),(_=-1<f?y[f]:null)&&Z(_))}function Z(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[yt])rr(y.i,f);else{var _=f.type,S=f.proxy;y.removeEventListener?y.removeEventListener(_,S,f.capture):y.detachEvent?y.detachEvent(he(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=ue(y))?(rr(_,f),_.h==0&&(_.src=null,y[ir]=null)):st(f)}}}function he(f){return f in Kr?Kr[f]:Kr[f]="on"+f}function fe(f,y){if(f.da)f=!0;else{y=new ze(y,this);var _=f.listener,S=f.ha||f.src;f.fa&&Z(f),f=_.call(S,y)}return f}function ue(f){return f=f[ir],f instanceof Gt?f:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function je(f){return typeof f=="function"?f:(f[_e]||(f[_e]=function(y){return f.handleEvent(y)}),f[_e])}function qe(){be.call(this),this.i=new Gt(this),this.M=this,this.F=null}O(qe,be),qe.prototype[yt]=!0,qe.prototype.removeEventListener=function(f,y,_,S){Y(this,f,y,_,S)};function Ge(f,y){var _,S=f.F;if(S)for(_=[];S;S=S.F)_.push(S);if(f=f.M,S=y.type||y,typeof y=="string")y=new pe(y,f);else if(y instanceof pe)y.target=y.target||f;else{var K=y;y=new pe(S,f),C(y,K)}if(K=!0,_)for(var W=_.length-1;0<=W;W--){var ce=y.g=_[W];K=Kt(ce,S,!0,y)&&K}if(ce=y.g=f,K=Kt(ce,S,!0,y)&&K,K=Kt(ce,S,!1,y)&&K,_)for(W=0;W<_.length;W++)ce=y.g=_[W],K=Kt(ce,S,!1,y)&&K}qe.prototype.N=function(){if(qe.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var _=f.g[y],S=0;S<_.length;S++)st(_[S]);delete f.g[y],f.h--}}this.F=null},qe.prototype.K=function(f,y,_,S){return this.i.add(String(f),y,!1,_,S)},qe.prototype.L=function(f,y,_,S){return this.i.add(String(f),y,!0,_,S)};function Kt(f,y,_,S){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,W=0;W<y.length;++W){var ce=y[W];if(ce&&!ce.da&&ce.capture==_){var Ze=ce.listener,Mt=ce.ha||ce.src;ce.fa&&rr(f.i,ce),K=Ze.call(Mt,S)!==!1&&K}}return K&&!S.defaultPrevented}function Ua(f,y,_){if(typeof f=="function")_&&(f=T(f,_));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(f,y||0)}function Qr(f){f.g=Ua(()=>{f.g=null,f.i&&(f.i=!1,Qr(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Bs extends be{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(f){be.call(this),this.h=f,this.g={}}O(Yr,be);var sr=[];function Qt(f){de(f.g,function(y,_){this.g.hasOwnProperty(_)&&Z(y)},f),f.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),Qt(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ki=d.JSON.stringify,gr=d.JSON.parse,vn=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function il(){}il.prototype.h=null;function Wu(f){return f.h||(f.h=f.i())}function Zu(){}var yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){pe.call(this,"d")}O(Pi,pe);function ar(){pe.call(this,"c")}O(ar,pe);var zn={},Vi=null;function ja(){return Vi=Vi||new qe}zn.La="serverreachability";function sl(f){pe.call(this,zn.La,f)}O(sl,pe);function Li(f){const y=ja();Ge(y,new sl(y))}zn.STAT_EVENT="statevent";function za(f,y){pe.call(this,zn.STAT_EVENT,f),this.stat=y}O(za,pe);function Rt(f){const y=ja();Ge(y,new za(y,f))}zn.Ma="timingevent";function Ju(f,y){pe.call(this,zn.Ma,f),this.size=y}O(Ju,pe);function Mi(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},y)}function Ui(){this.g=!0}Ui.prototype.xa=function(){this.g=!1};function ec(f,y,_,S,K,W){f.info(function(){if(f.g)if(W)for(var ce="",Ze=W.split("&"),Mt=0;Mt<Ze.length;Mt++){var Je=Ze[Mt].split("=");if(1<Je.length){var Wt=Je[0];Je=Je[1];var Ut=Wt.split("_");ce=2<=Ut.length&&Ut[1]=="type"?ce+(Wt+"="+Je+"&"):ce+(Wt+"=redacted&")}}else ce=null;else ce=W;return"XMLHTTP REQ ("+S+") [attempt "+K+"]: "+y+`
`+_+`
`+ce})}function tc(f,y,_,S,K,W,ce){f.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+K+"]: "+y+`
`+_+`
`+W+" "+ce})}function ji(f,y,_,S){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Yt(f,_)+(S?" "+S:"")})}function vr(f,y){f.info(function(){return"TIMEOUT: "+y})}Ui.prototype.info=function(){};function Yt(f,y){if(!f.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(f=0;f<_.length;f++)if(Array.isArray(_[f])){var S=_[f];if(!(2>S.length)){var K=S[1];if(Array.isArray(K)&&!(1>K.length)){var W=K[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ce=1;ce<K.length;ce++)K[ce]=""}}}}return ki(_)}catch{return y}}var Lt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fs;function Ba(){}O(Ba,il),Ba.prototype.g=function(){return new XMLHttpRequest},Ba.prototype.i=function(){return{}},Fs=new Ba;function _r(f,y,_,S){this.j=f,this.i=y,this.l=_,this.R=S||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new al}function al(){this.i=null,this.g="",this.h=!1}var zi={},Hs={};function or(f,y,_){f.L=1,f.v=Gs(wt(y)),f.m=_,f.P=!0,Wr(f,null)}function Wr(f,y){f.F=Date.now(),vt(f),f.A=wt(f.v);var _=f.A,S=f.R;Array.isArray(S)||(S=[String(S)]),ei(_.i,"t",S),f.C=0,_=f.j.J,f.h=new al,f.g=mc(f.j,_?y:null,!f.m),0<f.O&&(f.M=new Bs(T(f.Y,f,f.g),f.O)),y=f.U,_=f.g,S=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(sr[0]=K.toString()),K=sr);for(var W=0;W<K.length;W++){var ce=mr(_,K[W],S||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=f.H?x(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Li(),ec(f.i,f.u,f.A,f.l,f.R,f.m)}_r.prototype.ca=function(f){f=f.target;const y=this.M;y&&$n(f)==3?y.j():this.Y(f)},_r.prototype.Y=function(f){try{if(f==this.g)e:{const Ut=$n(this.g);var y=this.g.Ba();const ii=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||oc(this.g)))){this.J||Ut!=4||y==7||(y==8||0>=ii?Li(3):Li(2)),Fa(this);var _=this.g.Z();this.X=_;t:if(Bi(this)){var S=oc(this.g);f="";var K=S.length,W=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),Nn(this);var ce="";break t}this.h.i=new d.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,f+=this.h.i.decode(S[y],{stream:!(W&&y==K-1)});S.length=0,this.h.g+=f,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,tc(this.i,this.u,this.A,this.l,this.R,Ut,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Mt=this.g;if((Ze=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Ze)){var Je=Ze;break t}}Je=null}if(_=Je)ji(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kn(this,_);else{this.o=!1,this.s=3,Rt(12),xn(this),Nn(this);break e}}if(this.P){_=!0;let nn;for(;!this.J&&this.C<ce.length;)if(nn=Fi(this,ce),nn==Hs){Ut==4&&(this.s=4,Rt(14),_=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==zi){this.s=4,Rt(15),ji(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else ji(this.i,this.l,nn,null),kn(this,nn);if(Bi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||ce.length!=0||this.h.h||(this.s=1,Rt(16),_=!1),this.o=this.o&&_,!_)ji(this.i,this.l,ce,"[Invalid Chunked Response]"),xn(this),Nn(this);else if(0<ce.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Js(Wt),Wt.M=!0,Rt(11))}}else ji(this.i,this.l,ce,null),kn(this,ce);Ut==4&&xn(this),this.o&&!this.J&&(Ut==4?hc(this.j,this):(this.o=!1,vt(this)))}else Jh(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),xn(this),Nn(this)}}}catch{}finally{}};function Bi(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Fi(f,y){var _=f.C,S=y.indexOf(`
`,_);return S==-1?Hs:(_=Number(y.substring(_,S)),isNaN(_)?zi:(S+=1,S+_>y.length?Hs:(y=y.slice(S,S+_),f.C=S+_,y)))}_r.prototype.cancel=function(){this.J=!0,xn(this)};function vt(f){f.S=Date.now()+f.I,ol(f,f.I)}function ol(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Mi(T(f.ba,f),y)}function Fa(f){f.B&&(d.clearTimeout(f.B),f.B=null)}_r.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(vr(this.i,this.A),this.L!=2&&(Li(),Rt(17)),xn(this),this.s=2,Nn(this)):ol(this,this.S-f)};function Nn(f){f.j.G==0||f.J||hc(f.j,f)}function xn(f){Fa(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Qt(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function kn(f,y){try{var _=f.j;if(_.G!=0&&(_.g==f||Hi(_.h,f))){if(!f.K&&Hi(_.h,f)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var K=S;if(K[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<f.F)Za(_),Xa(_);else break e;vl(_),Rt(18)}}else _.za=K[1],0<_.za-_.T&&37500>K[2]&&_.F&&_.v==0&&!_.C&&(_.C=Mi(T(_.Za,_),6e3));if(1>=nc(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ri(_,11)}else if((f.K||_.g==f)&&Za(_),!B(y))for(K=_.Da.g.parse(y),y=0;y<K.length;y++){let Je=K[y];if(_.T=Je[0],Je=Je[1],_.G==2)if(Je[0]=="c"){_.K=Je[1],_.ia=Je[2];const Wt=Je[3];Wt!=null&&(_.la=Wt,_.j.info("VER="+_.la));const Ut=Je[4];Ut!=null&&(_.Aa=Ut,_.j.info("SVER="+_.Aa));const ii=Je[5];ii!=null&&typeof ii=="number"&&0<ii&&(S=1.5*ii,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const nn=f.g;if(nn){const xr=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xr){var W=S.h;W.g||xr.indexOf("spdy")==-1&&xr.indexOf("quic")==-1&&xr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(qi(W,W.h),W.h=null))}if(S.D){const bl=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;bl&&(S.ya=bl,nt(S.I,S.D,bl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-f.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ce=f;if(S.qa=pc(S,S.J?S.ia:null,S.W),ce.K){Bn(S.h,ce);var Ze=ce,Mt=S.L;Mt&&(Ze.I=Mt),Ze.B&&(Fa(Ze),vt(Ze)),S.g=ce}else cc(S);0<_.i.length&&Wa(_)}else Je[0]!="stop"&&Je[0]!="close"||ri(_,7);else _.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?ri(_,7):gl(_):Je[0]!="noop"&&_.l&&_.l.ta(Je),_.v=0)}}Li(4)}catch{}}var Qh=class{constructor(f,y){this.g=f,this.map=y}};function ll(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ul(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function nc(f){return f.h?1:f.g?f.g.size:0}function Hi(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function qi(f,y){f.g?f.g.add(y):f.h=y}function Bn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}ll.prototype.cancel=function(){if(this.i=_n(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function _n(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const _ of f.g.values())y=y.concat(_.D);return y}return M(f.i)}function rc(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var y=[],_=f.length,S=0;S<_;S++)y.push(f[S]);return y}y=[],_=0;for(S in f)y[_++]=f[S];return y}function Yh(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var y=[];f=f.length;for(var _=0;_<f;_++)y.push(_);return y}y=[],_=0;for(const S in f)y[_++]=S;return y}}}function qs(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var _=Yh(f),S=rc(f),K=S.length,W=0;W<K;W++)y.call(void 0,S[W],_&&_[W],f)}var cl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ha(f,y){if(f){f=f.split("&");for(var _=0;_<f.length;_++){var S=f[_].indexOf("="),K=null;if(0<=S){var W=f[_].substring(0,S);K=f[_].substring(S+1)}else W=f[_];y(W,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Zr(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Zr){this.h=f.h,$i(this,f.j),this.o=f.o,this.g=f.g,$s(this,f.s),this.l=f.l;var y=f.i,_=new br;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),qa(this,_),this.m=f.m}else f&&(y=String(f).match(cl))?(this.h=!1,$i(this,y[1]||"",!0),this.o=Gi(y[2]||""),this.g=Gi(y[3]||"",!0),$s(this,y[4]),this.l=Gi(y[5]||"",!0),qa(this,y[6]||"",!0),this.m=Gi(y[7]||"")):(this.h=!1,this.i=new br(null,this.h))}Zr.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Fn(y,fl,!0),":");var _=this.g;return(_||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Fn(y,fl,!0),"@"),f.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&f.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&f.push("/"),f.push(Fn(_,_.charAt(0)=="/"?hl:ic,!0))),(_=this.i.toString())&&f.push("?",_),(_=this.m)&&f.push("#",Fn(_,Zh)),f.join("")};function wt(f){return new Zr(f)}function $i(f,y,_){f.j=_?Gi(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function $s(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function qa(f,y,_){y instanceof br?(f.i=y,dl(f.i,f.h)):(_||(y=Fn(y,Wh)),f.i=new br(y,f.h))}function nt(f,y,_){f.i.set(y,_)}function Gs(f){return nt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Gi(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Fn(f,y,_){return typeof f=="string"?(f=encodeURI(f).replace(y,Xh),_&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Xh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var fl=/[#\/\?@]/g,ic=/[#\?:]/g,hl=/[#\?]/g,Wh=/[#\?@]/g,Zh=/#/g;function br(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Hn(f){f.g||(f.g=new Map,f.h=0,f.i&&Ha(f.i,function(y,_){f.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=br.prototype,n.add=function(f,y){Hn(this),this.i=null,f=ti(this,f);var _=this.g.get(f);return _||this.g.set(f,_=[]),_.push(y),this.h+=1,this};function $a(f,y){Hn(f),y=ti(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Jr(f,y){return Hn(f),y=ti(f,y),f.g.has(y)}n.forEach=function(f,y){Hn(this),this.g.forEach(function(_,S){_.forEach(function(K){f.call(y,K,S,this)},this)},this)},n.na=function(){Hn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const K=f[S];for(let W=0;W<K.length;W++)_.push(y[S])}return _},n.V=function(f){Hn(this);let y=[];if(typeof f=="string")Jr(this,f)&&(y=y.concat(this.g.get(ti(this,f))));else{f=Array.from(this.g.values());for(let _=0;_<f.length;_++)y=y.concat(f[_])}return y},n.set=function(f,y){return Hn(this),this.i=null,f=ti(this,f),Jr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function ei(f,y,_){$a(f,y),0<_.length&&(f.i=null,f.g.set(ti(f,y),M(_)),f.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const W=encodeURIComponent(String(S)),ce=this.V(S);for(S=0;S<ce.length;S++){var K=W;ce[S]!==""&&(K+="="+encodeURIComponent(String(ce[S]))),f.push(K)}}return this.i=f.join("&")};function ti(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function dl(f,y){y&&!f.j&&(Hn(f),f.i=null,f.g.forEach(function(_,S){var K=S.toLowerCase();S!=K&&($a(this,S),ei(this,K,_))},f)),f.j=y}function sc(f,y){const _=new Ui;if(d.Image){const S=new Image;S.onload=R(qn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=R(qn,_,"TestLoadImage: error",!1,y,S),S.onabort=R(qn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=R(qn,_,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=f}else y(!1)}function Ks(f,y){const _=new Ui,S=new AbortController,K=setTimeout(()=>{S.abort(),qn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:S.signal}).then(W=>{clearTimeout(K),W.ok?qn(_,"TestPingServer: ok",!0,y):qn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),qn(_,"TestPingServer: error",!1,y)})}function qn(f,y,_,S,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),S(_)}catch{}}function Qs(){this.g=new vn}function Er(f,y,_){const S=_||"";try{qs(f,function(K,W){let ce=K;g(K)&&(ce=ki(K)),y.push(S+W+"="+encodeURIComponent(ce))})}catch(K){throw y.push(S+"type="+encodeURIComponent("_badmap")),K}}function Ki(f){this.l=f.Ub||null,this.j=f.eb||!1}O(Ki,il),Ki.prototype.g=function(){return new ni(this.l,this.j)},Ki.prototype.i=function(f){return function(){return f}}({});function ni(f,y){qe.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ni,qe),n=ni.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,wr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,wr(this)),this.g&&(this.readyState=3,wr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function pl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Tr(this):wr(this),this.readyState==3&&pl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Tr(this))},n.Qa=function(f){this.g&&(this.response=f,Tr(this))},n.ga=function(){this.g&&Tr(this)};function Tr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,wr(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,f.push(_[0]+": "+_[1]),_=y.next();return f.join(`\r
`)};function wr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ml(f){let y="";return de(f,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Xt(f,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=ml(_),typeof f=="string"?_!=null&&encodeURIComponent(String(_)):nt(f,y,_))}function ot(f){qe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(ot,qe);var Ga=/^https?$/i,Ys=["POST","PUT"];n=ot.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fs.g(),this.v=this.o?Wu(this.o):Wu(Fs),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(W){ac(this,W);return}if(f=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var K in S)_.set(K,S[K]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const W of S.keys())_.set(W,S.get(W));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),K=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ys,y,void 0))||S||K||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ce]of _)this.g.setRequestHeader(W,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xs(this),this.u=!0,this.g.send(f),this.u=!1}catch(W){ac(this,W)}};function ac(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Ka(f),Sr(f)}function Ka(f){f.A||(f.A=!0,Ge(f,"complete"),Ge(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ge(this,"complete"),Ge(this,"abort"),Sr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sr(this,!0)),ot.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},n.bb=function(){Qa(this)};function Qa(f){if(f.h&&typeof c<"u"&&(!f.v[1]||$n(f)!=4||f.Z()!=2)){if(f.u&&$n(f)==4)Ua(f.Ea,0,f);else if(Ge(f,"readystatechange"),$n(f)==4){f.h=!1;try{const ce=f.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=ce===0){var K=String(f.D).match(cl)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),S=!Ga.test(K?K.toLowerCase():"")}_=S}if(_)Ge(f,"complete"),Ge(f,"success");else{f.m=6;try{var W=2<$n(f)?f.g.statusText:""}catch{W=""}f.l=W+" ["+f.Z()+"]",Ka(f)}}finally{Sr(f)}}}}function Sr(f,y){if(f.g){Xs(f);const _=f.g,S=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Ge(f,"ready");try{_.onreadystatechange=S}catch{}}}function Xs(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function $n(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),gr(y)}};function oc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Jh(f){const y={};f=(f.g&&2<=$n(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<f.length;S++){if(B(f[S]))continue;var _=P(f[S]);const K=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=y[K]||[];y[K]=W,W.push(_)}D(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ws(f,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[f]||y}function Ya(f){this.Aa=0,this.i=[],this.j=new Ui,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ws("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ws("baseRetryDelayMs",5e3,f),this.cb=Ws("retryDelaySeedMs",1e4,f),this.Wa=Ws("forwardChannelMaxRetries",2,f),this.wa=Ws("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ll(f&&f.concurrentRequestLimit),this.Da=new Qs,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ya.prototype,n.la=8,n.G=1,n.connect=function(f,y,_,S){Rt(0),this.W=f,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=pc(this,null,this.W),Wa(this)};function gl(f){if(lc(f),f.G==3){var y=f.U++,_=wt(f.I);if(nt(_,"SID",f.K),nt(_,"RID",y),nt(_,"TYPE","terminate"),Zs(f,_),y=new _r(f,f.j,y),y.L=2,y.v=Gs(wt(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=mc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),vt(y)}dc(f)}function Xa(f){f.g&&(Js(f),f.g.cancel(),f.g=null)}function lc(f){Xa(f),f.u&&(d.clearTimeout(f.u),f.u=null),Za(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Wa(f){if(!ul(f.h)&&!f.s){f.s=!0;var y=f.Ga;ge||L(),ye||(ge(),ye=!0),Ie.add(y,f),f.B=0}}function ed(f,y){return nc(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Mi(T(f.Ga,f,y),_l(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new _r(this,this.j,f);let W=this.o;if(this.S&&(W?(W=x(W),C(W,this.S)):W=this.S),this.m!==null||this.O||(K.H=W,W=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=uc(this,K,y),_=wt(this.I),nt(_,"RID",f),nt(_,"CVER",22),this.D&&nt(_,"X-HTTP-Session-Id",this.D),Zs(this,_),W&&(this.O?y="headers="+encodeURIComponent(String(ml(W)))+"&"+y:this.m&&Xt(_,this.m,W)),qi(this.h,K),this.Ua&&nt(_,"TYPE","init"),this.P?(nt(_,"$req",y),nt(_,"SID","null"),K.T=!0,or(K,_,null)):or(K,_,y),this.G=2}}else this.G==3&&(f?yl(this,f):this.i.length==0||ul(this.h)||yl(this))};function yl(f,y){var _;y?_=y.l:_=f.U++;const S=wt(f.I);nt(S,"SID",f.K),nt(S,"RID",_),nt(S,"AID",f.T),Zs(f,S),f.m&&f.o&&Xt(S,f.m,f.o),_=new _r(f,f.j,_,f.B+1),f.m===null&&(_.H=f.o),y&&(f.i=y.D.concat(f.i)),y=uc(f,_,1e3),_.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),qi(f.h,_),or(_,S,y)}function Zs(f,y){f.H&&de(f.H,function(_,S){nt(y,S,_)}),f.l&&qs({},function(_,S){nt(y,S,_)})}function uc(f,y,_){_=Math.min(f.i.length,_);var S=f.l?T(f.l.Na,f.l,f):null;e:{var K=f.i;let W=-1;for(;;){const ce=["count="+_];W==-1?0<_?(W=K[0].g,ce.push("ofs="+W)):W=0:ce.push("ofs="+W);let Ze=!0;for(let Mt=0;Mt<_;Mt++){let Je=K[Mt].g;const Wt=K[Mt].map;if(Je-=W,0>Je)W=Math.max(0,K[Mt].g-100),Ze=!1;else try{Er(Wt,ce,"req"+Je+"_")}catch{S&&S(Wt)}}if(Ze){S=ce.join("&");break e}}}return f=f.i.splice(0,_),y.D=f,S}function cc(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;ge||L(),ye||(ge(),ye=!0),Ie.add(y,f),f.v=0}}function vl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Mi(T(f.Fa,f),_l(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Mi(T(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),Xa(this),fc(this))};function Js(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function fc(f){f.g=new _r(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=wt(f.qa);nt(y,"RID","rpc"),nt(y,"SID",f.K),nt(y,"AID",f.T),nt(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&nt(y,"TO",f.ja),nt(y,"TYPE","xmlhttp"),Zs(f,y),f.m&&f.o&&Xt(y,f.m,f.o),f.L&&(f.g.I=f.L);var _=f.g;f=f.ia,_.L=1,_.v=Gs(wt(y)),_.m=null,_.P=!0,Wr(_,f)}n.Za=function(){this.C!=null&&(this.C=null,Xa(this),vl(this),Rt(19))};function Za(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function hc(f,y){var _=null;if(f.g==y){Za(f),Js(f),f.g=null;var S=2}else if(Hi(f.h,y))_=y.D,Bn(f.h,y),S=1;else return;if(f.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var K=f.B;S=ja(),Ge(S,new Ju(S,_)),Wa(f)}else cc(f);else if(K=y.s,K==3||K==0&&0<y.X||!(S==1&&ed(f,y)||S==2&&vl(f)))switch(_&&0<_.length&&(y=f.h,y.i=y.i.concat(_)),K){case 1:ri(f,5);break;case 4:ri(f,10);break;case 3:ri(f,6);break;default:ri(f,2)}}}function _l(f,y){let _=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(_*=2),_*y}function ri(f,y){if(f.j.info("Error code "+y),y==2){var _=T(f.fb,f),S=f.Xa;const K=!S;S=new Zr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||$i(S,"https"),Gs(S),K?sc(S.toString(),_):Ks(S.toString(),_)}else Rt(2);f.G=0,f.l&&f.l.sa(y),dc(f),lc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function dc(f){if(f.G=0,f.ka=[],f.l){const y=_n(f.h);(y.length!=0||f.i.length!=0)&&(k(f.ka,y),k(f.ka,f.i),f.h.i.length=0,M(f.i),f.i.length=0),f.l.ra()}}function pc(f,y,_){var S=_ instanceof Zr?wt(_):new Zr(_);if(S.g!="")y&&(S.g=y+"."+S.g),$s(S,S.s);else{var K=d.location;S=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var W=new Zr(null);S&&$i(W,S),y&&(W.g=y),K&&$s(W,K),_&&(W.l=_),S=W}return _=f.D,y=f.ya,_&&y&&nt(S,_,y),nt(S,"VER",f.la),Zs(f,S),S}function mc(f,y,_){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new ot(new Ki({eb:_})):new ot(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}n=gc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ja(){}Ja.prototype.g=function(f,y){return new bn(f,y)};function bn(f,y){qe.call(this),this.g=new Ya(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!B(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!B(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Ar(this)}O(bn,qe),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){gl(this.g)},bn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var _={};_.__data__=f,f=_}else this.u&&(_={},_.__data__=ki(f),f=_);y.i.push(new Qh(y.Ya++,f)),y.G==3&&Wa(y)},bn.prototype.N=function(){this.g.l=null,delete this.j,gl(this.g),delete this.g,bn.aa.N.call(this)};function yc(f){Pi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const _ in y){f=_;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}O(yc,Pi);function vc(){ar.call(this),this.status=1}O(vc,ar);function Ar(f){this.g=f}O(Ar,gc),Ar.prototype.ua=function(){Ge(this.g,"a")},Ar.prototype.ta=function(f){Ge(this.g,new yc(f))},Ar.prototype.sa=function(f){Ge(this.g,new vc)},Ar.prototype.ra=function(){Ge(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,b1=function(){return new Ja},_1=function(){return ja()},v1=zn,Nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lt.NO_ERROR=0,Lt.TIMEOUT=8,Lt.HTTP_ERROR=6,Lf=Lt,Xr.COMPLETE="complete",y1=Xr,Zu.EventType=yr,yr.OPEN="a",yr.CLOSE="b",yr.ERROR="c",yr.MESSAGE="d",qe.prototype.listen=qe.prototype.K,hu=Zu,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,g1=ot}).apply(typeof _f<"u"?_f:typeof self<"u"?self:typeof window<"u"?window:{});const db="@firebase/firestore",pb="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new dg("@firebase/firestore");function No(){return Ca.logLevel}function ve(n,...e){if(Ca.logLevel<=Ye.DEBUG){const t=e.map(wg);Ca.debug(`Firestore (${el}): ${n}`,...t)}}function Ii(n,...e){if(Ca.logLevel<=Ye.ERROR){const t=e.map(wg);Ca.error(`Firestore (${el}): ${n}`,...t)}}function Fo(n,...e){if(Ca.logLevel<=Ye.WARN){const t=e.map(wg);Ca.warn(`Firestore (${el}): ${n}`,...t)}}function wg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n="Unexpected state"){const e=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: `+n;throw Ii(e),new Error(e)}function lt(n,e){n||Ne()}function Ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Ni{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $D{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class GD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class KD{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){lt(this.o===void 0);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Rs,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Rs)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(lt(typeof i.accessToken=="string"),new E1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string"),new dn(e)}}class QD{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class YD{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new QD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XD{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,dr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){lt(this.o===void 0);const i=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new mb(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lt(typeof t.token=="string"),this.R=t.token,new mb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=WD(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function He(n,e){return n<e?-1:n>e?1:0}function km(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return He(i,a);{const l=T1(),c=ZD(l.encode(gb(n,t)),l.encode(gb(e,t)));return c!==0?c:He(i,a)}}t+=i>65535?2:1}return He(n.length,e.length)}function gb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function ZD(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return He(n[t],e[t]);return He(n.length,e.length)}function Ho(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=-62135596800,vb=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*vb);return new qt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<yb)throw new Ae(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vb}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-yb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new qt(0,0))}static max(){return new Le(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="__name__";class kr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ne(),i===void 0?i=e.length-t:i>e.length-t&&Ne(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return kr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof kr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=kr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return He(e.length,t.length)}static compareSegments(e,t){const i=kr.isNumericId(e),a=kr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?kr.extractNumericId(e).compare(kr.extractNumericId(t)):km(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xs.fromString(e.substring(4,e.length-2))}}class gt extends kr{construct(e,t,i){return new gt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ae(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new gt(t)}static emptyPath(){return new gt([])}}const JD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends kr{construct(e,t,i){return new ln(e,t,i)}static isValidIdentifier(e){return JD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_b}static keyField(){return new ln([_b])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Ae(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Ae(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ae(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new Ae(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(gt.fromString(e))}static fromName(e){return new Re(gt.fromString(e).popFirst(5))}static empty(){return new Re(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=-1;function eN(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Le.fromTimestamp(i===1e9?new qt(t+1,0):new qt(t,i));return new Os(a,Re.empty(),e)}function tN(n){return new Os(n.readTime,n.key,xu)}class Os{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Os(Le.min(),Re.empty(),xu)}static max(){return new Os(Le.max(),Re.empty(),xu)}}function nN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:He(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==rN)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,i)=>{t(e)})}static reject(e){return new ne((t,i)=>{i(e)})}static waitFor(e){return new ne((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},p=>i(p))}),c=!0,l===a&&t()})}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next(a=>a?ne.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new ne((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(v=>{c[g]=v,++d,d===l&&i(c)},v=>a(v))}})}static doWhile(e,t){return new ne((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function sN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function nl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Rh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=-1;function Ch(n){return n==null}function eh(n){return n===0&&1/n==-1/0}function aN(n){return typeof n=="number"&&Number.isInteger(n)&&!eh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="";function oN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bb(e)),e=lN(n.get(t),e);return bb(e)}function lN(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case S1:t+="";break;default:t+=l}}return t}function bb(n){return n+S1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ms(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function A1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new Tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bf(this.root,e,this.comparator,!1)}getReverseIterator(){return new bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bf(this.root,e,this.comparator,!0)}}class bf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??on.RED,this.left=a??on.EMPTY,this.right=l??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new on(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return on.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,t,i,a,l){return this}insert(e,t,i){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Tb(this.data.getIterator())}getIteratorFrom(e){return new Tb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class Tb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new jn([])}unionWith(e){let t=new $t(ln.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new x1("Invalid base64 string: "+l):l}}(e);return new un(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const uN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(n){if(lt(!!n),typeof n=="string"){let e=0;const t=uN.exec(n);if(lt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ns(n){return typeof n=="string"?un.fromBase64String(n):un.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="server_timestamp",C1="__type__",I1="__previous_value__",O1="__local_write_time__";function Ag(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[C1])===null||t===void 0?void 0:t.stringValue)===R1}function Ih(n){const e=n.mapValue.fields[I1];return Ag(e)?Ih(e):e}function Ru(n){const e=Ds(n.mapValue.fields[O1].timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t,i,a,l,c,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const th="(default)";class Cu{constructor(e,t){this.projectId=e,this.database=t||th}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof Cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="__type__",fN="__max__",Ef={mapValue:{}},N1="__vector__",nh="value";function ks(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ag(n)?4:dN(n)?9007199254740991:hN(n)?10:11:Ne()}function Hr(n,e){if(n===e)return!0;const t=ks(n);if(t!==ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ru(n).isEqual(Ru(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ds(a.timestampValue),d=Ds(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Ns(a.bytesValue).isEqual(Ns(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return It(a.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return It(a.integerValue)===It(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=It(a.doubleValue),d=It(l.doubleValue);return c===d?eh(c)===eh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Ho(n.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Eb(c)!==Eb(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Hr(c[p],d[p])))return!1;return!0}(n,e);default:return Ne()}}function Iu(n,e){return(n.values||[]).find(t=>Hr(t,e))!==void 0}function qo(n,e){if(n===e)return 0;const t=ks(n),i=ks(e);if(t!==i)return He(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return He(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=It(l.integerValue||l.doubleValue),p=It(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return wb(n.timestampValue,e.timestampValue);case 4:return wb(Ru(n),Ru(e));case 5:return km(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Ns(l),p=Ns(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=He(d[g],p[g]);if(v!==0)return v}return He(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=He(It(l.latitude),It(c.latitude));return d!==0?d:He(It(l.longitude),It(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Sb(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,g,v;const E=l.fields||{},T=c.fields||{},R=(d=E[nh])===null||d===void 0?void 0:d.arrayValue,O=(p=T[nh])===null||p===void 0?void 0:p.arrayValue,M=He(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((v=O==null?void 0:O.values)===null||v===void 0?void 0:v.length)||0);return M!==0?M:Sb(R,O)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Ef.mapValue&&c===Ef.mapValue)return 0;if(l===Ef.mapValue)return 1;if(c===Ef.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const T=km(p[E],v[E]);if(T!==0)return T;const R=qo(d[p[E]],g[v[E]]);if(R!==0)return R}return He(p.length,v.length)}(n.mapValue,e.mapValue);default:throw Ne()}}function wb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return He(n,e);const t=Ds(n),i=Ds(e),a=He(t.seconds,i.seconds);return a!==0?a:He(t.nanos,i.nanos)}function Sb(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=qo(t[a],i[a]);if(l)return l}return He(t.length,i.length)}function $o(n){return Pm(n)}function Pm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ds(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ns(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Pm(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Pm(t.fields[c])}`;return a+"}"}(n.mapValue):Ne()}function Mf(n){switch(ks(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(n);return e?16+Mf(e):16;case 5:return 2*n.stringValue.length;case 6:return Ns(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Mf(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Ms(i.fields,(l,c)=>{a+=l.length+Mf(c)}),a}(n.mapValue);default:throw Ne()}}function Vm(n){return!!n&&"integerValue"in n}function xg(n){return!!n&&"arrayValue"in n}function Ab(n){return!!n&&"nullValue"in n}function xb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Uf(n){return!!n&&"mapValue"in n}function hN(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[D1])===null||t===void 0?void 0:t.stringValue)===N1}function yu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ms(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=yu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===fN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Uf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(t)}setAll(e){let t=ln.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=yu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Uf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Uf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Ms(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new On(yu(this.value))}}function k1(n){const e=[];return Ms(n.fields,(t,i)=>{const a=new ln([t]);if(Uf(i)){const l=k1(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new pn(e,0,Le.min(),Le.min(),Le.min(),On.empty(),0)}static newFoundDocument(e,t,i,a){return new pn(e,1,t,Le.min(),i,a,0)}static newNoDocument(e,t){return new pn(e,2,t,Le.min(),Le.min(),On.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,Le.min(),Le.min(),On.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,t){this.position=e,this.inclusive=t}}function Rb(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Re.comparator(Re.fromName(c.referenceValue),t.key):i=qo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Cb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t="asc"){this.field=e,this.dir=t}}function pN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{}class Ht extends P1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new gN(e,t,i):t==="array-contains"?new _N(e,i):t==="in"?new bN(e,i):t==="not-in"?new EN(e,i):t==="array-contains-any"?new TN(e,i):new Ht(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new yN(e,i):new vN(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(qo(t,this.value)):t!==null&&ks(this.value)===ks(t)&&this.matchesComparison(qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qr extends P1{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new qr(e,t)}matches(e){return V1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function V1(n){return n.op==="and"}function L1(n){return mN(n)&&V1(n)}function mN(n){for(const e of n.filters)if(e instanceof qr)return!1;return!0}function Lm(n){if(n instanceof Ht)return n.field.canonicalString()+n.op.toString()+$o(n.value);if(L1(n))return n.filters.map(e=>Lm(e)).join(",");{const e=n.filters.map(t=>Lm(t)).join(",");return`${n.op}(${e})`}}function M1(n,e){return n instanceof Ht?function(i,a){return a instanceof Ht&&i.op===a.op&&i.field.isEqual(a.field)&&Hr(i.value,a.value)}(n,e):n instanceof qr?function(i,a){return a instanceof qr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&M1(c,a.filters[d]),!0):!1}(n,e):void Ne()}function U1(n){return n instanceof Ht?function(t){return`${t.field.canonicalString()} ${t.op} ${$o(t.value)}`}(n):n instanceof qr?function(t){return t.op.toString()+" {"+t.getFilters().map(U1).join(" ,")+"}"}(n):"Filter"}class gN extends Ht{constructor(e,t,i){super(e,t,i),this.key=Re.fromName(i.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class yN extends Ht{constructor(e,t){super(e,"in",t),this.keys=j1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vN extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=j1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function j1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Re.fromName(i.referenceValue))}class _N extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xg(t)&&Iu(t.arrayValue,this.value)}}class bN extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Iu(this.value.arrayValue,t)}}class EN extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Iu(this.value.arrayValue,t)}}class TN extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Iu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function Ib(n,e=null,t=[],i=[],a=null,l=null,c=null){return new wN(n,e,t,i,a,l,c)}function Rg(n){const e=Ue(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Lm(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Ch(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>$o(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>$o(i)).join(",")),e.le=t}return e.le}function Cg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!pN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!M1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Cb(n.startAt,e.startAt)&&Cb(n.endAt,e.endAt)}function Mm(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function SN(n,e,t,i,a,l,c,d){return new Oh(n,e,t,i,a,l,c,d)}function Ig(n){return new Oh(n)}function Ob(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function AN(n){return n.collectionGroup!==null}function vu(n){const e=Ue(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new $t(ln.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new ih(l,i))}),t.has(ln.keyField().canonicalString())||e.he.push(new ih(ln.keyField(),i))}return e.he}function jr(n){const e=Ue(n);return e.Pe||(e.Pe=xN(e,vu(n))),e.Pe}function xN(n,e){if(n.limitType==="F")return Ib(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new ih(a.field,l)});const t=n.endAt?new rh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new rh(n.startAt.position,n.startAt.inclusive):null;return Ib(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Um(n,e,t){return new Oh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dh(n,e){return Cg(jr(n),jr(e))&&n.limitType===e.limitType}function z1(n){return`${Rg(jr(n))}|lt:${n.limitType}`}function ko(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>U1(a)).join(", ")}]`),Ch(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>$o(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>$o(a)).join(",")),`Target(${i})`}(jr(n))}; limitType=${n.limitType})`}function Nh(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Re.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of vu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,p){const g=Rb(c,d,p);return c.inclusive?g<=0:g<0}(i.startAt,vu(i),a)||i.endAt&&!function(c,d,p){const g=Rb(c,d,p);return c.inclusive?g>=0:g>0}(i.endAt,vu(i),a))}(n,e)}function RN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function B1(n){return(e,t)=>{let i=!1;for(const a of vu(n)){const l=CN(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function CN(n,e,t){const i=n.field.isKeyField()?Re.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?qo(p,g):Ne()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return A1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new Tt(Re.comparator);function Oi(){return IN}const F1=new Tt(Re.comparator);function du(...n){let e=F1;for(const t of n)e=e.insert(t.key,t);return e}function H1(n){let e=F1;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ba(){return _u()}function q1(){return _u()}function _u(){return new Va(n=>n.toString(),(n,e)=>n.isEqual(e))}const ON=new Tt(Re.comparator),DN=new $t(Re.comparator);function Xe(...n){let e=DN;for(const t of n)e=e.add(t);return e}const NN=new $t(He);function kN(){return NN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function $1(n){return{integerValue:""+n}}function PN(n,e){return aN(e)?$1(e):Og(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function VN(n,e,t){return n instanceof Ou?function(a,l){const c={fields:{[C1]:{stringValue:R1},[O1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ag(l)&&(l=Ih(l)),l&&(c.fields[I1]=l),{mapValue:c}}(t,e):n instanceof Du?K1(n,e):n instanceof Nu?Q1(n,e):function(a,l){const c=G1(a,l),d=Db(c)+Db(a.Ie);return Vm(c)&&Vm(a.Ie)?$1(d):Og(a.serializer,d)}(n,e)}function LN(n,e,t){return n instanceof Du?K1(n,e):n instanceof Nu?Q1(n,e):t}function G1(n,e){return n instanceof sh?function(i){return Vm(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Ou extends kh{}class Du extends kh{constructor(e){super(),this.elements=e}}function K1(n,e){const t=Y1(e);for(const i of n.elements)t.some(a=>Hr(a,i))||t.push(i);return{arrayValue:{values:t}}}class Nu extends kh{constructor(e){super(),this.elements=e}}function Q1(n,e){let t=Y1(e);for(const i of n.elements)t=t.filter(a=>!Hr(a,i));return{arrayValue:{values:t}}}class sh extends kh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Db(n){return It(n.integerValue||n.doubleValue)}function Y1(n){return xg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t){this.field=e,this.transform=t}}function UN(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Du&&a instanceof Du||i instanceof Nu&&a instanceof Nu?Ho(i.elements,a.elements,Hr):i instanceof sh&&a instanceof sh?Hr(i.Ie,a.Ie):i instanceof Ou&&a instanceof Ou}(n.transform,e.transform)}class jN{constructor(e,t){this.version=e,this.transformResults=t}}class zr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ph{}function X1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Z1(n.key,zr.none()):new Ku(n.key,n.data,zr.none());{const t=n.data,i=On.empty();let a=new $t(ln.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Us(n.key,i,new jn(a.toArray()),zr.none())}}function zN(n,e,t){n instanceof Ku?function(a,l,c){const d=a.value.clone(),p=kb(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Us?function(a,l,c){if(!jf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=kb(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(W1(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function bu(n,e,t,i){return n instanceof Ku?function(l,c,d,p){if(!jf(l.precondition,c))return d;const g=l.value.clone(),v=Pb(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof Us?function(l,c,d,p){if(!jf(l.precondition,c))return d;const g=Pb(l.fieldTransforms,p,c),v=c.data;return v.setAll(W1(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(l,c,d){return jf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function BN(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=G1(i.transform,a||null);l!=null&&(t===null&&(t=On.empty()),t.set(i.field,l))}return t||null}function Nb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Ho(i,a,(l,c)=>UN(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ku extends Ph{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Us extends Ph{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function W1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function kb(n,e,t){const i=new Map;lt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,LN(c,d,t[a]))}return i}function Pb(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,VN(l,c,e))}return i}class Z1 extends Ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FN extends Ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&zN(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=bu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=bu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=q1();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=X1(c,d);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Le.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xe())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,(t,i)=>Nb(t,i))&&Ho(this.baseMutations,e.baseMutations,(t,i)=>Nb(t,i))}}class Dg{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){lt(e.mutations.length===i.length);let a=function(){return ON}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Dg(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,tt;function GN(n){switch(n){case oe.OK:return Ne();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ne()}}function J1(n){if(n===void 0)return Ii("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Pt.OK:return oe.OK;case Pt.CANCELLED:return oe.CANCELLED;case Pt.UNKNOWN:return oe.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return oe.INTERNAL;case Pt.UNAVAILABLE:return oe.UNAVAILABLE;case Pt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Pt.NOT_FOUND:return oe.NOT_FOUND;case Pt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Pt.ABORTED:return oe.ABORTED;case Pt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Pt.DATA_LOSS:return oe.DATA_LOSS;default:return Ne()}}(tt=Pt||(Pt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=new xs([4294967295,4294967295],0);function Vb(n){const e=T1().encode(n),t=new m1;return t.update(e),new Uint8Array(t.digest())}function Lb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new xs([t,i],0),new xs([a,l],0)]}class Ng{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new pu(`Invalid padding: ${t}`);if(i<0)throw new pu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new pu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=xs.fromNumber(this.Ee)}Ae(e,t,i){let a=e.add(t.multiply(xs.fromNumber(i)));return a.compare(KN)===1&&(a=new xs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Vb(e),[i,a]=Lb(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ng(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=Vb(e),[i,a]=Lb(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Qu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Vh(Le.min(),a,new Tt(He),Oi(),Xe())}}class Qu{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Qu(i,t,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t,i,a){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=a}}class ew{constructor(e,t){this.targetId=e,this.ge=t}}class tw{constructor(e,t,i=un.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Mb{constructor(){this.pe=0,this.ye=Ub(),this.we=un.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Xe(),t=Xe(),i=Xe();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ne()}}),new Qu(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=Ub()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,lt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class QN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Oi(),this.$e=Tf(),this.Ue=Tf(),this.Ke=new Tt(He)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,i=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(Mm(l))if(i===0){const c=new Re(l.path);this.ze(t,c,pn.newNoDocument(c,Le.min()))}else lt(i===1);else{const c=this.et(t);if(c!==i){const d=this.tt(e),p=d?this.nt(d,e,c):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Ns(i).toUint8Array()}catch(p){if(p instanceof x1)return Fo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Ng(c,a,l)}catch(p){return Fo(p instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Mm(d.target)){const p=new Re(d.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,pn.newNoDocument(p,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=Xe();this.Ue.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new Vh(e,t,this.Ke,this.Qe,i);return this.Qe=Oi(),this.$e=Tf(),this.Ue=Tf(),this.Ke=new Tt(He),a}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Mb,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new $t(He),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new $t(He),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Mb),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Tf(){return new Tt(Re.comparator)}function Ub(){return new Tt(Re.comparator)}const YN={asc:"ASCENDING",desc:"DESCENDING"},XN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WN={and:"AND",or:"OR"};class ZN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jm(n,e){return n.useProto3Json||Ch(e)?e:{value:e}}function ah(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function JN(n,e){return ah(n,e.toTimestamp())}function Br(n){return lt(!!n),Le.fromTimestamp(function(t){const i=Ds(t);return new qt(i.seconds,i.nanos)}(n))}function kg(n,e){return zm(n,e).canonicalString()}function zm(n,e){const t=function(a){return new gt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function rw(n){const e=gt.fromString(n);return lt(lw(e)),e}function Bm(n,e){return kg(n.databaseId,e.path)}function lm(n,e){const t=rw(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Re(sw(t))}function iw(n,e){return kg(n.databaseId,e)}function ek(n){const e=rw(n);return e.length===4?gt.emptyPath():sw(e)}function Fm(n){return new gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sw(n){return lt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function jb(n,e,t){return{name:Bm(n,e),fields:t.value.mapValue.fields}}function tk(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(lt(v===void 0||typeof v=="string"),un.fromBase64String(v||"")):(lt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),un.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const v=g.code===void 0?oe.UNKNOWN:J1(g.code);return new Ae(v,g.message||"")}(c);t=new tw(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=lm(n,i.document.name),l=Br(i.document.updateTime),c=i.document.createTime?Br(i.document.createTime):Le.min(),d=new On({mapValue:{fields:i.document.fields}}),p=pn.newFoundDocument(a,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new zf(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=lm(n,i.document),l=i.readTime?Br(i.readTime):Le.min(),c=pn.newNoDocument(a,l),d=i.removedTargetIds||[];t=new zf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=lm(n,i.document),l=i.removedTargetIds||[];t=new zf([],l,a,null)}else{if(!("filter"in e))return Ne();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new $N(a,l),d=i.targetId;t=new ew(d,c)}}return t}function nk(n,e){let t;if(e instanceof Ku)t={update:jb(n,e.key,e.value)};else if(e instanceof Z1)t={delete:Bm(n,e.key)};else if(e instanceof Us)t={update:jb(n,e.key,e.data),updateMask:fk(e.fieldMask)};else{if(!(e instanceof FN))return Ne();t={verify:Bm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Ou)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Du)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Nu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof sh)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw Ne()}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:JN(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne()}(n,e.precondition)),t}function rk(n,e){return n&&n.length>0?(lt(e!==void 0),n.map(t=>function(a,l){let c=a.updateTime?Br(a.updateTime):Br(l);return c.isEqual(Le.min())&&(c=Br(l)),new jN(c,a.transformResults||[])}(t,e))):[]}function ik(n,e){return{documents:[iw(n,e.path)]}}function sk(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=iw(n,a);const l=function(g){if(g.length!==0)return ow(qr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:Po(T.field),direction:lk(T.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=jm(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:a}}function ak(n){let e=ek(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){lt(i===1);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(E){const T=aw(E);return T instanceof qr&&L1(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(T=>function(O){return new ih(Vo(O.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(E){let T;return T=typeof E=="object"?E.value:E,Ch(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(E){const T=!!E.before,R=E.values||[];return new rh(R,T)}(t.startAt));let g=null;return t.endAt&&(g=function(E){const T=!E.before,R=E.values||[];return new rh(R,T)}(t.endAt)),SN(e,a,c,l,d,"F",p,g)}function ok(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function aw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Vo(t.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Vo(t.unaryFilter.field);return Ht.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Vo(t.unaryFilter.field);return Ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vo(t.unaryFilter.field);return Ht.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(n):n.fieldFilter!==void 0?function(t){return Ht.create(Vo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return qr.create(t.compositeFilter.filters.map(i=>aw(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne()}}(t.compositeFilter.op))}(n):Ne()}function lk(n){return YN[n]}function uk(n){return XN[n]}function ck(n){return WN[n]}function Po(n){return{fieldPath:n.canonicalString()}}function Vo(n){return ln.fromServerFormat(n.fieldPath)}function ow(n){return n instanceof Ht?function(t){if(t.op==="=="){if(xb(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NAN"}};if(Ab(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xb(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NAN"}};if(Ab(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(t.field),op:uk(t.op),value:t.value}}}(n):n instanceof qr?function(t){const i=t.getFilters().map(a=>ow(a));return i.length===1?i[0]:{compositeFilter:{op:ck(t.op),filters:i}}}(n):Ne()}function fk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t,i,a,l=Le.min(),c=Le.min(),d=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.Tt=e}}function dk(n){const e=ak({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.Tn=new mk}addToCollectionParentIndex(e,t){return this.Tn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Os.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class mk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new $t(gt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new $t(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uw=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(uw,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Go(0)}static Kn(){return new Go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="LruGarbageCollector",gk=1048576;function Fb([n,e],[t,i]){const a=He(n,t);return a===0?He(e,i):a}class yk{constructor(e){this.Hn=e,this.buffer=new $t(Fb),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Fb(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ve(Bb,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){nl(t)?ve(Bb,"Ignoring IndexedDB error during garbage collection: ",t):await tl(t)}await this.er(3e5)})}}class _k{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Rh.ae);const i=new yk(t);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(zb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zb):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,a,l,c,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a))).next(E=>(i=E,d=Date.now(),this.removeTargets(e,i,t))).next(E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(g=Date.now(),No()<=Ye.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E})))}}function bk(n,e){return new _k(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.changes=new Va(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&bu(i.mutation,a,jn.empty(),qt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Xe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Xe()){const a=ba();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=du();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ba();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Xe()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=Oi();const c=_u(),d=function(){return _u()}();return t.forEach((p,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Us)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),bu(v.mutation,g,v.mutation.getFieldMask(),qt.now())):c.set(g.key,jn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>{var E;return d.set(g,new Tk(v,(E=c.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(e,t){const i=_u();let a=new Tt((c,d)=>c-d),l=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=i.get(p)||jn.empty();v=d.applyToLocalView(g,v),i.set(p,v);const E=(a.get(d.batchId)||Xe()).add(p);a=a.insert(d.batchId,E)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=q1();v.forEach(T=>{if(!l.has(T)){const R=X1(t.get(T),i.get(T));R!==null&&E.set(T,R),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return ne.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return Re.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):AN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ne.resolve(ba());let d=xu,p=l;return c.next(g=>ne.forEach(g,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Xe())).next(v=>({batchId:d,changes:H1(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(i=>{let a=du();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=du();return this.indexManager.getCollectionParents(e,l).next(d=>ne.forEach(d,p=>{const g=function(E,T){return new Oh(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next(v=>{v.forEach((E,T)=>{c=c.insert(E,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,pn.newInvalidDocument(v)))});let d=du();return c.forEach((p,g)=>{const v=l.get(p);v!==void 0&&bu(v.mutation,g,jn.empty(),qt.now()),Nh(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ne.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Br(a.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:dk(a.bundledQuery),readTime:Br(a.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.overlays=new Tt(Re.comparator),this.Rr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ba();return ne.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.Et(e,t,l)}),ne.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const a=ba(),l=t.length+1,c=new Re(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ne.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Tt((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=ba(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ba(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=a)););return ne.resolve(d)}Et(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new qN(t,i));let l=this.Rr.get(t);l===void 0&&(l=Xe(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(){this.Vr=new $t(tn.mr),this.gr=new $t(tn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new tn(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new tn(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Re(new gt([])),i=new tn(t,e),a=new tn(t,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Re(new gt([])),i=new tn(t,e),a=new tn(t,e+1);let l=Xe();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new tn(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class tn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Re.comparator(e.key,t.key)||He(e.Cr,t.Cr)}static pr(e,t){return He(e.Cr,t.Cr)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new $t(tn.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new HN(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new tn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Nr(i),l=a<0?0:a;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Sg:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new tn(t,0),a=new tn(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const d=this.Or(c.Cr);l.push(d)}),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $t(He);return t.forEach(a=>{const l=new tn(a,0),c=new tn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{i=i.add(d.Cr)})}),ne.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Re.isDocumentKey(l)||(l=l.child(""));const c=new tn(new Re(l),0);let d=new $t(He);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Cr)),!0)},c),ne.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){lt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ne.forEach(t.mutations,a=>{const l=new tn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new tn(t,0),a=this.Mr.firstAfterOrEqual(i);return ne.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.kr=e,this.docs=function(){return new Tt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let i=Oi();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():pn.newInvalidDocument(a))}),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Oi();const c=t.path,d=new Re(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||nN(tN(v),i)<=0||(a.has(v.key)||Nh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Ne()}qr(e,t){return ne.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Ik(this)}getSize(e){return ne.resolve(this.size)}}class Ik extends Ek{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),ne.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.persistence=e,this.Qr=new Va(t=>Rg(t),Cg),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Pg,this.targetCount=0,this.Kr=Go.Un()}forEachTarget(e,t){return this.Qr.forEach((i,a)=>t(a)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ne.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Go(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.zn(t),ne.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ne.waitFor(l).next(()=>a)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this.Ur.yr(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this.Ur.Sr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ur.vr(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Rh(0),this.zr=!1,this.zr=!0,this.jr=new xk,this.referenceDelegate=e(this),this.Hr=new Ok(this),this.indexManager=new pk,this.remoteDocumentCache=function(a){return new Ck(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new hk(t),this.Yr=new Sk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ak,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new Rk(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){ve("MemoryPersistence","Starting transaction:",e);const a=new Dk(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return ne.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class Dk extends iN{constructor(e){super(),this.currentSequenceNumber=e}}class Vg{constructor(e){this.persistence=e,this.ti=new Pg,this.ni=null}static ri(e){return new Vg(e)}get ii(){if(this.ni)return this.ni;throw Ne()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ne.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,i=>{const a=Re.fromPath(i);return this.si(e,a).next(l=>{l||t.removeEntry(a,Le.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ne.or([()=>ne.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class oh{constructor(e,t){this.persistence=e,this.oi=new Va(i=>oN(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=bk(this,t)}static ri(e,t){return new oh(e,t)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ne.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?ne.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Le.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mf(e.data.value)),t}ar(e,t,i){return ne.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return ne.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=a}static Yi(e,t){let i=Xe(),a=Xe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Lg(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _C()?8:sN(mn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new Nk;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,i,a){return i.documentReadCount<this.es?(No()<=Ye.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(No()<=Ye.DEBUG&&ve("QueryEngine","Query:",ko(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(No()<=Ye.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(t))):ne.resolve())}rs(e,t){if(Ob(t))return ne.resolve(null);let i=jr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Um(t,null,"F"),i=jr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Xe(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.cs(t,d);return this.ls(t,g,c,p.readTime)?this.rs(e,Um(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,i,a){return Ob(t)||a.isEqual(Le.min())?ne.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,a)?ne.resolve(null):(No()<=Ye.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ko(t)),this.hs(e,c,t,eN(a,xu)).next(d=>d))})}cs(e,t){let i=new $t(B1(e));return t.forEach((a,l)=>{Nh(e,l)&&(i=i.add(l))}),i}ls(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,i){return No()<=Ye.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",ko(t)),this.ns.getDocumentsMatchingQuery(e,t,Os.min(),i)}hs(e,t,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="LocalStore",Pk=3e8;class Vk{constructor(e,t,i,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new Tt(He),this.Is=new Va(l=>Rg(l),Cg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wk(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Lk(n,e,t,i){return new Vk(n,e,t,i)}async function fw(n,e){const t=Ue(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=Xe();for(const g of a){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:d}))})})}function Mk(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const E=g.batch,T=E.keys();let R=ne.resolve();return T.forEach(O=>{R=R.next(()=>v.getEntry(p,O)).next(M=>{const k=g.docVersions.get(O);lt(k!==null),M.version.compareTo(k)<0&&(E.applyToRemoteDocument(M,g),M.isValidDocument()&&(M.setReadTime(g.commitVersion),v.addEntry(M)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Xe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function hw(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Uk(n,e){const t=Ue(n),i=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const d=[];e.targetChanges.forEach((v,E)=>{const T=a.get(E);if(!T)return;d.push(t.Hr.removeMatchingKeys(l,v.removedDocuments,E).next(()=>t.Hr.addMatchingKeys(l,v.addedDocuments,E)));let R=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(un.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),a=a.insert(E,R),function(M,k,$){return M.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=Pk?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(T,R,v)&&d.push(t.Hr.updateTargetData(l,R))});let p=Oi(),g=Xe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(jk(l,c,e.documentUpdates).next(v=>{p=v.Vs,g=v.fs})),!i.isEqual(Le.min())){const v=t.Hr.getLastRemoteSnapshotVersion(l).next(E=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return ne.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Ts=a,l))}function jk(n,e,t){let i=Xe(),a=Xe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Oi();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Le.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ve(Mg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function zk(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Sg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Bk(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Hr.getTargetData(i,e).next(l=>l?(a=l,ne.resolve(a)):t.Hr.allocateTargetId(i).next(c=>(a=new Es(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Hm(n,e,t){const i=Ue(n),a=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!nl(c))throw c;ve(Mg,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function Hb(n,e,t){const i=Ue(n);let a=Le.min(),l=Xe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,v){const E=Ue(p),T=E.Is.get(v);return T!==void 0?ne.resolve(E.Ts.get(T)):E.Hr.getTargetData(g,v)}(i,c,jr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?a:Le.min(),t?l:Xe())).next(d=>(Fk(i,RN(e),d),{documents:d,gs:l})))}function Fk(n,e,t){let i=n.Es.get(e)||Le.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class qb{constructor(){this.activeTargetIds=kN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hk{constructor(){this.ho=new qb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new qb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="ConnectivityMonitor";class Gb{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ve($b,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ve($b,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf=null;function qm(){return wf===null?wf=function(){return 268435456+Math.round(2147483648*Math.random())}():wf++,"0x"+wf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="RestConnection",$k={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gk{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===th?`project_id=${i}`:`project_id=${i}&database_id=${a}`}So(e,t,i,a,l){const c=qm(),d=this.bo(e,t.toUriEncodedString());ve(um,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(e,d,p,i).then(g=>(ve(um,`Received RPC '${e}' ${c}: `,g),g),g=>{throw Fo(um,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",i),g})}Co(e,t,i,a,l,c){return this.So(e,t,i,a,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}bo(e,t){const i=$k[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class Qk extends Gk{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,a){const l=qm();return new Promise((c,d)=>{const p=new g1;p.setWithCredentials(!0),p.listenOnce(y1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Lf.NO_ERROR:const v=p.getResponseJson();ve(hn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Lf.TIMEOUT:ve(hn,`RPC '${e}' ${l} timed out`),d(new Ae(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Lf.HTTP_ERROR:const E=p.getStatus();if(ve(hn,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const R=T==null?void 0:T.error;if(R&&R.status&&R.message){const O=function(k){const $=k.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf($)>=0?$:oe.UNKNOWN}(R.status);d(new Ae(O,R.message))}else d(new Ae(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Ae(oe.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{ve(hn,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(a);ve(hn,`RPC '${e}' ${l} sending request:`,a),p.send(t,"POST",g,i,15)})}Wo(e,t,i){const a=qm(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=b1(),d=_1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");ve(hn,`Creating RPC '${e}' stream ${a}: ${v}`,p);const E=c.createWebChannel(v,p);let T=!1,R=!1;const O=new Kk({Fo:k=>{R?ve(hn,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(T||(ve(hn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),T=!0),ve(hn,`RPC '${e}' stream ${a} sending:`,k),E.send(k))},Mo:()=>E.close()}),M=(k,$,B)=>{k.listen($,G=>{try{B(G)}catch(re){setTimeout(()=>{throw re},0)}})};return M(E,hu.EventType.OPEN,()=>{R||(ve(hn,`RPC '${e}' stream ${a} transport opened.`),O.Qo())}),M(E,hu.EventType.CLOSE,()=>{R||(R=!0,ve(hn,`RPC '${e}' stream ${a} transport closed`),O.Uo())}),M(E,hu.EventType.ERROR,k=>{R||(R=!0,Fo(hn,`RPC '${e}' stream ${a} transport errored:`,k),O.Uo(new Ae(oe.UNAVAILABLE,"The operation could not be completed")))}),M(E,hu.EventType.MESSAGE,k=>{var $;if(!R){const B=k.data[0];lt(!!B);const G=B,re=(G==null?void 0:G.error)||(($=G[0])===null||$===void 0?void 0:$.error);if(re){ve(hn,`RPC '${e}' stream ${a} received error:`,re);const ie=re.status;let de=function(A){const C=Pt[A];if(C!==void 0)return J1(C)}(ie),D=re.message;de===void 0&&(de=oe.INTERNAL,D="Unknown error status: "+ie+" with message "+re.message),R=!0,O.Uo(new Ae(de,D)),E.close()}else ve(hn,`RPC '${e}' stream ${a} received:`,B),O.Ko(B)}}),M(d,v1.STAT_EVENT,k=>{k.stat===Nm.PROXY?ve(hn,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===Nm.NOPROXY&&ve(hn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(n){return new ZN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-i);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="PersistentStream";class pw{constructor(e,t,i,a,l,c,d,p){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new dw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Ii(t.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===t&&this.V_(i,a)},i=>{e(()=>{const a=new Ae(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ve(Kb,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ve(Kb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yk extends pw{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=tk(this.serializer,e),i=function(l){if(!("targetChange"in l))return Le.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Le.min():c.readTime?Br(c.readTime):Le.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Fm(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=Mm(p)?{documents:ik(l,p)}:{query:sk(l,p).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=nw(l,c.resumeToken);const g=jm(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Le.min())>0){d.readTime=ah(l,c.snapshotVersion.toTimestamp());const g=jm(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=ok(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Fm(this.serializer),t.removeTarget=e,this.I_(t)}}class Xk extends pw{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return lt(!!e.streamToken),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=rk(e.writeResults,e.commitTime),i=Br(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Fm(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>nk(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{}class Zk extends Wk{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Ae(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,zm(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(oe.UNKNOWN,l.toString())})}Co(e,t,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,zm(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ae(oe.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Jk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ii(t),this.N_=!1):ve("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class e4{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{La(this)&&(ve(Ia,"Restarting streams for network reachability change."),await async function(p){const g=Ue(p);g.W_.add(4),await Yu(g),g.j_.set("Unknown"),g.W_.delete(4),await Mh(g)}(this))})}),this.j_=new Jk(i,a)}}async function Mh(n){if(La(n))for(const e of n.G_)await e(!0)}async function Yu(n){for(const e of n.G_)await e(!1)}function mw(n,e){const t=Ue(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Bg(t)?zg(t):rl(t).c_()&&jg(t,e))}function Ug(n,e){const t=Ue(n),i=rl(t);t.K_.delete(e),i.c_()&&gw(t,e),t.K_.size===0&&(i.c_()?i.P_():La(t)&&t.j_.set("Unknown"))}function jg(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}rl(n).y_(e)}function gw(n,e){n.H_.Ne(e),rl(n).w_(e)}function zg(n){n.H_=new QN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),rl(n).start(),n.j_.B_()}function Bg(n){return La(n)&&!rl(n).u_()&&n.K_.size>0}function La(n){return Ue(n).W_.size===0}function yw(n){n.H_=void 0}async function t4(n){n.j_.set("Online")}async function n4(n){n.K_.forEach((e,t)=>{jg(n,e)})}async function r4(n,e){yw(n),Bg(n)?(n.j_.q_(e),zg(n)):n.j_.set("Unknown")}async function i4(n,e,t){if(n.j_.set("Online"),e instanceof tw&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.K_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.K_.delete(d),a.H_.removeTarget(d))}(n,e)}catch(i){ve(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await lh(n,i)}else if(e instanceof zf?n.H_.We(e):e instanceof ew?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Le.min()))try{const i=await hw(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.K_.get(g);v&&l.K_.set(g,v.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,g)=>{const v=l.K_.get(p);if(!v)return;l.K_.set(p,v.withResumeToken(un.EMPTY_BYTE_STRING,v.snapshotVersion)),gw(l,p);const E=new Es(v.target,p,g,v.sequenceNumber);jg(l,E)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ve(Ia,"Failed to raise snapshot:",i),await lh(n,i)}}async function lh(n,e,t){if(!nl(e))throw e;n.W_.add(1),await Yu(n),n.j_.set("Offline"),t||(t=()=>hw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ve(Ia,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Mh(n)})}function vw(n,e){return e().catch(t=>lh(n,t,e))}async function Uh(n){const e=Ue(n),t=Ps(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:Sg;for(;s4(e);)try{const a=await zk(e.localStore,i);if(a===null){e.U_.length===0&&t.P_();break}i=a.batchId,a4(e,a)}catch(a){await lh(e,a)}_w(e)&&bw(e)}function s4(n){return La(n)&&n.U_.length<10}function a4(n,e){n.U_.push(e);const t=Ps(n);t.c_()&&t.S_&&t.b_(e.mutations)}function _w(n){return La(n)&&!Ps(n).u_()&&n.U_.length>0}function bw(n){Ps(n).start()}async function o4(n){Ps(n).C_()}async function l4(n){const e=Ps(n);for(const t of n.U_)e.b_(t.mutations)}async function u4(n,e,t){const i=n.U_.shift(),a=Dg.from(i,e,t);await vw(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Uh(n)}async function c4(n,e){e&&Ps(n).S_&&await async function(i,a){if(function(c){return GN(c)&&c!==oe.ABORTED}(a.code)){const l=i.U_.shift();Ps(i).h_(),await vw(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Uh(i)}}(n,e),_w(n)&&bw(n)}async function Qb(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),ve(Ia,"RemoteStore received new credentials");const i=La(t);t.W_.add(3),await Yu(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Mh(t)}async function f4(n,e){const t=Ue(n);e?(t.W_.delete(2),await Mh(t)):e||(t.W_.add(2),await Yu(t),t.j_.set("Unknown"))}function rl(n){return n.J_||(n.J_=function(t,i,a){const l=Ue(t);return l.M_(),new Yk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:t4.bind(null,n),No:n4.bind(null,n),Lo:r4.bind(null,n),p_:i4.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Bg(n)?zg(n):n.j_.set("Unknown")):(await n.J_.stop(),yw(n))})),n.J_}function Ps(n){return n.Y_||(n.Y_=function(t,i,a){const l=Ue(t);return l.M_(),new Xk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:o4.bind(null,n),Lo:c4.bind(null,n),D_:l4.bind(null,n),v_:u4.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Uh(n)):(await n.Y_.stop(),n.U_.length>0&&(ve(Ia,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Fg(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hg(n,e){if(Ii("AsyncQueue",`${e}: ${n}`),nl(n))return new Ae(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{static emptySet(e){return new zo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Re.comparator(t.key,i.key):(t,i)=>Re.comparator(t.key,i.key),this.keyedMap=du(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new zo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.Z_=new Tt(Re.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ne():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Ko{constructor(e,t,i,a,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Ko(e,t,zo.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class d4{constructor(){this.queries=Xb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const a=Ue(t),l=a.queries;a.queries=Xb(),l.forEach((c,d)=>{for(const p of d.ta)p.onError(i)})})(this,new Ae(oe.ABORTED,"Firestore shutting down"))}}function Xb(){return new Va(n=>z1(n),Dh)}async function p4(n,e){const t=Ue(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new h4,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Hg(c,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&qg(t)}async function m4(n,e){const t=Ue(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function g4(n,e){const t=Ue(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(i=!0);c.ea=a}}i&&qg(t)}function y4(n,e,t){const i=Ue(n),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(t);i.queries.delete(e)}function qg(n){n.ia.forEach(e=>{e.next()})}var $m,Wb;(Wb=$m||($m={}))._a="default",Wb.Cache="cache";class v4{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Ko(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==$m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this.key=e}}class Tw{constructor(e){this.key=e}}class _4{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Xe(),this.mutatedKeys=Xe(),this.ya=B1(e),this.wa=new zo(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new Yb,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,E)=>{const T=a.get(v),R=Nh(this.query,E)?E:null,O=!!T&&this.mutatedKeys.has(T.key),M=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let k=!1;T&&R?T.data.isEqual(R.data)?O!==M&&(i.track({type:3,doc:R}),k=!0):this.va(T,R)||(i.track({type:2,doc:R}),k=!0,(p&&this.ya(R,p)>0||g&&this.ya(R,g)<0)&&(d=!0)):!T&&R?(i.track({type:0,doc:R}),k=!0):T&&!R&&(i.track({type:1,doc:T}),k=!0,(p||g)&&(d=!0)),k&&(R?(c=c.add(R),l=M?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{wa:c,Da:i,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((v,E)=>function(R,O){const M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return M(R)-M(O)}(v.type,E.type)||this.ya(v.doc,E.doc)),this.Ca(i),a=a!=null&&a;const d=t&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,g=p!==this.ga;return this.ga=p,c.length!==0||g?{snapshot:new Ko(this.query,e.wa,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Yb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Xe(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new Tw(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new Ew(i))}),t}Oa(e){this.fa=e.gs,this.pa=Xe();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Ko.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const $g="SyncEngine";class b4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class E4{constructor(e){this.key=e,this.Ba=!1}}class T4{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Va(d=>z1(d),Dh),this.qa=new Map,this.Qa=new Set,this.$a=new Tt(Re.comparator),this.Ua=new Map,this.Ka=new Pg,this.Wa={},this.Ga=new Map,this.za=Go.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function w4(n,e,t=!0){const i=Cw(n);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await ww(i,e,t,!0),a}async function S4(n,e){const t=Cw(n);await ww(t,e,!0,!1)}async function ww(n,e,t,i){const a=await Bk(n.localStore,jr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await A4(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&mw(n.remoteStore,a),d}async function A4(n,e,t,i,a){n.Ha=(E,T,R)=>async function(M,k,$,B){let G=k.view.ba($);G.ls&&(G=await Hb(M.localStore,k.query,!1).then(({documents:D})=>k.view.ba(D,G)));const re=B&&B.targetChanges.get(k.targetId),ie=B&&B.targetMismatches.get(k.targetId)!=null,de=k.view.applyChanges(G,M.isPrimaryClient,re,ie);return Jb(M,k.targetId,de.Ma),de.snapshot}(n,E,T,R);const l=await Hb(n.localStore,e,!0),c=new _4(e,l.gs),d=c.ba(l.documents),p=Qu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,p);Jb(n,t,g.Ma);const v=new b4(e,t,c);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),g.snapshot}async function x4(n,e,t){const i=Ue(n),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!Dh(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Hm(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Ug(i.remoteStore,a.targetId),Gm(i,a.targetId)}).catch(tl)):(Gm(i,a.targetId),await Hm(i.localStore,a.targetId,!0))}async function R4(n,e){const t=Ue(n),i=t.ka.get(e),a=t.qa.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ug(t.remoteStore,i.targetId))}async function C4(n,e,t){const i=V4(n);try{const a=await function(c,d){const p=Ue(c),g=qt.now(),v=d.reduce((R,O)=>R.add(O.key),Xe());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let O=Oi(),M=Xe();return p.ds.getEntries(R,v).next(k=>{O=k,O.forEach(($,B)=>{B.isValidDocument()||(M=M.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,O)).next(k=>{E=k;const $=[];for(const B of d){const G=BN(B,E.get(B.key).overlayedDocument);G!=null&&$.push(new Us(B.key,G,k1(G.value.mapValue),zr.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,$,d)}).next(k=>{T=k;const $=k.applyToLocalDocumentSet(E,M);return p.documentOverlayCache.saveOverlays(R,k.batchId,$)})}).then(()=>({batchId:T.batchId,changes:H1(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let g=c.Wa[c.currentUser.toKey()];g||(g=new Tt(He)),g=g.insert(d,p),c.Wa[c.currentUser.toKey()]=g}(i,a.batchId,t),await Xu(i,a.changes),await Uh(i.remoteStore)}catch(a){const l=Hg(a,"Failed to persist write");t.reject(l)}}async function Sw(n,e){const t=Ue(n);try{const i=await Uk(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Ua.get(l);c&&(lt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?lt(c.Ba):a.removedDocuments.size>0&&(lt(c.Ba),c.Ba=!1))}),await Xu(t,i,e)}catch(i){await tl(i)}}function Zb(n,e,t){const i=Ue(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=Ue(c);p.onlineState=d;let g=!1;p.queries.forEach((v,E)=>{for(const T of E.ta)T.sa(d)&&(g=!0)}),g&&qg(p)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function I4(n,e,t){const i=Ue(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Ua.get(e),l=a&&a.key;if(l){let c=new Tt(Re.comparator);c=c.insert(l,pn.newNoDocument(l,Le.min()));const d=Xe().add(l),p=new Vh(Le.min(),new Map,new Tt(He),c,d);await Sw(i,p),i.$a=i.$a.remove(l),i.Ua.delete(e),Gg(i)}else await Hm(i.localStore,e,!1).then(()=>Gm(i,e,t)).catch(tl)}async function O4(n,e){const t=Ue(n),i=e.batch.batchId;try{const a=await Mk(t.localStore,e);xw(t,i,null),Aw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Xu(t,a)}catch(a){await tl(a)}}async function D4(n,e,t){const i=Ue(n);try{const a=await function(c,d){const p=Ue(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(E=>(lt(E!==null),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(i.localStore,e);xw(i,e,t),Aw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Xu(i,a)}catch(a){await tl(a)}}function Aw(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function xw(n,e,t){const i=Ue(n);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function Gm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(i=>{n.Ka.containsKey(i)||Rw(n,i)})}function Rw(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Ug(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),Gg(n))}function Jb(n,e,t){for(const i of t)i instanceof Ew?(n.Ka.addReference(i.key,e),N4(n,i)):i instanceof Tw?(ve($g,"Document no longer in limbo: "+i.key),n.Ka.removeReference(i.key,e),n.Ka.containsKey(i.key)||Rw(n,i.key)):Ne()}function N4(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(ve($g,"New document in limbo: "+t),n.Qa.add(i),Gg(n))}function Gg(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Re(gt.fromString(e)),i=n.za.next();n.Ua.set(i,new E4(t)),n.$a=n.$a.insert(t,i),mw(n.remoteStore,new Es(jr(Ig(t.path)),i,"TargetPurposeLimboResolution",Rh.ae))}}async function Xu(n,e,t){const i=Ue(n),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,p)=>{c.push(i.Ha(p,e,t).then(g=>{var v;if((g||t)&&i.isPrimaryClient){const E=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){a.push(g);const E=Lg.Yi(p.targetId,g);l.push(E)}}))}),await Promise.all(c),i.La.p_(a),await async function(p,g){const v=Ue(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ne.forEach(g,T=>ne.forEach(T.Hi,R=>v.persistence.referenceDelegate.addReference(E,T.targetId,R)).next(()=>ne.forEach(T.Ji,R=>v.persistence.referenceDelegate.removeReference(E,T.targetId,R)))))}catch(E){if(!nl(E))throw E;ve(Mg,"Failed to update sequence numbers: "+E)}for(const E of g){const T=E.targetId;if(!E.fromCache){const R=v.Ts.get(T),O=R.snapshotVersion,M=R.withLastLimboFreeSnapshotVersion(O);v.Ts=v.Ts.insert(T,M)}}}(i.localStore,l))}async function k4(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){ve($g,"User change. New user:",e.toKey());const i=await fw(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new Ae(oe.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Xu(t,i.Rs)}}function P4(n,e){const t=Ue(n),i=t.Ua.get(e);if(i&&i.Ba)return Xe().add(i.key);{let a=Xe();const l=t.qa.get(e);if(!l)return a;for(const c of l){const d=t.ka.get(c);a=a.unionWith(d.view.Sa)}return a}}function Cw(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I4.bind(null,e),e.La.p_=g4.bind(null,e.eventManager),e.La.Ja=y4.bind(null,e.eventManager),e}function V4(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D4.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Lk(this.persistence,new kk,e.initialUser,this.serializer)}Xa(e){return new cw(Vg.ri,this.serializer)}Za(e){return new Hk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class L4 extends uh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){lt(this.persistence.referenceDelegate instanceof oh);const i=this.persistence.referenceDelegate.garbageCollector;return new vk(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new cw(i=>oh.ri(i,t),this.serializer)}}class Km{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Zb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=k4.bind(null,this.syncEngine),await f4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new d4}()}createDatastore(e){const t=Lh(e.databaseInfo.databaseId),i=function(l){return new Qk(l)}(e.databaseInfo);return function(l,c,d,p){return new Zk(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new e4(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Zb(this.syncEngine,t,0),function(){return Gb.D()?new Gb:new qk}())}createSyncEngine(e,t){return function(a,l,c,d,p,g,v){const E=new T4(a,l,c,d,p,g);return v&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ue(a);ve(Ia,"RemoteStore shutting down."),l.W_.add(5),await Yu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Km.provider={build:()=>new Km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="FirestoreClient";class U4{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=dn.UNAUTHENTICATED,this.clientId=w1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ve(Vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ve(Vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Hg(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function fm(n,e){n.asyncQueue.verifyOperationInProgress(),ve(Vs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await fw(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function eE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await j4(n);ve(Vs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Qb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Qb(e.remoteStore,a)),n._onlineComponents=e}async function j4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve(Vs,"Using user provided OfflineComponentProvider");try{await fm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Fo("Error using user provided cache. Falling back to memory cache: "+t),await fm(n,new uh)}}else ve(Vs,"Using default OfflineComponentProvider"),await fm(n,new L4(void 0));return n._offlineComponents}async function Iw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve(Vs,"Using user provided OnlineComponentProvider"),await eE(n,n._uninitializedComponentsProvider._online)):(ve(Vs,"Using default OnlineComponentProvider"),await eE(n,new Km))),n._onlineComponents}function z4(n){return Iw(n).then(e=>e.syncEngine)}async function B4(n){const e=await Iw(n),t=e.eventManager;return t.onListen=w4.bind(null,e.syncEngine),t.onUnlisten=x4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=S4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=R4.bind(null,e.syncEngine),t}function F4(n,e,t={}){const i=new Rs;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const v=new M4({next:T=>{v.su(),c.enqueueAndForget(()=>m4(l,E));const R=T.docs.has(d);!R&&T.fromCache?g.reject(new Ae(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&p&&p.source==="server"?g.reject(new Ae(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new v4(Ig(d.path),v,{includeMetadataChanges:!0,Ta:!0});return p4(l,E)}(await B4(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(n,e,t){if(!t)throw new Ae(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function H4(n,e,t,i){if(e===!0&&i===!0)throw new Ae(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nE(n){if(!Re.isDocumentKey(n))throw new Ae(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rE(n){if(Re.isDocumentKey(n))throw new Ae(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Kg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne()}function Oa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kg(n);throw new Ae(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="firestore.googleapis.com",iE=!0;class sE{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nw,this.ssl=iE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:iE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gk)throw new Ae(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ow((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ae(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ae(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ae(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new $D;switch(i.type){case"firstParty":return new YD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ae(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=tE.get(t);i&&(ve("ComponentProvider","Removing Datastore"),tE.delete(t),i.terminate())}(this),Promise.resolve()}}function q4(n,e,t,i={}){var a;const l=(n=Oa(n,jh))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==Nw&&l.host!==d&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:i});if(!Sa(p,c)&&(n._setSettings(p),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=dn.MOCK_USER;else{g=hC(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new Ae(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new dn(E)}n._authCredentials=new GD(new E1(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Qg(this.firestore,e,this._query)}}class Dn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class Cs extends Qg{constructor(e,t,i){super(e,t,Ig(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new Re(e))}withConverter(e){return new Cs(this.firestore,e,this._path)}}function $4(n,e,...t){if(n=An(n),Dw("collection","path",e),n instanceof jh){const i=gt.fromString(e,...t);return rE(i),new Cs(n,null,i)}{if(!(n instanceof Dn||n instanceof Cs))throw new Ae(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(gt.fromString(e,...t));return rE(i),new Cs(n.firestore,null,i)}}function js(n,e,...t){if(n=An(n),arguments.length===1&&(e=w1.newId()),Dw("doc","path",e),n instanceof jh){const i=gt.fromString(e,...t);return nE(i),new Dn(n,null,new Re(i))}{if(!(n instanceof Dn||n instanceof Cs))throw new Ae(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(gt.fromString(e,...t));return nE(i),new Dn(n.firestore,n instanceof Cs?n.converter:null,new Re(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="AsyncQueue";class oE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new dw(this,"async_queue_retry"),this.Su=()=>{const i=cm();i&&ve(aE,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=cm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=cm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Rs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!nl(e))throw e;ve(aE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Ii("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Fg.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Ne()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class zh extends jh{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new oE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oE(e),this._firestoreClient=void 0,await e}}}function G4(n,e){const t=typeof n=="object"?n:DT(),i=typeof n=="string"?n:th,a=mg(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=cC("firestore");l&&q4(a,...l)}return a}function kw(n){if(n._terminated)throw new Ae(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||K4(n),n._firestoreClient}function K4(n){var e,t,i;const a=n._freezeSettings(),l=function(d,p,g,v){return new cN(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Ow(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new U4(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qo(un.fromBase64String(e))}catch(t){throw new Ae(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qo(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ae(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=/^__.*__$/;class Y4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ku(e,this.data,t,this.fieldTransforms)}}class Pw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Us(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Vw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class Wg{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Wg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Uu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ch(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Vw(this.Lu)&&Q4.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class X4{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Lh(e)}ju(e,t,i,a=!1){return new Wg({Lu:e,methodName:t,zu:i,path:ln.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lw(n){const e=n._freezeSettings(),t=Lh(n._databaseId);return new X4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function W4(n,e,t,i,a,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,a);Jg("Data must be an object, but it was:",c,i);const d=Mw(i,c);let p,g;if(l.merge)p=new jn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const T=Qm(e,E,t);if(!c.contains(T))throw new Ae(oe.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);jw(v,T)||v.push(T)}p=new jn(v),g=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=c.fieldTransforms;return new Y4(new On(d),p,g)}class Hh extends Fh{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}class Zg extends Fh{_toFieldTransform(e){return new MN(e.path,new Ou)}isEqual(e){return e instanceof Zg}}function Z4(n,e,t,i){const a=n.ju(1,e,t);Jg("Data must be an object, but it was:",a,i);const l=[],c=On.empty();Ms(i,(p,g)=>{const v=ey(e,p,t);g=An(g);const E=a.Uu(v);if(g instanceof Hh)l.push(v);else{const T=qh(g,E);T!=null&&(l.push(v),c.set(v,T))}});const d=new jn(l);return new Pw(c,d,a.fieldTransforms)}function J4(n,e,t,i,a,l){const c=n.ju(1,e,t),d=[Qm(e,i,t)],p=[a];if(l.length%2!=0)throw new Ae(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(Qm(e,l[T])),p.push(l[T+1]);const g=[],v=On.empty();for(let T=d.length-1;T>=0;--T)if(!jw(g,d[T])){const R=d[T];let O=p[T];O=An(O);const M=c.Uu(R);if(O instanceof Hh)g.push(R);else{const k=qh(O,M);k!=null&&(g.push(R),v.set(R,k))}}const E=new jn(g);return new Pw(v,E,c.fieldTransforms)}function qh(n,e){if(Uw(n=An(n)))return Jg("Unsupported field value:",e,n),Mw(n,e);if(n instanceof Fh)return function(i,a){if(!Vw(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let p=qh(d,a.Ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=An(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return PN(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=qt.fromDate(i);return{timestampValue:ah(a.serializer,l)}}if(i instanceof qt){const l=new qt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ah(a.serializer,l)}}if(i instanceof Yg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Qo)return{bytesValue:nw(a.serializer,i._byteString)};if(i instanceof Dn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:kg(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Xg)return function(c,d){return{mapValue:{fields:{[D1]:{stringValue:N1},[nh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Og(d.serializer,g)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${Kg(i)}`)}(n,e)}function Mw(n,e){const t={};return A1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(n,(i,a)=>{const l=qh(a,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function Uw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qt||n instanceof Yg||n instanceof Qo||n instanceof Dn||n instanceof Fh||n instanceof Xg)}function Jg(n,e,t){if(!Uw(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=Kg(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function Qm(n,e,t){if((e=An(e))instanceof Bh)return e._internalPath;if(typeof e=="string")return ey(n,e);throw ch("Field path arguments must be of type string or ",n,!1,void 0,t)}const eP=new RegExp("[~\\*/\\[\\]]");function ey(n,e,t){if(e.search(eP)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bh(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ch(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new Ae(oe.INVALID_ARGUMENT,d+n+p)}function jw(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tP extends zw{data(){return super.data()}}function Bw(n,e){return typeof e=="string"?ey(n,e):e instanceof Bh?e._internalPath:e._delegate._internalPath}class nP{convertValue(e,t="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ms(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[nh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>It(c.doubleValue));return new Xg(l)}convertGeoPoint(e){return new Yg(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ih(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ru(e));default:return null}}convertTimestamp(e){const t=Ds(e);return new qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=gt.fromString(e);lt(lw(i));const a=new Cu(i.get(1),i.get(3)),l=new Re(i.popFirst(5));return a.isEqual(t)||Ii(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fw extends zw{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Bw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class sP extends Fw{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(n){n=Oa(n,Dn);const e=Oa(n.firestore,zh);return F4(kw(e),n._key).then(t=>lP(e,n,t))}class aP extends nP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,t)}}function Gh(n,e,t){n=Oa(n,Dn);const i=Oa(n.firestore,zh),a=rP(n.converter,e);return Hw(i,[W4(Lw(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,zr.none())])}function oP(n,e,t,...i){n=Oa(n,Dn);const a=Oa(n.firestore,zh),l=Lw(a);let c;return c=typeof(e=An(e))=="string"||e instanceof Bh?J4(l,"updateDoc",n._key,e,t,i):Z4(l,"updateDoc",n._key,e),Hw(a,[c.toMutation(n._key,zr.exists(!0))])}function Hw(n,e){return function(i,a){const l=new Rs;return i.asyncQueue.enqueueAndForget(async()=>C4(await z4(i),a,l)),l.promise}(kw(n),e)}function lP(n,e,t){const i=t.docs.get(e._key),a=new aP(n);return new Fw(n,a,e._key,i,new iP(t.hasPendingWrites,t.fromCache),e.converter)}function uP(){return new Zg("serverTimestamp")}(function(e,t=!0){(function(a){el=a})(Zo),Bo(new Aa("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new zh(new KD(i.getProvider("auth-internal")),new XD(c,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ae(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(g.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Ss(db,pb,e),Ss(db,pb,"esm2017")})();var cP="firebase",fP="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ss(cP,fP,"app");const hP={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0};console.log("API Key:",void 0);const qw=OT(hP),$w=HD(qw),zs=G4(qw),dP=async n=>{const e=[{id:"brew_master",icon:"icon-beans",completed:!1,createdAt:Date.now(),updatedAt:Date.now()},{id:"coffee_ambassador",icon:"icon-world",completed:!1,createdAt:Date.now(),updatedAt:Date.now()},{id:"flavor_alchemist",icon:"icon-cup",completed:!1,createdAt:Date.now(),updatedAt:Date.now()}],t=$4(zs,"achievements");await Gh(js(t,n),{achievements:e})},pP=async n=>{if(console.log(n),!!n)try{const e=js(zs,"achievements",n),t=await $h(e);return t.exists()?t.data().achievements:[]}catch(e){throw console.error("Error fetching user achievements:",e),e}},mP=async(n,e)=>{console.log(e);const t=js(zs,"achievements",n),i=await $h(t);if(!i.exists())return;const l=i.data().achievements.map(c=>c.id===e?{...c,completed:!0,updatedAt:Date.now()}:c);await oP(t,{achievements:l})},gP=async n=>{const e=[{title:"Brewing Basics",tasks:[{number:1,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:2,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:3,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:4,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:5,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:6,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:7,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:8,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:9,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:10,createdAt:Date.now(),updatedAt:Date.now(),completed:!1}]},{title:"Global Coffee Tour",tasks:[{number:11,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:12,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:13,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:14,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:15,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:16,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:17,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:18,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:19,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:20,createdAt:Date.now(),updatedAt:Date.now(),completed:!1}]},{title:"Creativity & Skills",tasks:[{number:21,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:22,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:23,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:24,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:25,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:26,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:27,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:28,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:29,createdAt:Date.now(),updatedAt:Date.now(),completed:!1},{number:30,createdAt:Date.now(),updatedAt:Date.now(),completed:!1}]}];await Gh(js(zs,"tasks",n),{tasksList:e})},yP=async n=>{if(console.log(n),!!n)try{const e=js(zs,"tasks",n),t=await $h(e);return t.exists()?t.data().tasksList:[]}catch(e){throw console.error("Error fetching user tasks:",e),e}},vP=async(n,e)=>{const t=js(zs,"tasks",n);await Gh(t,{tasksList:e})},_P=(n,e)=>({uid:e,email:n.email,firstName:n.firstName,lastName:n.lastName,language:n.language,completedDays:[]}),bP=async n=>{try{const t=(await IO($w,n.email,n.password)).user,i=_P(n,t.uid);await Gh(js(zs,"users",t.uid),{...i,createdAt:uP()}),await dP(t.uid),await gP(t.uid),Di.getState().setUser({...i}),at.success("You registered successfully!")}catch(e){e instanceof Error?(at.error("Registration error: "+e.message),console.error("Error:",e.message)):(at.error("An unknown error occurred."),console.error("Unknown error:",e))}},EP=()=>{var c,d;const{t:n}=pr(),{register:e,setValue:t,handleSubmit:i,formState:{errors:a}}=vT(),l=p=>{const g=["en","pl"].includes(p.language)?p.language:"en";bP({...p,language:g})};return j.jsx("section",{className:" flex-grow h-full  bg-[url('/src/assets/bg-tablet.jpg')]   desktop:bg-[url('/src/assets/bg-desktop.jpg')] bg-cover bg-center",children:j.jsx("div",{className:" flex flex-col items-center justify-center  px-6 py-6 mx-auto max-w-[520px] desktop:max-w-[620px] desktop:pt-12  ",children:j.jsxs("div",{className:"w-full rounded-lg ",children:[j.jsx("h1",{className:"flex justify-center text-[18px] font-bold text-espresso mb-3 desktop:text-[32px]",children:n("signUpForm.title")}),j.jsxs("form",{className:"flex flex-col gap-1 tablet:gap-2",onSubmit:i(l),children:[j.jsxs("div",{className:"w-full flex flex-col ",children:[j.jsx("label",{htmlFor:"name",className:"text-[12px] font-medium text-espresso desktop:text-[16px] mb-1",children:n("inputs.firstname")}),j.jsx("input",{type:"text",id:"firstname","aria-invalid":a.firstName?"true":"false",className:" w-full px-3 py-2 text-[14px] text-espresso   bg-transparent border-2 border-primary rounded-lg focus:outline-none focus:border-gold hover:border-gold desktop:text-[18px]",...e("firstName",{required:n("validation.firstName.required"),minLength:{value:2,message:n("validation.firstName.minLength")}}),onChange:p=>t("firstName",p.target.value)}),j.jsx("p",{className:"h-4 text-red text-[12px]  desktop:text-[14px]",children:(c=a.firstName)==null?void 0:c.message})]}),j.jsxs("div",{className:"w-full flex flex-col",children:[j.jsx("label",{htmlFor:"name",className:"text-[12px] font-medium text-espresso desktop:text-[16px]",children:n("inputs.lastname")}),j.jsx("input",{type:"text",id:"lastname","aria-invalid":a.lastName?"true":"false",className:"w-full px-3 py-2 text-[14px] text-espresso   bg-transparent border-2 border-primary rounded-lg focus:outline-none focus:border-gold hover:border-gold desktop:text-[18px]",...e("lastName",{required:n("validation.lastName.required"),minLength:{value:2,message:n("validation.lastName.minLength")}}),onChange:p=>t("lastName",p.target.value)}),j.jsx("p",{className:"h-4 text-red text-[12px] desktop:text-[14px]",children:(d=a.lastName)==null?void 0:d.message})]}),j.jsx(ET,{register:e,setValue:t,name:"email",validation:{required:n("validation.email")},error:a.email}),j.jsx(_T,{register:e,setValue:t,name:"password",validation:{required:n("validation.password.required"),minLength:{value:6,message:n("validation.password.minLength",{length:8})}},error:a.password}),j.jsxs("div",{className:"relative w-full flex flex-col gap-1 ",children:[j.jsx("label",{htmlFor:"language",className:"text-[12px] font-medium text-espresso desktop:text-[16px]",children:n("inputs.language")}),j.jsxs("select",{id:"language",className:"appearance-none w-full px-3 py-2 text-[14px] text-espresso placeholder-latte bg-transparent border-2 border-primary rounded-lg focus:outline-none focus:border-gold hover:border-gold desktop:text-[18px]",...e("language",{required:!0}),children:[j.jsx("option",{value:"en",className:"bg-secondary text-espresso border-none",children:n("inputs.en")}),j.jsx("option",{value:"pl",className:"bg-secondary text-espresso border-none",children:n("inputs.pl")})]}),j.jsx(J2,{className:"absolute right-3 top-[34px] text-espresso pointer-events-none desktop:top-[38px] desktop:w-[24px] desktop:h-[24px]"})]}),j.jsx("button",{type:"submit",className:" mt-5 mb-2 flex justify-center items-center w-full h-8 bg-latte font-medium text-espresso  rounded-lg hover:bg-gold focus:bg-gold  desktop:h-12 desktop:text-[20px]",children:n("signUpForm.registerButton")})]}),j.jsxs("p",{className:"mt-2 flex justify-center text-[12px]  text-espresso desktop:text-[16px]",children:[n("signUpForm.haveAccount"),j.jsx(Ft,{to:"/login",className:"font-medium text-espresso hover:underline hover:decoration-espresso  text-[12px] desktop:text-[16px] ml-1",children:n("signUpForm.loginLink")})]}),j.jsxs("div",{className:"flex items-center w-full mt-2 mb-3",children:[j.jsx("hr",{className:"flex-grow border-t border-gray-300"}),j.jsx("span",{className:" px-2 text-gray-500 text-sm",children:n("signUpForm.alternativeSignUp")}),j.jsx("hr",{className:"flex-grow border-t border-gray-300"})]}),j.jsxs("button",{type:"button",className:" flex  justify-center items-center w-full h-8 bg-latte font-medium text-espresso rounded-lg hover:bg-gold focus:bg-gold desktop:h-12 desktop:text-[20px]",children:[j.jsx("img",{src:bT,alt:"icon facebook",className:"mr-2 w-[24px] h-[24px]   desktop:w-[32px] desktop:h-[32px]"}),n("signUpForm.registerFacebook")]})]})})})},TP=()=>j.jsx(j.Fragment,{children:j.jsx(EP,{})}),wP=()=>{const{t:n}=pr(),{register:e,setValue:t,handleSubmit:i,formState:{errors:a}}=vT(),l=c=>{console.log("Login form Submitted:",c)};return j.jsx("section",{className:" flex-grow h-full  bg-[url('/src/assets/bg-tablet.jpg')]   desktop:bg-[url('/src/assets/bg-desktop.jpg')] bg-cover bg-center",children:j.jsx("div",{className:" flex flex-col items-center justify-center  p-6 pt-6 mx-auto max-w-[520px] desktop:max-w-[620px] desktop:pt-12  ",children:j.jsxs("div",{className:"w-full rounded-lg ",children:[j.jsx("h1",{className:"flex justify-center text-[18px] font-bold text-espresso mb-3 desktop:text-[32px]",children:n("loginForm.title")}),j.jsxs("form",{className:"flex flex-col gap-1 tablet:gap-2 ",onSubmit:i(l),children:[j.jsx(ET,{register:e,setValue:t,name:"email",validation:{required:n("validation.email")},error:a.email}),j.jsx(_T,{register:e,setValue:t,name:"password",validation:{required:n("validation.password.required"),minLength:{value:6,message:n("validation.password.minLength",{length:6})}},error:a.password}),j.jsx("button",{type:"submit",className:" mt-5 mb-2 flex justify-center items-center w-full h-8 bg-latte font-medium text-espresso  rounded-lg hover:bg-gold focus:bg-gold  desktop:h-12 desktop:text-[20px]",children:n("loginForm.loginButton")})]}),j.jsxs("p",{className:"mt-2 flex justify-center text-[12px]  text-espresso desktop:text-[16px]",children:[n("loginForm.noHaveAccount"),j.jsx(Ft,{to:"/login",className:"font-medium text-espresso hover:underline hover:decoration-espresso  text-[12px] desktop:text-[16px] ml-1",children:n("loginForm.registerLink")})]}),j.jsxs("div",{className:"flex items-center w-full mt-2 mb-3",children:[j.jsx("hr",{className:"flex-grow border-t border-gray-300"}),j.jsx("span",{className:" px-2 text-gray-500 text-sm",children:n("loginForm.alternativeLogin")}),j.jsx("hr",{className:"flex-grow border-t border-gray-300"})]}),j.jsxs("button",{type:"button",className:" flex  justify-center items-center w-full h-8 bg-latte font-medium text-espresso rounded-lg hover:bg-gold focus:bg-gold desktop:h-12 desktop:text-[20px]",children:[j.jsx("img",{src:bT,alt:"icon facebook",className:"mr-2 w-[24px] h-[24px]   desktop:w-[32px] desktop:h-[32px]"}),n("loginForm.loginFacebook")]})]})})})},SP=()=>j.jsx(j.Fragment,{children:j.jsx(wP,{})}),AP="/30-day-coffee-challenge/assets/symbol-defs-DtXRp1Yg.svg",Ym=({name:n,size:e,className:t})=>j.jsx("svg",{width:e,height:e,className:t,children:j.jsx("use",{xlinkHref:`${AP}#${n}`})}),Sf=[{id:"brew_master",icon:"icon-beans",completed:!1},{id:"coffee_ambassador",icon:"icon-world",completed:!1},{id:"flavor_alchemist",icon:"icon-cup",completed:!1}],xP=()=>{const{t:n}=pr(),{uid:e}=Di(),[t,i]=H.useState(Sf);return H.useEffect(()=>{(async()=>{if(!e){console.log("Waiting for user ID..."),i(Sf);return}try{const l=await pP(e);i(l||Sf)}catch(l){console.error("Failed to load achievements:",l),i(Sf)}})()},[e]),console.log(t),j.jsx("ul",{className:"grid grid-cols-3 gap-4 mt-4",children:t.map(({id:a,icon:l,completed:c},d)=>j.jsxs("li",{className:"flex flex-col justify-center items-center gap-2",children:[j.jsx(Ym,{name:l,size:100,className:c?"fill-gold":"fill-latte"}),j.jsx("p",{className:`text-center font-bold whitespace-pre-line ${c?"text-gold":"text-latte"}`,children:n(`achievements.${a}`)})]},d))})};function RP(n,e=[]){let t=[];function i(l,c){const d=H.createContext(c),p=t.length;t=[...t,c];const g=E=>{var $;const{scope:T,children:R,...O}=E,M=(($=T==null?void 0:T[n])==null?void 0:$[p])||d,k=H.useMemo(()=>O,Object.values(O));return j.jsx(M.Provider,{value:k,children:R})};g.displayName=l+"Provider";function v(E,T){var M;const R=((M=T==null?void 0:T[n])==null?void 0:M[p])||d,O=H.useContext(R);if(O)return O;if(c!==void 0)return c;throw new Error(`\`${E}\` must be used within \`${l}\``)}return[g,v]}const a=()=>{const l=t.map(c=>H.createContext(c));return function(d){const p=(d==null?void 0:d[n])||l;return H.useMemo(()=>({[`__scope${n}`]:{...d,[n]:p}}),[d,p])}};return a.scopeName=n,[i,CP(a,...e)]}function CP(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=i.reduce((d,{useScope:p,scopeName:g})=>{const E=p(l)[`__scope${g}`];return{...d,...E}},{});return H.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function lE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function IP(...n){return e=>{let t=!1;const i=n.map(a=>{const l=lE(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():lE(n[a],null)}}}}function OP(n){const e=DP(n),t=H.forwardRef((i,a)=>{const{children:l,...c}=i,d=H.Children.toArray(l),p=d.find(kP);if(p){const g=p.props.children,v=d.map(E=>E===p?H.Children.count(g)>1?H.Children.only(null):H.isValidElement(g)?g.props.children:null:E);return j.jsx(e,{...c,ref:a,children:H.isValidElement(g)?H.cloneElement(g,void 0,v):null})}return j.jsx(e,{...c,ref:a,children:l})});return t.displayName=`${n}.Slot`,t}function DP(n){const e=H.forwardRef((t,i)=>{const{children:a,...l}=t;if(H.isValidElement(a)){const c=VP(a),d=PP(l,a.props);return a.type!==H.Fragment&&(d.ref=i?IP(i,c):c),H.cloneElement(a,d)}return H.Children.count(a)>1?H.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var NP=Symbol("radix.slottable");function kP(n){return H.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===NP}function PP(n,e){const t={...e};for(const i in e){const a=n[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?t[i]=(...d)=>{l(...d),a(...d)}:a&&(t[i]=a):i==="style"?t[i]={...a,...l}:i==="className"&&(t[i]=[a,l].filter(Boolean).join(" "))}return{...n,...t}}function VP(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var LP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Gw=LP.reduce((n,e)=>{const t=OP(`Primitive.${e}`),i=H.forwardRef((a,l)=>{const{asChild:c,...d}=a,p=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),j.jsx(p,{...d,ref:l})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{}),ty="Progress",ny=100,[MP,iL]=RP(ty),[UP,jP]=MP(ty),Kw=H.forwardRef((n,e)=>{const{__scopeProgress:t,value:i=null,max:a,getValueLabel:l=zP,...c}=n;(a||a===0)&&!uE(a)&&console.error(BP(`${a}`,"Progress"));const d=uE(a)?a:ny;i!==null&&!cE(i,d)&&console.error(FP(`${i}`,"Progress"));const p=cE(i,d)?i:null,g=fh(p)?l(p,d):void 0;return j.jsx(UP,{scope:t,value:p,max:d,children:j.jsx(Gw.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":fh(p)?p:void 0,"aria-valuetext":g,role:"progressbar","data-state":Xw(p,d),"data-value":p??void 0,"data-max":d,...c,ref:e})})});Kw.displayName=ty;var Qw="ProgressIndicator",Yw=H.forwardRef((n,e)=>{const{__scopeProgress:t,...i}=n,a=jP(Qw,t);return j.jsx(Gw.div,{"data-state":Xw(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...i,ref:e})});Yw.displayName=Qw;function zP(n,e){return`${Math.round(n/e*100)}%`}function Xw(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function fh(n){return typeof n=="number"}function uE(n){return fh(n)&&!isNaN(n)&&n>0}function cE(n,e){return fh(n)&&!isNaN(n)&&n<=e&&n>=0}function BP(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ny}\`.`}function FP(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ny} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var HP=Kw,qP=Yw;const $P=()=>{const{t:n}=pr(),{completedDays:e}=Di(),t=e.length/30*100;return j.jsxs("div",{className:"flex flex-col justify-center items-center gap-1",children:[j.jsx(HP,{value:t,className:"relative h-[16px] w-[260px] overflow-hidden bg-latte rounded-full",style:{transform:"translateZ(0)"},children:j.jsx(qP,{className:"ease-[cubic-bezier(0.65, 0, 0.35, 1)] size-full bg-espresso transition-transform duration-[660ms]",style:{transform:`translateX(-${100-t}%)`}})}),j.jsxs("p",{className:"text-espresso text-[14px]",children:[e.length??0," ",n("progress.completed")]})]})},Af=[{title:"Brewing Basics",tasks:[{number:1,completed:!1},{number:2,completed:!0},{number:3,completed:!1},{number:4,completed:!1},{number:5,completed:!1},{number:6,completed:!1},{number:7,completed:!1},{number:8,completed:!1},{number:9,completed:!1},{number:10,completed:!1}]},{title:"Global Coffee Tour",tasks:[{number:11,completed:!1},{number:12,completed:!1},{number:13,completed:!1},{number:14,completed:!1},{number:15,completed:!1},{number:16,completed:!1},{number:17,completed:!1},{number:18,completed:!1},{number:19,completed:!1},{number:20,completed:!1}]},{title:"Creativity & Skills",tasks:[{number:21,completed:!1},{number:22,completed:!1},{number:23,completed:!1},{number:24,completed:!1},{number:25,completed:!1},{number:26,completed:!1},{number:27,completed:!1},{number:28,completed:!1},{number:29,completed:!1},{number:30,completed:!1}]}];/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Xm=function(n,e){return Xm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},Xm(n,e)};function GP(n,e){Xm(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Wm=function(){return Wm=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Wm.apply(this,arguments)};function KP(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&(t[i[a]]=n[i[a]]);return t}var QP=100,YP=100,fE=50,Zm=50,Jm=50;function hE(n){var e=n.className,t=n.counterClockwise,i=n.dashRatio,a=n.pathRadius,l=n.strokeWidth,c=n.style;return H.createElement("path",{className:e,style:Object.assign({},c,WP({pathRadius:a,dashRatio:i,counterClockwise:t})),d:XP({pathRadius:a,counterClockwise:t}),strokeWidth:l,fillOpacity:0})}function XP(n){var e=n.pathRadius,t=n.counterClockwise,i=e,a=t?1:0;return`
      M `+Zm+","+Jm+`
      m 0,-`+i+`
      a `+i+","+i+" "+a+" 1 1 0,"+2*i+`
      a `+i+","+i+" "+a+" 1 1 0,-"+2*i+`
    `}function WP(n){var e=n.counterClockwise,t=n.dashRatio,i=n.pathRadius,a=Math.PI*2*i,l=(1-t)*a;return{strokeDasharray:a+"px "+a+"px",strokeDashoffset:(e?-l:l)+"px"}}var ZP=function(n){GP(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},e.prototype.getPathRadius=function(){return fE-this.props.strokeWidth/2-this.getBackgroundPadding()},e.prototype.getPathRatio=function(){var t=this.props,i=t.value,a=t.minValue,l=t.maxValue,c=Math.min(Math.max(i,a),l);return(c-a)/(l-a)},e.prototype.render=function(){var t=this.props,i=t.circleRatio,a=t.className,l=t.classes,c=t.counterClockwise,d=t.styles,p=t.strokeWidth,g=t.text,v=this.getPathRadius(),E=this.getPathRatio();return H.createElement("svg",{className:l.root+" "+a,style:d.root,viewBox:"0 0 "+QP+" "+YP,"data-test-id":"CircularProgressbar"},this.props.background?H.createElement("circle",{className:l.background,style:d.background,cx:Zm,cy:Jm,r:fE}):null,H.createElement(hE,{className:l.trail,counterClockwise:c,dashRatio:i,pathRadius:v,strokeWidth:p,style:d.trail}),H.createElement(hE,{className:l.path,counterClockwise:c,dashRatio:E*i,pathRadius:v,strokeWidth:p,style:d.path}),g?H.createElement("text",{className:l.text,style:d.text,x:Zm,y:Jm},g):null)},e.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},e}(H.Component);function JP(n){n.children;var e=KP(n,["children"]);return H.createElement("div",{"data-test-id":"CircularProgressbarWithChildren"},H.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},H.createElement(ZP,Wm({},e)),n.children?H.createElement("div",{"data-test-id":"CircularProgressbarWithChildren__children",style:{position:"absolute",width:"100%",height:"100%",marginTop:"-100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},n.children):null))}function eV(n){var e=n.rotation,t=n.strokeLinecap,i=n.textColor,a=n.textSize,l=n.pathColor,c=n.pathTransition,d=n.pathTransitionDuration,p=n.trailColor,g=n.backgroundColor,v=e==null?void 0:"rotate("+e+"turn)",E=e==null?void 0:"center center";return{root:{},path:xf({stroke:l,strokeLinecap:t,transform:v,transformOrigin:E,transition:c,transitionDuration:d==null?void 0:d+"s"}),trail:xf({stroke:p,strokeLinecap:t,transform:v,transformOrigin:E}),text:xf({fill:i,fontSize:a}),background:xf({fill:g})}}function xf(n){return Object.keys(n).forEach(function(e){n[e]==null&&delete n[e]}),n}const tV=({count:n,style:e})=>{const t=1/n;return j.jsx(j.Fragment,{children:Array.from({length:n}).map((i,a)=>j.jsx("div",{style:{position:"absolute",height:"100%",transform:`rotate(${a*t}turn)`},children:j.jsx("div",{style:{...e,marginLeft:"auto",marginRight:"auto"}})},a))})},nV=({completed:n,total:e})=>{const t=n/e*100;return j.jsx("div",{style:{width:60,height:60},children:j.jsx(JP,{value:t,text:`${Math.round(t)}%`,strokeWidth:10,styles:eV({pathColor:"#3e2723",trailColor:"#c4a484",textColor:"#3e2723",strokeLinecap:"butt"}),children:j.jsx(tV,{count:10,style:{background:"#fff",width:"2px",height:"10%"}})})})},rV=()=>{const{t:n}=pr(),{uid:e}=Di(),[t,i]=H.useState(Af);H.useEffect(()=>{(async()=>{if(!e){console.log("Waiting for user ID..."),i(Af);return}try{const c=await yP(e);console.log(c),i(c||Af)}catch(c){console.error("Failed to load achievements:",c),i(Af)}})()},[e]);const a=async l=>{if(!e)return;const c=t.map(d=>({...d,tasks:d.tasks.map(p=>p.number===l?{...p,completed:!p.completed,updatedAt:Date.now()}:p)}));i(c),await vP(e,c)};return t.forEach(l=>{console.log("Section data:",l.title),console.log("Tasks in section:",l.tasks);const c=l.tasks.every(p=>p.completed);console.log(c);const d=l.title==="Brewing Basics"?"brew_master":l.title==="Global Coffee Tour"?"coffee_ambassador":l.title==="Creativity & Skills"?"flavor_alchemist":"";console.log(d),c&&mP(e,d)}),j.jsx("div",{className:"flex flex-col gap-6",children:t.map((l,c)=>{const d=l.tasks.length,p=l.tasks.filter(g=>g.completed).length;return j.jsxs("section",{children:[j.jsxs("div",{className:"flex justify-between items-center mb-6",children:[j.jsx("h2",{className:"text-2xl font-bold",children:n(`sectionsTasks.${l.title}`)}),j.jsx(nV,{completed:p,total:d})]}),j.jsx("ul",{className:"flex flex-col gap-6",children:l.tasks.map(g=>j.jsxs("li",{className:"flex items-center justify-between gap-4 p-4 rounded-xl shadow-[0_2px_8px_theme('colors.espresso')] text-espresso",children:[j.jsx("div",{className:"w-8 h-8 flex-shrink-0",onClick:()=>a(g.number),children:g.completed?j.jsx(Ym,{name:"icon-completed",size:32,className:"fill-active"}):j.jsx(Ym,{name:"icon-empty",size:32,className:"fill-latte"})}),j.jsxs("div",{className:"flex-1",children:[j.jsx("h3",{className:"text-lg font-semibold",children:n(`tasks.${g.number}.title`)}),j.jsx("p",{className:"text-base",children:n(`tasks.${g.number}.description`)})]}),j.jsx("p",{className:"italic font-bold text-right w-8",children:String(g.number).padStart(2,"0")})]},g.number))})]},c)})})},iV=()=>{const{t:n}=pr();return j.jsxs("div",{className:"p-4 flex flex-col gap-6",children:[j.jsxs("section",{className:"flex flex-col gap-2",children:[j.jsx("h3",{className:"text-espresso text-[22px] font-bold flex justify-center items-center",children:n("progress.title")}),j.jsx($P,{}),j.jsx(xP,{})]}),j.jsx("section",{children:j.jsx(rV,{})}),j.jsx("div",{children:"Community"})]})},sV=async n=>{try{const e=js(zs,"users",n),t=await $h(e);return t.exists()?t.data():(console.warn("No user document found for UID:",n),null)}catch(e){return console.error("Error fetching user data:",e),null}},aV=()=>{NO($w,async n=>{if(n)try{const e=await sV(n.uid);e&&(console.log("User data:",e),Di.getState().setUser(e))}catch(e){console.error("Error fetching user data:",e),at.error("Failed to fetch user data.")}})};function oV(){return H.useEffect(()=>{aV()},[]),j.jsxs("div",{children:[j.jsx(Rx,{children:j.jsxs(ms,{path:"/",element:j.jsx(C2,{}),children:[j.jsx(ms,{index:!0,element:j.jsx("div",{children:"Home"})}),j.jsx(ms,{path:"/register",element:j.jsx(TP,{})}),j.jsx(ms,{path:"/login",element:j.jsx(SP,{})}),j.jsx(ms,{path:"/settings",element:j.jsx(N2,{})}),j.jsx(ms,{path:"/dashboard",element:j.jsx(iV,{})}),j.jsx(ms,{path:"*",element:j.jsx("div",{children:"Not found"})})]})}),j.jsx(KR,{position:"top-center",autoClose:1e4})]})}const Ve=n=>typeof n=="string",fu=()=>{let n,e;const t=new Promise((i,a)=>{n=i,e=a});return t.resolve=n,t.reject=e,t},dE=n=>n==null?"":""+n,lV=(n,e,t)=>{n.forEach(i=>{e[i]&&(t[i]=e[i])})},uV=/###/g,pE=n=>n&&n.indexOf("###")>-1?n.replace(uV,"."):n,mE=n=>!n||Ve(n),Eu=(n,e,t)=>{const i=Ve(e)?e.split("."):e;let a=0;for(;a<i.length-1;){if(mE(n))return{};const l=pE(i[a]);!n[l]&&t&&(n[l]=new t),Object.prototype.hasOwnProperty.call(n,l)?n=n[l]:n={},++a}return mE(n)?{}:{obj:n,k:pE(i[a])}},gE=(n,e,t)=>{const{obj:i,k:a}=Eu(n,e,Object);if(i!==void 0||e.length===1){i[a]=t;return}let l=e[e.length-1],c=e.slice(0,e.length-1),d=Eu(n,c,Object);for(;d.obj===void 0&&c.length;)l=`${c[c.length-1]}.${l}`,c=c.slice(0,c.length-1),d=Eu(n,c,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=t},cV=(n,e,t,i)=>{const{obj:a,k:l}=Eu(n,e,Object);a[l]=a[l]||[],a[l].push(t)},hh=(n,e)=>{const{obj:t,k:i}=Eu(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i]},fV=(n,e,t)=>{const i=hh(n,t);return i!==void 0?i:hh(e,t)},Ww=(n,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?Ve(n[i])||n[i]instanceof String||Ve(e[i])||e[i]instanceof String?t&&(n[i]=e[i]):Ww(n[i],e[i],t):n[i]=e[i]);return n},Co=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var hV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const dV=n=>Ve(n)?n.replace(/[&<>"'\/]/g,e=>hV[e]):n;class pV{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const mV=[" ",",","?","!",";"],gV=new pV(20),yV=(n,e,t)=>{e=e||"",t=t||"";const i=mV.filter(c=>e.indexOf(c)<0&&t.indexOf(c)<0);if(i.length===0)return!0;const a=gV.getRegExp(`(${i.map(c=>c==="?"?"\\?":c).join("|")})`);let l=!a.test(n);if(!l){const c=n.indexOf(t);c>0&&!a.test(n.substring(0,c))&&(l=!0)}return l},eg=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const i=e.split(t);let a=n;for(let l=0;l<i.length;){if(!a||typeof a!="object")return;let c,d="";for(let p=l;p<i.length;++p)if(p!==l&&(d+=t),d+=i[p],c=a[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&p<i.length-1)continue;l+=p-l+1;break}a=c}return a},dh=n=>n==null?void 0:n.replace("_","-"),vV={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,i;(i=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||i.call(t,console,e)}};class ph{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||vV,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,a){return a&&!this.debug?null:(Ve(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new ph(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ph(this.logger,e)}}var Lr=new ph;class Kh{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const a=this.observers[i].get(t)||0;this.observers[i].set(t,a+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(c=>{let[d,p]=c;for(let g=0;g<p;g++)d(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(c=>{let[d,p]=c;for(let g=0;g<p;g++)d.apply(d,[e,...i])})}}class yE extends Kh{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){var g,v;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],i&&(Array.isArray(i)?d.push(...i):Ve(i)&&l?d.push(...i.split(l)):d.push(i)));const p=hh(this.data,d);return!p&&!t&&!i&&e.indexOf(".")>-1&&(e=d[0],t=d[1],i=d.slice(2).join(".")),p||!c||!Ve(i)?p:eg((v=(g=this.data)==null?void 0:g[e])==null?void 0:v[t],i,l)}addResource(e,t,i,a){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[e,t];i&&(d=d.concat(c?i.split(c):i)),e.indexOf(".")>-1&&(d=e.split("."),a=t,t=d[1]),this.addNamespaces(t),gE(this.data,d,a),l.silent||this.emit("added",e,t,i,a)}addResources(e,t,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const l in i)(Ve(i[l])||Array.isArray(i[l]))&&this.addResource(e,t,l,i[l],{silent:!0});a.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,a,l){let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),a=i,i=t,t=d[1]),this.addNamespaces(t);let p=hh(this.data,d)||{};c.skipCopy||(i=JSON.parse(JSON.stringify(i))),a?Ww(p,i,l):p={...p,...i},gE(this.data,d,p),c.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(a=>t[a]&&Object.keys(t[a]).length>0)}toJSON(){return this.data}}var Zw={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,a){return n.forEach(l=>{var c;e=((c=this.processors[l])==null?void 0:c.process(e,t,i,a))??e}),e}};const vE={},_E=n=>!Ve(n)&&typeof n!="boolean"&&typeof n!="number";class mh extends Kh{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),lV(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Lr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,t);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let l=t.ns||this.options.defaultNS||[];const c=i&&e.indexOf(i)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!yV(e,i,a);if(c&&!d){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:Ve(l)?[l]:l};const g=e.split(i);(i!==a||i===a&&this.options.ns.indexOf(g[0])>-1)&&(l=g.shift()),e=g.join(a)}return{key:e,namespaces:Ve(l)?[l]:l}}translate(e,t,i){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,l=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(e[e.length-1],t),p=d[d.length-1],g=t.lng||this.language,v=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((g==null?void 0:g.toLowerCase())==="cimode"){if(v){const P=t.nsSeparator||this.options.nsSeparator;return a?{res:`${p}${P}${c}`,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:p,usedParams:this.getUsedParamsDetails(t)}:`${p}${P}${c}`}return a?{res:c,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:p,usedParams:this.getUsedParamsDetails(t)}:c}const E=this.resolve(e,t);let T=E==null?void 0:E.res;const R=(E==null?void 0:E.usedKey)||c,O=(E==null?void 0:E.exactUsedKey)||c,M=["[object Number]","[object Function]","[object RegExp]"],k=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,$=!this.i18nFormat||this.i18nFormat.handleAsObject,B=t.count!==void 0&&!Ve(t.count),G=mh.hasDefaultValue(t),re=B?this.pluralResolver.getSuffix(g,t.count,t):"",ie=t.ordinal&&B?this.pluralResolver.getSuffix(g,t.count,{ordinal:!1}):"",de=B&&!t.ordinal&&t.count===0,D=de&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${re}`]||t[`defaultValue${ie}`]||t.defaultValue;let x=T;$&&!T&&G&&(x=D);const A=_E(x),C=Object.prototype.toString.apply(x);if($&&x&&A&&M.indexOf(C)<0&&!(Ve(k)&&Array.isArray(x))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const P=this.options.returnedObjectHandler?this.options.returnedObjectHandler(R,x,{...t,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(E.res=P,E.usedParams=this.getUsedParamsDetails(t),E):P}if(l){const P=Array.isArray(x),V=P?[]:{},I=P?O:R;for(const xe in x)if(Object.prototype.hasOwnProperty.call(x,xe)){const Ce=`${I}${l}${xe}`;G&&!T?V[xe]=this.translate(Ce,{...t,defaultValue:_E(D)?D[xe]:void 0,joinArrays:!1,ns:d}):V[xe]=this.translate(Ce,{...t,joinArrays:!1,ns:d}),V[xe]===Ce&&(V[xe]=x[xe])}T=V}}else if($&&Ve(k)&&Array.isArray(T))T=T.join(k),T&&(T=this.extendTranslation(T,e,t,i));else{let P=!1,V=!1;!this.isValidLookup(T)&&G&&(P=!0,T=D),this.isValidLookup(T)||(V=!0,T=c);const xe=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&V?void 0:T,Ce=G&&D!==T&&this.options.updateMissing;if(V||P||Ce){if(this.logger.log(Ce?"updateKey":"missingKey",g,p,c,Ce?D:T),l){const Ie=this.resolve(c,{...t,keySeparator:!1});Ie&&Ie.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let le=[];const ge=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ge&&ge[0])for(let Ie=0;Ie<ge.length;Ie++)le.push(ge[Ie]);else this.options.saveMissingTo==="all"?le=this.languageUtils.toResolveHierarchy(t.lng||this.language):le.push(t.lng||this.language);const ye=(Ie,L,se)=>{var pe;const be=G&&se!==T?se:xe;this.options.missingKeyHandler?this.options.missingKeyHandler(Ie,p,L,be,Ce,t):(pe=this.backendConnector)!=null&&pe.saveMissing&&this.backendConnector.saveMissing(Ie,p,L,be,Ce,t),this.emit("missingKey",Ie,p,L,T)};this.options.saveMissing&&(this.options.saveMissingPlurals&&B?le.forEach(Ie=>{const L=this.pluralResolver.getSuffixes(Ie,t);de&&t[`defaultValue${this.options.pluralSeparator}zero`]&&L.indexOf(`${this.options.pluralSeparator}zero`)<0&&L.push(`${this.options.pluralSeparator}zero`),L.forEach(se=>{ye([Ie],c+se,t[`defaultValue${se}`]||D)})}):ye(le,c,D))}T=this.extendTranslation(T,e,t,E,i),V&&T===c&&this.options.appendNamespaceToMissingKey&&(T=`${p}:${c}`),(V||P)&&this.options.parseMissingKeyHandler&&(T=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}:${c}`:c,P?T:void 0))}return a?(E.res=T,E.usedParams=this.getUsedParamsDetails(t),E):T}extendTranslation(e,t,i,a,l){var g,v;var c=this;if((g=this.i18nFormat)!=null&&g.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const E=Ve(e)&&(((v=i==null?void 0:i.interpolation)==null?void 0:v.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let T;if(E){const O=e.match(this.interpolator.nestingRegexp);T=O&&O.length}let R=i.replace&&!Ve(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(R={...this.options.interpolation.defaultVariables,...R}),e=this.interpolator.interpolate(e,R,i.lng||this.language||a.usedLng,i),E){const O=e.match(this.interpolator.nestingRegexp),M=O&&O.length;T<M&&(i.nest=!1)}!i.lng&&a&&a.res&&(i.lng=this.language||a.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var O=arguments.length,M=new Array(O),k=0;k<O;k++)M[k]=arguments[k];return(l==null?void 0:l[0])===M[0]&&!i.context?(c.logger.warn(`It seems you are nesting recursively key: ${M[0]} in key: ${t[0]}`),null):c.translate(...M,t)},i)),i.interpolation&&this.interpolator.reset()}const d=i.postProcess||this.options.postProcess,p=Ve(d)?[d]:d;return e!=null&&(p!=null&&p.length)&&i.applyPostProcessor!==!1&&(e=Zw.handle(p,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,a,l,c,d;return Ve(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(i))return;const g=this.extractFromKey(p,t),v=g.key;a=v;let E=g.namespaces;this.options.fallbackNS&&(E=E.concat(this.options.fallbackNS));const T=t.count!==void 0&&!Ve(t.count),R=T&&!t.ordinal&&t.count===0,O=t.context!==void 0&&(Ve(t.context)||typeof t.context=="number")&&t.context!=="",M=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);E.forEach(k=>{var $,B;this.isValidLookup(i)||(d=k,!vE[`${M[0]}-${k}`]&&(($=this.utils)!=null&&$.hasLoadedNamespace)&&!((B=this.utils)!=null&&B.hasLoadedNamespace(d))&&(vE[`${M[0]}-${k}`]=!0,this.logger.warn(`key "${a}" for languages "${M.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),M.forEach(G=>{var de;if(this.isValidLookup(i))return;c=G;const re=[v];if((de=this.i18nFormat)!=null&&de.addLookupKeys)this.i18nFormat.addLookupKeys(re,v,G,k,t);else{let D;T&&(D=this.pluralResolver.getSuffix(G,t.count,t));const x=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(T&&(re.push(v+D),t.ordinal&&D.indexOf(A)===0&&re.push(v+D.replace(A,this.options.pluralSeparator)),R&&re.push(v+x)),O){const C=`${v}${this.options.contextSeparator}${t.context}`;re.push(C),T&&(re.push(C+D),t.ordinal&&D.indexOf(A)===0&&re.push(C+D.replace(A,this.options.pluralSeparator)),R&&re.push(C+x))}}let ie;for(;ie=re.pop();)this.isValidLookup(i)||(l=ie,i=this.getResource(G,k,ie,t))}))})}),{res:i,usedKey:a,exactUsedKey:l,usedLng:c,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i){var l;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(l=this.i18nFormat)!=null&&l.getResource?this.i18nFormat.getResource(e,t,i,a):this.resourceStore.getResource(e,t,i,a)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!Ve(e.replace);let a=i?e.replace:e;if(i&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!i){a={...a};for(const l of t)delete a[l]}return a}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}class bE{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Lr.create("languageUtils")}getScriptPartFromCode(e){if(e=dh(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=dh(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Ve(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const a=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(a))&&(t=a)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const a=this.getLanguagePartFromCode(i);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Ve(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],l=c=>{c&&(this.isSupportedCode(c)?a.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return Ve(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):Ve(e)&&l(this.formatLanguageCode(e)),i.forEach(c=>{a.indexOf(c)<0&&l(this.formatLanguageCode(c))}),a}}const EE={zero:0,one:1,two:2,few:3,many:4,other:5},TE={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class _V{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Lr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=dh(e==="dev"?"en":e),a=t.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:i,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let c;try{c=new Intl.PluralRules(i,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),TE;if(!e.match(/-|_/))return TE;const p=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(p,t)}return this.pluralRulesCache[l]=c,c}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),(i==null?void 0:i.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(a=>`${t}${a}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?i.resolvedOptions().pluralCategories.sort((a,l)=>EE[a]-EE[l]).map(a=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(e,i);return a?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}}const wE=function(n,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=fV(n,e,t);return!l&&a&&Ve(t)&&(l=eg(n,t,i),l===void 0&&(l=eg(e,t,i))),l},hm=n=>n.replace(/\$/g,"$$$$");class bV{constructor(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Lr.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(i=>i),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:a,prefix:l,prefixEscaped:c,suffix:d,suffixEscaped:p,formatSeparator:g,unescapeSuffix:v,unescapePrefix:E,nestingPrefix:T,nestingPrefixEscaped:R,nestingSuffix:O,nestingSuffixEscaped:M,nestingOptionsSeparator:k,maxReplaces:$,alwaysFormat:B}=e.interpolation;this.escape=t!==void 0?t:dV,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?Co(l):c||"{{",this.suffix=d?Co(d):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=v?"":E||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=T?Co(T):R||Co("$t("),this.nestingSuffix=O?Co(O):M||Co(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=$||1e3,this.alwaysFormat=B!==void 0?B:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>(t==null?void 0:t.source)===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,i,a){var R;let l,c,d;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=O=>{if(O.indexOf(this.formatSeparator)<0){const B=wE(t,p,O,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(B,void 0,i,{...a,...t,interpolationkey:O}):B}const M=O.split(this.formatSeparator),k=M.shift().trim(),$=M.join(this.formatSeparator).trim();return this.format(wE(t,p,k,this.options.keySeparator,this.options.ignoreJSONStructure),$,i,{...a,...t,interpolationkey:k})};this.resetRegExp();const v=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,E=((R=a==null?void 0:a.interpolation)==null?void 0:R.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:O=>hm(O)},{regex:this.regexp,safeValue:O=>this.escapeValue?hm(this.escape(O)):hm(O)}].forEach(O=>{for(d=0;l=O.regex.exec(e);){const M=l[1].trim();if(c=g(M),c===void 0)if(typeof v=="function"){const $=v(e,l,a);c=Ve($)?$:""}else if(a&&Object.prototype.hasOwnProperty.call(a,M))c="";else if(E){c=l[0];continue}else this.logger.warn(`missed to pass in variable ${M} for interpolating ${e}`),c="";else!Ve(c)&&!this.useRawValueToEscape&&(c=dE(c));const k=O.safeValue(c);if(e=e.replace(l[0],k),E?(O.regex.lastIndex+=c.length,O.regex.lastIndex-=l[0].length):O.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,l,c;const d=(p,g)=>{const v=this.nestingOptionsSeparator;if(p.indexOf(v)<0)return p;const E=p.split(new RegExp(`${v}[ ]*{`));let T=`{${E[1]}`;p=E[0],T=this.interpolate(T,c);const R=T.match(/'/g),O=T.match(/"/g);(((R==null?void 0:R.length)??0)%2===0&&!O||O.length%2!==0)&&(T=T.replace(/'/g,'"'));try{c=JSON.parse(T),g&&(c={...g,...c})}catch(M){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,M),`${p}${v}${T}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,p};for(;a=this.nestingRegexp.exec(e);){let p=[];c={...i},c=c.replace&&!Ve(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;let g=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const v=a[1].split(this.formatSeparator).map(E=>E.trim());a[1]=v.shift(),p=v,g=!0}if(l=t(d.call(this,a[1].trim(),c),c),l&&a[0]===e&&!Ve(l))return l;Ve(l)||(l=dE(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),l=""),g&&(l=p.reduce((v,E)=>this.format(v,E,i.lng,{...i,interpolationkey:a[1].trim()}),l.trim())),e=e.replace(a[0],l),this.regexp.lastIndex=0}return e}}const EV=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const a=i[1].substring(0,i[1].length-1);e==="currency"&&a.indexOf(":")<0?t.currency||(t.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?t.range||(t.range=a.trim()):a.split(";").forEach(c=>{if(c){const[d,...p]=c.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),v=d.trim();t[v]||(t[v]=g),g==="false"&&(t[v]=!1),g==="true"&&(t[v]=!0),isNaN(g)||(t[v]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},Io=n=>{const e={};return(t,i,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const c=i+JSON.stringify(l);let d=e[c];return d||(d=n(dh(i),a),e[c]=d),d(t)}};class TV{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Lr.create("formatter"),this.options=e,this.formats={number:Io((t,i)=>{const a=new Intl.NumberFormat(t,{...i});return l=>a.format(l)}),currency:Io((t,i)=>{const a=new Intl.NumberFormat(t,{...i,style:"currency"});return l=>a.format(l)}),datetime:Io((t,i)=>{const a=new Intl.DateTimeFormat(t,{...i});return l=>a.format(l)}),relativetime:Io((t,i)=>{const a=new Intl.RelativeTimeFormat(t,{...i});return l=>a.format(l,i.range||"day")}),list:Io((t,i)=>{const a=new Intl.ListFormat(t,{...i});return l=>a.format(l)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Io(t)}format(e,t,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=t.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(p=>p.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,p)=>{var E;const{formatName:g,formatOptions:v}=EV(p);if(this.formats[g]){let T=d;try{const R=((E=a==null?void 0:a.formatParams)==null?void 0:E[a.interpolationkey])||{},O=R.locale||R.lng||a.locale||a.lng||i;T=this.formats[g](d,O,{...v,...a,...R})}catch(R){this.logger.warn(R)}return T}else this.logger.warn(`there was no format function for ${g}`);return d},e)}}const wV=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class SV extends Kh{constructor(e,t,i){var l,c;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=a,this.logger=Lr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(c=(l=this.backend)==null?void 0:l.init)==null||c.call(l,i,a.backend,a)}queueLoad(e,t,i,a){const l={},c={},d={},p={};return e.forEach(g=>{let v=!0;t.forEach(E=>{const T=`${g}|${E}`;!i.reload&&this.store.hasResourceBundle(g,E)?this.state[T]=2:this.state[T]<0||(this.state[T]===1?c[T]===void 0&&(c[T]=!0):(this.state[T]=1,v=!1,c[T]===void 0&&(c[T]=!0),l[T]===void 0&&(l[T]=!0),p[E]===void 0&&(p[E]=!0)))}),v||(d[g]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(p)}}loaded(e,t,i){const a=e.split("|"),l=a[0],c=a[1];t&&this.emit("failedLoading",l,c,t),!t&&i&&this.store.addResourceBundle(l,c,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const d={};this.queue.forEach(p=>{cV(p.loaded,[l],c),wV(p,e),t&&p.errors.push(t),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{d[g]||(d[g]={});const v=p.loaded[g];v.length&&v.forEach(E=>{d[g][E]===void 0&&(d[g][E]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(p=>!p.done)}read(e,t,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,c=arguments.length>5?arguments[5]:void 0;if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:a,wait:l,callback:c});return}this.readingCalls++;const d=(g,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const E=this.waitingReads.shift();this.read(E.lng,E.ns,E.fcName,E.tried,E.wait,E.callback)}if(g&&v&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,a+1,l*2,c)},l);return}c(g,v)},p=this.backend[i].bind(this.backend);if(p.length===2){try{const g=p(e,t);g&&typeof g.then=="function"?g.then(v=>d(null,v)).catch(d):d(null,g)}catch(g){d(g)}return}return p(e,t,d)}prepareLoading(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Ve(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ve(t)&&(t=[t]);const l=this.queueLoad(e,t,i,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(c=>{this.loadOne(c)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),a=i[0],l=i[1];this.read(a,l,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${t}loading namespace ${l} for language ${a} failed`,c),!c&&d&&this.logger.log(`${t}loaded namespace ${l} for language ${a}`,d),this.loaded(e,c,d)})}saveMissing(e,t,i,a,l){var p,g,v,E,T;let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace&&!((E=(v=this.services)==null?void 0:v.utils)!=null&&E.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if((T=this.backend)!=null&&T.create){const R={...c,isUpdate:l},O=this.backend.create.bind(this.backend);if(O.length<6)try{let M;O.length===5?M=O(e,t,i,a,R):M=O(e,t,i,a),M&&typeof M.then=="function"?M.then(k=>d(null,k)).catch(d):d(null,M)}catch(M){d(M)}else O(e,t,i,a,d,R)}!e||!e[0]||this.store.addResource(e[0],t,i,a)}}}const SE=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Ve(n[1])&&(e.defaultValue=n[1]),Ve(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),AE=n=>{var e,t;return Ve(n.ns)&&(n.ns=[n.ns]),Ve(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Ve(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Rf=()=>{},AV=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class ku extends Kh{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=AE(e),this.services={},this.logger=Lr,this.modules={external:[]},AV(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(i=t,t={}),t.defaultNS==null&&t.ns&&(Ve(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const a=SE();this.options={...a,...this.options,...AE(t)},this.options.interpolation={...a.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const l=v=>v?typeof v=="function"?new v:v:null;if(!this.options.isClone){this.modules.logger?Lr.init(l(this.modules.logger),this.options):Lr.init(null,this.options);let v;this.modules.formatter?v=this.modules.formatter:v=TV;const E=new bE(this.options);this.store=new yE(this.options.resources,this.options);const T=this.services;T.logger=Lr,T.resourceStore=this.store,T.languageUtils=E,T.pluralResolver=new _V(E,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),v&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(T.formatter=l(v),T.formatter.init(T,this.options),this.options.interpolation.format=T.formatter.format.bind(T.formatter)),T.interpolator=new bV(this.options),T.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},T.backendConnector=new SV(l(this.modules.backend),T.resourceStore,T,this.options),T.backendConnector.on("*",function(R){for(var O=arguments.length,M=new Array(O>1?O-1:0),k=1;k<O;k++)M[k-1]=arguments[k];e.emit(R,...M)}),this.modules.languageDetector&&(T.languageDetector=l(this.modules.languageDetector),T.languageDetector.init&&T.languageDetector.init(T,this.options.detection,this.options)),this.modules.i18nFormat&&(T.i18nFormat=l(this.modules.i18nFormat),T.i18nFormat.init&&T.i18nFormat.init(this)),this.translator=new mh(this.services,this.options),this.translator.on("*",function(R){for(var O=arguments.length,M=new Array(O>1?O-1:0),k=1;k<O;k++)M[k-1]=arguments[k];e.emit(R,...M)}),this.modules.external.forEach(R=>{R.init&&R.init(this)})}if(this.format=this.options.interpolation.format,i||(i=Rf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const v=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);v.length>0&&v[0]!=="dev"&&(this.options.lng=v[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(v=>{this[v]=function(){return e.store[v](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(v=>{this[v]=function(){return e.store[v](...arguments),e}});const p=fu(),g=()=>{const v=(E,T)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),p.resolve(T),i(E,T)};if(this.languages&&!this.isInitialized)return v(null,this.t.bind(this));this.changeLanguage(this.options.lng,v)};return this.options.resources||!this.options.initAsync?g():setTimeout(g,0),p}loadResources(e){var l,c;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rf;const a=Ve(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const d=[],p=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(E=>{E!=="cimode"&&d.indexOf(E)<0&&d.push(E)})};a?p(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(v=>p(v)),(c=(l=this.options.preload)==null?void 0:l.forEach)==null||c.call(l,g=>p(g)),this.services.backendConnector.load(d,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(g)})}else i(null)}reloadResources(e,t,i){const a=fu();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=Rf),this.services.backendConnector.reload(e,t,l=>{a.resolve(),i(l)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Zw.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;const a=fu();this.emit("languageChanging",e);const l=p=>{this.language=p,this.languages=this.services.languageUtils.toResolveHierarchy(p),this.resolvedLanguage=void 0,this.setResolvedLanguage(p)},c=(p,g)=>{g?(l(g),this.translator.changeLanguage(g),this.isLanguageChangingTo=void 0,this.emit("languageChanged",g),this.logger.log("languageChanged",g)):this.isLanguageChangingTo=void 0,a.resolve(function(){return i.t(...arguments)}),t&&t(p,function(){return i.t(...arguments)})},d=p=>{var v,E;!e&&!p&&this.services.languageDetector&&(p=[]);const g=Ve(p)?p:this.services.languageUtils.getBestMatchFromCodes(p);g&&(this.language||l(g),this.translator.language||this.translator.changeLanguage(g),(E=(v=this.services.languageDetector)==null?void 0:v.cacheUserLanguage)==null||E.call(v,g)),this.loadResources(g,T=>{c(T,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(e),a}getFixedT(e,t,i){var a=this;const l=function(c,d){let p;if(typeof d!="object"){for(var g=arguments.length,v=new Array(g>2?g-2:0),E=2;E<g;E++)v[E-2]=arguments[E];p=a.options.overloadTranslationOptionHandler([c,d].concat(v))}else p={...d};p.lng=p.lng||l.lng,p.lngs=p.lngs||l.lngs,p.ns=p.ns||l.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||i||l.keyPrefix);const T=a.options.keySeparator||".";let R;return p.keyPrefix&&Array.isArray(c)?R=c.map(O=>`${p.keyPrefix}${T}${O}`):R=p.keyPrefix?`${p.keyPrefix}${T}${c}`:c,a.t(R,p)};return Ve(e)?l.lng=e:l.lngs=e,l.ns=t,l.keyPrefix=i,l}t(){var a;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(a=this.translator)==null?void 0:a.translate(...t)}exists(){var a;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(a=this.translator)==null?void 0:a.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const c=(d,p)=>{const g=this.services.backendConnector.state[`${d}|${p}`];return g===-1||g===0||g===2};if(t.precheck){const d=t.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(i,e)&&(!a||c(l,e)))}loadNamespaces(e,t){const i=fu();return this.options.ns?(Ve(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{i.resolve(),t&&t(a)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=fu();Ve(e)&&(e=[e]);const a=this.options.preload||[],l=e.filter(c=>a.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return l.length?(this.options.preload=a.concat(l),this.loadResources(c=>{i.resolve(),t&&t(c)}),i):(t&&t(),Promise.resolve())}dir(e){var a,l;if(e||(e=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=((l=this.services)==null?void 0:l.languageUtils)||new bE(SE());return t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new ku(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rf;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},l=new ku(a);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},i){const d=Object.keys(this.store.data).reduce((p,g)=>(p[g]={...this.store.data[g]},Object.keys(p[g]).reduce((v,E)=>(v[E]={...p[g][E]},v),{})),{});l.store=new yE(d,a),l.services.resourceStore=l.store}return l.translator=new mh(l.services,a),l.translator.on("*",function(d){for(var p=arguments.length,g=new Array(p>1?p-1:0),v=1;v<p;v++)g[v-1]=arguments[v];l.emit(d,...g)}),l.init(a,t),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const gn=ku.createInstance();gn.createInstance=ku.createInstance;gn.createInstance;gn.dir;gn.init;gn.loadResources;gn.reloadResources;gn.use;gn.changeLanguage;gn.getFixedT;gn.t;gn.exists;gn.setDefaultNamespace;gn.hasLoadedNamespace;gn.loadNamespaces;gn.loadLanguages;const{slice:xV,forEach:RV}=[];function CV(n){return RV.call(xV.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}const xE=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,IV=function(n,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let l=`${n}=${a}`;if(i.maxAge>0){const c=i.maxAge-0;if(Number.isNaN(c))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(c)}`}if(i.domain){if(!xE.test(i.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${i.domain}`}if(i.path){if(!xE.test(i.path))throw new TypeError("option path is invalid");l+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l},RE={create(n,e,t,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+t*60*1e3)),i&&(a.domain=i),document.cookie=IV(n,encodeURIComponent(e),a)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let i=0;i<t.length;i++){let a=t[i];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(n){this.create(n,"",-1)}};var OV={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return RE.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:i,cookieDomain:a,cookieOptions:l}=e;t&&typeof document<"u"&&RE.create(t,n,i,a,l)}},DV={name:"querystring",lookup(n){var i;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((i=window.location.hash)==null?void 0:i.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const c=a.substring(1).split("&");for(let d=0;d<c.length;d++){const p=c[d].indexOf("=");p>0&&c[d].substring(0,p)===e&&(t=c[d].substring(p+1))}}return t}};let Oo=null;const CE=()=>{if(Oo!==null)return Oo;try{if(Oo=typeof window<"u"&&window.localStorage!==null,!Oo)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Oo=!1}return Oo};var NV={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&CE())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&CE()&&window.localStorage.setItem(t,n)}};let Do=null;const IE=()=>{if(Do!==null)return Do;try{if(Do=typeof window<"u"&&window.sessionStorage!==null,!Do)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{Do=!1}return Do};var kV={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&IE())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&IE()&&window.sessionStorage.setItem(t,n)}},PV={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:i,language:a}=navigator;if(t)for(let l=0;l<t.length;l++)e.push(t[l]);i&&e.push(i),a&&e.push(a)}return e.length>0?e:void 0}},VV={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(t=i.getAttribute("lang")),t}},LV={name:"path",lookup(n){var a;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(a=t[typeof e=="number"?e:0])==null?void 0:a.replace("/",""):void 0}},MV={name:"subdomain",lookup(n){var a,l;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,i=typeof window<"u"&&((l=(a=window.location)==null?void 0:a.hostname)==null?void 0:l.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(i)return i[t]}};let Jw=!1;try{document.cookie,Jw=!0}catch{}const eS=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Jw||eS.splice(1,1);const UV=()=>({order:eS,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class tS{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=CV(t,this.options||{},UV()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(OV),this.addDetector(DV),this.addDetector(NV),this.addDetector(kV),this.addDetector(PV),this.addDetector(VV),this.addDetector(LV),this.addDetector(MV)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(i=>{if(this.detectors[i]){let a=this.detectors[i].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(t=t.concat(a))}}),t=t.map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}tS.type="languageDetector";function tg(n){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(n)}function nS(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":tg(XMLHttpRequest))==="object"}function jV(n){return!!n&&typeof n.then=="function"}function zV(n){return jV(n)?n:Promise.resolve(n)}const BV="modulepreload",FV=function(n){return"/30-day-coffee-challenge/"+n},OE={},HV=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=Promise.allSettled(t.map(p=>{if(p=FV(p),p in OE)return;OE[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const E=document.createElement("link");if(E.rel=g?"stylesheet":BV,g||(E.as="script"),E.crossOrigin="",E.href=p,d&&E.setAttribute("nonce",d),document.head.appendChild(E),g)return new Promise((T,R)=>{E.addEventListener("load",T),E.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};function DE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function NE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DE(Object(t),!0).forEach(function(i){qV(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function qV(n,e,t){return(e=$V(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $V(n){var e=GV(n,"string");return Da(e)=="symbol"?e:e+""}function GV(n,e){if(Da(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Da(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Da(n){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(n)}var Ls=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?Ls=global.fetch:typeof window<"u"&&window.fetch&&(Ls=window.fetch);var Pu;nS()&&(typeof global<"u"&&global.XMLHttpRequest?Pu=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Pu=window.XMLHttpRequest));var gh;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?gh=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(gh=window.ActiveXObject));typeof Ls!="function"&&(Ls=void 0);if(!Ls&&!Pu&&!gh)try{HV(()=>import("./browser-ponyfill-WOb4tYGK.js").then(n=>n.b),[]).then(function(n){Ls=n.default}).catch(function(){})}catch{}var ng=function(e,t){if(t&&Da(t)==="object"){var i="";for(var a in t)i+="&"+encodeURIComponent(a)+"="+encodeURIComponent(t[a]);if(!i)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+i.slice(1)}return e},kE=function(e,t,i,a){var l=function(p){if(!p.ok)return i(p.statusText||"Error",{status:p.status});p.text().then(function(g){i(null,{status:p.status,data:g})}).catch(i)};if(a){var c=a(e,t);if(c instanceof Promise){c.then(l).catch(i);return}}typeof fetch=="function"?fetch(e,t).then(l).catch(i):Ls(e,t).then(l).catch(i)},PE=!1,KV=function(e,t,i,a){e.queryStringParams&&(t=ng(t,e.queryStringParams));var l=NE({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(l["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),i&&(l["Content-Type"]="application/json");var c=typeof e.requestOptions=="function"?e.requestOptions(i):e.requestOptions,d=NE({method:i?"POST":"GET",body:i?e.stringify(i):void 0,headers:l},PE?{}:c),p=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{kE(t,d,a,p)}catch(g){if(!c||Object.keys(c).length===0||!g.message||g.message.indexOf("not implemented")<0)return a(g);try{Object.keys(c).forEach(function(v){delete d[v]}),kE(t,d,a,p),PE=!0}catch(v){a(v)}}},QV=function(e,t,i,a){i&&Da(i)==="object"&&(i=ng("",i).slice(1)),e.queryStringParams&&(t=ng(t,e.queryStringParams));try{var l=Pu?new Pu:new gh("MSXML2.XMLHTTP.3.0");l.open(i?"POST":"GET",t,1),e.crossDomain||l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.withCredentials=!!e.withCredentials,i&&l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.overrideMimeType&&l.overrideMimeType("application/json");var c=e.customHeaders;if(c=typeof c=="function"?c():c,c)for(var d in c)l.setRequestHeader(d,c[d]);l.onreadystatechange=function(){l.readyState>3&&a(l.status>=400?l.statusText:null,{status:l.status,data:l.responseText})},l.send(i)}catch(p){console&&console.log(p)}},YV=function(e,t,i,a){if(typeof i=="function"&&(a=i,i=void 0),a=a||function(){},Ls&&t.indexOf("file:")!==0)return KV(e,t,i,a);if(nS()||typeof ActiveXObject=="function")return QV(e,t,i,a);a(new Error("No fetch and no xhr implementation found!"))};function Yo(n){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(n)}function VE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function dm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(t),!0).forEach(function(i){rS(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function XV(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function WV(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,iS(i.key),i)}}function ZV(n,e,t){return e&&WV(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function rS(n,e,t){return(e=iS(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iS(n){var e=JV(n,"string");return Yo(e)=="symbol"?e:e+""}function JV(n,e){if(Yo(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Yo(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var eL=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,i,a){return rS({},i,a||"")},parseLoadPayload:function(t,i){},request:YV,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},sS=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};XV(this,n),this.services=e,this.options=t,this.allOptions=i,this.type="backend",this.init(e,t,i)}return ZV(n,[{key:"init",value:function(t){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=t,this.options=dm(dm(dm({},eL()),this.options||{}),a),this.allOptions=l,this.services&&this.options.reloadInterval){var c=setInterval(function(){return i.reload()},this.options.reloadInterval);Yo(c)==="object"&&typeof c.unref=="function"&&c.unref()}}},{key:"readMulti",value:function(t,i,a){this._readAny(t,t,i,i,a)}},{key:"read",value:function(t,i,a){this._readAny([t],t,[i],i,a)}},{key:"_readAny",value:function(t,i,a,l,c){var d=this,p=this.options.loadPath;typeof this.options.loadPath=="function"&&(p=this.options.loadPath(t,a)),p=zV(p),p.then(function(g){if(!g)return c(null,{});var v=d.services.interpolator.interpolate(g,{lng:t.join("+"),ns:a.join("+")});d.loadUrl(v,c,i,l)})}},{key:"loadUrl",value:function(t,i,a,l){var c=this,d=typeof a=="string"?[a]:a,p=typeof l=="string"?[l]:l,g=this.options.parseLoadPayload(d,p);this.options.request(this.options,t,g,function(v,E){if(E&&(E.status>=500&&E.status<600||!E.status))return i("failed loading "+t+"; status code: "+E.status,!0);if(E&&E.status>=400&&E.status<500)return i("failed loading "+t+"; status code: "+E.status,!1);if(!E&&v&&v.message){var T=v.message.toLowerCase(),R=["failed","fetch","network","load"].find(function(k){return T.indexOf(k)>-1});if(R)return i("failed loading "+t+": "+v.message,!0)}if(v)return i(v,!1);var O,M;try{typeof E.data=="string"?O=c.options.parse(E.data,a,l):O=E.data}catch{M="failed parsing "+t+" to json"}if(M)return i(M,!1);i(null,O)})}},{key:"create",value:function(t,i,a,l,c){var d=this;if(this.options.addPath){typeof t=="string"&&(t=[t]);var p=this.options.parsePayload(i,a,l),g=0,v=[],E=[];t.forEach(function(T){var R=d.options.addPath;typeof d.options.addPath=="function"&&(R=d.options.addPath(T,i));var O=d.services.interpolator.interpolate(R,{lng:T,ns:i});d.options.request(d.options,O,p,function(M,k){g+=1,v.push(M),E.push(k),g===t.length&&typeof c=="function"&&c(v,E)})})}}},{key:"reload",value:function(){var t=this,i=this.services,a=i.backendConnector,l=i.languageUtils,c=i.logger,d=a.language;if(!(d&&d.toLowerCase()==="cimode")){var p=[],g=function(E){var T=l.toResolveHierarchy(E);T.forEach(function(R){p.indexOf(R)<0&&p.push(R)})};g(d),this.allOptions.preload&&this.allOptions.preload.forEach(function(v){return g(v)}),p.forEach(function(v){t.allOptions.ns.forEach(function(E){a.read(v,E,"read",null,null,function(T,R){T&&c.warn("loading namespace ".concat(E," for language ").concat(v," failed"),T),!T&&R&&c.log("loaded namespace ".concat(E," for language ").concat(v),R),a.loaded("".concat(v,"|").concat(E),T,R)})})})}}}])}();sS.type="backend";gn.use(sS).use(tS).use(a2).init({supportedLngs:["en","pl"],fallbackLng:"pl",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","cookie"],caches:["localStorage"],lookupLocalStorage:"i18nextLng",excludeCacheFor:["cimode"]},backend:{loadPath:"/30-day-coffee-challenge/locales/{{lng}}/translation.json"}});hR.createRoot(document.getElementById("root")).render(j.jsx(H.StrictMode,{children:j.jsx(Wx,{basename:"/30-day-coffee-challenge",children:j.jsx(oV,{})})}));export{tL as c,OA as g};
